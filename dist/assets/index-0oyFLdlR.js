(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=t(a);fetch(a.href,u)}})();function fy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jh={exports:{}},wa={},zh={exports:{}},Ie={};var km;function BE(){if(km)return Ie;km=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function V(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Y={};function q(O,B,we){this.props=O,this.context=B,this.refs=Y,this.updater=we||j}q.prototype.isReactComponent={},q.prototype.setState=function(O,B){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,B,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function me(){}me.prototype=q.prototype;function ye(O,B,we){this.props=O,this.context=B,this.refs=Y,this.updater=we||j}var Ee=ye.prototype=new me;Ee.constructor=ye,X(Ee,q.prototype),Ee.isPureReactComponent=!0;var xe=Array.isArray,Be=Object.prototype.hasOwnProperty,Ne={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(O,B,we){var Te,Se={},Ae=null,be=null;if(B!=null)for(Te in B.ref!==void 0&&(be=B.ref),B.key!==void 0&&(Ae=""+B.key),B)Be.call(B,Te)&&!k.hasOwnProperty(Te)&&(Se[Te]=B[Te]);var Ve=arguments.length-2;if(Ve===1)Se.children=we;else if(1<Ve){for(var je=Array(Ve),Ut=0;Ut<Ve;Ut++)je[Ut]=arguments[Ut+2];Se.children=je}if(O&&O.defaultProps)for(Te in Ve=O.defaultProps,Ve)Se[Te]===void 0&&(Se[Te]=Ve[Te]);return{$$typeof:i,type:O,key:Ae,ref:be,props:Se,_owner:Ne.current}}function A(O,B){return{$$typeof:i,type:O.type,key:B,ref:O.ref,props:O.props,_owner:O._owner}}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function P(O){var B={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(we){return B[we]})}var x=/\/+/g;function S(O,B){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):B.toString(36)}function $e(O,B,we,Te,Se){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(Ae){case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case i:case e:be=!0}}if(be)return be=O,Se=Se(be),O=Te===""?"."+S(be,0):Te,xe(Se)?(we="",O!=null&&(we=O.replace(x,"$&/")+"/"),$e(Se,B,we,"",function(Ut){return Ut})):Se!=null&&(D(Se)&&(Se=A(Se,we+(!Se.key||be&&be.key===Se.key?"":(""+Se.key).replace(x,"$&/")+"/")+O)),B.push(Se)),1;if(be=0,Te=Te===""?".":Te+":",xe(O))for(var Ve=0;Ve<O.length;Ve++){Ae=O[Ve];var je=Te+S(Ae,Ve);be+=$e(Ae,B,we,je,Se)}else if(je=V(O),typeof je=="function")for(O=je.call(O),Ve=0;!(Ae=O.next()).done;)Ae=Ae.value,je=Te+S(Ae,Ve++),be+=$e(Ae,B,we,je,Se);else if(Ae==="object")throw B=String(O),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return be}function gt(O,B,we){if(O==null)return O;var Te=[],Se=0;return $e(O,Te,"","",function(Ae){return B.call(we,Ae,Se++)}),Te}function kt(O){if(O._status===-1){var B=O._result;B=B(),B.then(function(we){(O._status===0||O._status===-1)&&(O._status=1,O._result=we)},function(we){(O._status===0||O._status===-1)&&(O._status=2,O._result=we)}),O._status===-1&&(O._status=0,O._result=B)}if(O._status===1)return O._result.default;throw O._result}var Qe={current:null},J={transition:null},ae={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:J,ReactCurrentOwner:Ne};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:gt,forEach:function(O,B,we){gt(O,function(){B.apply(this,arguments)},we)},count:function(O){var B=0;return gt(O,function(){B++}),B},toArray:function(O){return gt(O,function(B){return B})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ie.Component=q,Ie.Fragment=t,Ie.Profiler=a,Ie.PureComponent=ye,Ie.StrictMode=s,Ie.Suspense=y,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ie.act=te,Ie.cloneElement=function(O,B,we){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Te=X({},O.props),Se=O.key,Ae=O.ref,be=O._owner;if(B!=null){if(B.ref!==void 0&&(Ae=B.ref,be=Ne.current),B.key!==void 0&&(Se=""+B.key),O.type&&O.type.defaultProps)var Ve=O.type.defaultProps;for(je in B)Be.call(B,je)&&!k.hasOwnProperty(je)&&(Te[je]=B[je]===void 0&&Ve!==void 0?Ve[je]:B[je])}var je=arguments.length-2;if(je===1)Te.children=we;else if(1<je){Ve=Array(je);for(var Ut=0;Ut<je;Ut++)Ve[Ut]=arguments[Ut+2];Te.children=Ve}return{$$typeof:i,type:O.type,key:Se,ref:Ae,props:Te,_owner:be}},Ie.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},Ie.createElement=I,Ie.createFactory=function(O){var B=I.bind(null,O);return B.type=O,B},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:m,render:O}},Ie.isValidElement=D,Ie.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:kt}},Ie.memo=function(O,B){return{$$typeof:v,type:O,compare:B===void 0?null:B}},Ie.startTransition=function(O){var B=J.transition;J.transition={};try{O()}finally{J.transition=B}},Ie.unstable_act=te,Ie.useCallback=function(O,B){return Qe.current.useCallback(O,B)},Ie.useContext=function(O){return Qe.current.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O){return Qe.current.useDeferredValue(O)},Ie.useEffect=function(O,B){return Qe.current.useEffect(O,B)},Ie.useId=function(){return Qe.current.useId()},Ie.useImperativeHandle=function(O,B,we){return Qe.current.useImperativeHandle(O,B,we)},Ie.useInsertionEffect=function(O,B){return Qe.current.useInsertionEffect(O,B)},Ie.useLayoutEffect=function(O,B){return Qe.current.useLayoutEffect(O,B)},Ie.useMemo=function(O,B){return Qe.current.useMemo(O,B)},Ie.useReducer=function(O,B,we){return Qe.current.useReducer(O,B,we)},Ie.useRef=function(O){return Qe.current.useRef(O)},Ie.useState=function(O){return Qe.current.useState(O)},Ie.useSyncExternalStore=function(O,B,we){return Qe.current.useSyncExternalStore(O,B,we)},Ie.useTransition=function(){return Qe.current.useTransition()},Ie.version="18.3.1",Ie}var Nm;function Pd(){return Nm||(Nm=1,zh.exports=BE()),zh.exports}var Dm;function $E(){if(Dm)return wa;Dm=1;var i=Pd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,y,v){var w,R={},V=null,j=null;v!==void 0&&(V=""+v),y.key!==void 0&&(V=""+y.key),y.ref!==void 0&&(j=y.ref);for(w in y)s.call(y,w)&&!u.hasOwnProperty(w)&&(R[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)R[w]===void 0&&(R[w]=y[w]);return{$$typeof:e,type:m,key:V,ref:j,props:R,_owner:a.current}}return wa.Fragment=t,wa.jsx=h,wa.jsxs=h,wa}var Vm;function HE(){return Vm||(Vm=1,jh.exports=$E()),jh.exports}var pe=HE(),Qt=Pd();const WE=fy(Qt);var _u={},Bh={exports:{}},Kt={},$h={exports:{}},Hh={};var Om;function qE(){return Om||(Om=1,(function(i){function e(J,ae){var te=J.length;J.push(ae);e:for(;0<te;){var O=te-1>>>1,B=J[O];if(0<a(B,ae))J[O]=ae,J[te]=B,te=O;else break e}}function t(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],te=J.pop();if(te!==ae){J[0]=te;e:for(var O=0,B=J.length,we=B>>>1;O<we;){var Te=2*(O+1)-1,Se=J[Te],Ae=Te+1,be=J[Ae];if(0>a(Se,te))Ae<B&&0>a(be,Se)?(J[O]=be,J[Ae]=te,O=Ae):(J[O]=Se,J[Te]=te,O=Te);else if(Ae<B&&0>a(be,te))J[O]=be,J[Ae]=te,O=Ae;else break e}}return ae}function a(J,ae){var te=J.sortIndex-ae.sortIndex;return te!==0?te:J.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],v=[],w=1,R=null,V=3,j=!1,X=!1,Y=!1,q=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ee(J){for(var ae=t(v);ae!==null;){if(ae.callback===null)s(v);else if(ae.startTime<=J)s(v),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=t(v)}}function xe(J){if(Y=!1,Ee(J),!X)if(t(y)!==null)X=!0,kt(Be);else{var ae=t(v);ae!==null&&Qe(xe,ae.startTime-J)}}function Be(J,ae){X=!1,Y&&(Y=!1,me(I),I=-1),j=!0;var te=V;try{for(Ee(ae),R=t(y);R!==null&&(!(R.expirationTime>ae)||J&&!P());){var O=R.callback;if(typeof O=="function"){R.callback=null,V=R.priorityLevel;var B=O(R.expirationTime<=ae);ae=i.unstable_now(),typeof B=="function"?R.callback=B:R===t(y)&&s(y),Ee(ae)}else s(y);R=t(y)}if(R!==null)var we=!0;else{var Te=t(v);Te!==null&&Qe(xe,Te.startTime-ae),we=!1}return we}finally{R=null,V=te,j=!1}}var Ne=!1,k=null,I=-1,A=5,D=-1;function P(){return!(i.unstable_now()-D<A)}function x(){if(k!==null){var J=i.unstable_now();D=J;var ae=!0;try{ae=k(!0,J)}finally{ae?S():(Ne=!1,k=null)}}else Ne=!1}var S;if(typeof ye=="function")S=function(){ye(x)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,gt=$e.port2;$e.port1.onmessage=x,S=function(){gt.postMessage(null)}}else S=function(){q(x,0)};function kt(J){k=J,Ne||(Ne=!0,S())}function Qe(J,ae){I=q(function(){J(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){X||j||(X=!0,kt(Be))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_getFirstCallbackNode=function(){return t(y)},i.unstable_next=function(J){switch(V){case 1:case 2:case 3:var ae=3;break;default:ae=V}var te=V;V=ae;try{return J()}finally{V=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var te=V;V=J;try{return ae()}finally{V=te}},i.unstable_scheduleCallback=function(J,ae,te){var O=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?O+te:O):te=O,J){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=te+B,J={id:w++,callback:ae,priorityLevel:J,startTime:te,expirationTime:B,sortIndex:-1},te>O?(J.sortIndex=te,e(v,J),t(y)===null&&J===t(v)&&(Y?(me(I),I=-1):Y=!0,Qe(xe,te-O))):(J.sortIndex=B,e(y,J),X||j||(X=!0,kt(Be))),J},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(J){var ae=V;return function(){var te=V;V=ae;try{return J.apply(this,arguments)}finally{V=te}}}})(Hh)),Hh}var xm;function KE(){return xm||(xm=1,$h.exports=qE()),$h.exports}var Lm;function GE(){if(Lm)return Kt;Lm=1;var i=Pd(),e=KE();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(a[n]=r,n=0;n<r.length;n++)s.add(r[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function V(n){return y.call(R,n)?!0:y.call(w,n)?!1:v.test(n)?R[n]=!0:(w[n]=!0,!1)}function j(n,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function X(n,r,o,c){if(r===null||typeof r>"u"||j(n,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Y(n,r,o,c,d,f,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=n,this.type=r,this.sanitizeURL=f,this.removeEmptyString=_}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){q[n]=new Y(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];q[r]=new Y(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){q[n]=new Y(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){q[n]=new Y(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){q[n]=new Y(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){q[n]=new Y(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){q[n]=new Y(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){q[n]=new Y(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){q[n]=new Y(n,5,!1,n.toLowerCase(),null,!1,!1)});var me=/[\-:]([a-z])/g;function ye(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(me,ye);q[r]=new Y(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(me,ye);q[r]=new Y(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(me,ye);q[r]=new Y(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){q[n]=new Y(n,1,!1,n.toLowerCase(),null,!1,!1)}),q.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){q[n]=new Y(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ee(n,r,o,c){var d=q.hasOwnProperty(r)?q[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(X(r,o,d,c)&&(o=null),c||d===null?V(r)&&(o===null?n.removeAttribute(r):n.setAttribute(r,""+o)):d.mustUseProperty?n[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,c=d.attributeNamespace,o===null?n.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?n.setAttributeNS(c,r,o):n.setAttribute(r,o))))}var xe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Be=Symbol.for("react.element"),Ne=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),P=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),J=Symbol.iterator;function ae(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var te=Object.assign,O;function B(n){if(O===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+n}var we=!1;function Te(n,r){if(!n||we)return"";we=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var c=F}Reflect.construct(n,[],r)}else{try{r.call()}catch(F){c=F}n.call(r.prototype)}else{try{throw Error()}catch(F){c=F}n()}}catch(F){if(F&&c&&typeof F.stack=="string"){for(var d=F.stack.split(`
`),f=c.stack.split(`
`),_=d.length-1,T=f.length-1;1<=_&&0<=T&&d[_]!==f[T];)T--;for(;1<=_&&0<=T;_--,T--)if(d[_]!==f[T]){if(_!==1||T!==1)do if(_--,T--,0>T||d[_]!==f[T]){var C=`
`+d[_].replace(" at new "," at ");return n.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",n.displayName)),C}while(1<=_&&0<=T);break}}}finally{we=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?B(n):""}function Se(n){switch(n.tag){case 5:return B(n.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return n=Te(n.type,!1),n;case 11:return n=Te(n.type.render,!1),n;case 1:return n=Te(n.type,!0),n;default:return""}}function Ae(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case Ne:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case $e:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case P:return(n.displayName||"Context")+".Consumer";case D:return(n._context.displayName||"Context")+".Provider";case x:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case gt:return r=n.displayName||null,r!==null?r:Ae(n.type)||"Memo";case kt:r=n._payload,n=n._init;try{return Ae(n(r))}catch{}}return null}function be(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ve(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function je(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ut(n){var r=je(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,f.call(this,_)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function fs(n){n._valueTracker||(n._valueTracker=Ut(n))}function Co(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=je(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function Vr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ps(n,r){var o=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function rl(n,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Ve(r.value!=null?r.value:o),n._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ms(n,r){r=r.checked,r!=null&&Ee(n,"checked",r,!1)}function Ci(n,r){ms(n,r);var o=Ve(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?at(n,r.type,o):r.hasOwnProperty("defaultValue")&&at(n,r.type,Ve(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Po(n,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,o||r===n.value||(n.value=r),n.defaultValue=r}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function at(n,r,o){(r!=="number"||Vr(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var rt=Array.isArray;function vn(n,r,o,c){if(n=n.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=r.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Ve(o),r=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function ko(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function No(n,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(t(92));if(rt(o)){if(1<o.length)throw Error(t(93));o=o[0]}r=o}r==null&&(r=""),o=r}n._wrapperState={initialValue:Ve(o)}}function il(n,r){var o=Ve(r.value),c=Ve(r.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),r.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),c!=null&&(n.defaultValue=""+c)}function Or(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function Do(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gs(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?Do(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var xr,sl=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,d){MSApp.execUnsafeLocalFunction(function(){return n(r,o,c,d)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=xr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Pi(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var Lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ol=["Webkit","ms","Moz","O"];Object.keys(Lr).forEach(function(n){ol.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),Lr[r]=Lr[n]})});function Mr(n,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Lr.hasOwnProperty(n)&&Lr[n]?(""+r).trim():r+"px"}function ys(n,r){n=n.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=Mr(o,r[o],c);o==="float"&&(o="cssFloat"),c?n.setProperty(o,d):n[o]=d}}var Vo=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function En(n,r){if(r){if(Vo[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function _s(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var br=null;function vs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var sr=null,or=null,tt=null;function Oo(n){if(n=oa(n)){if(typeof sr!="function")throw Error(t(280));var r=n.stateNode;r&&(r=Ol(r),sr(n.stateNode,n.type,r))}}function Fr(n){or?tt?tt.push(n):tt=[n]:or=n}function Ur(){if(or){var n=or,r=tt;if(tt=or=null,Oo(n),r)for(n=0;n<r.length;n++)Oo(r[n])}}function al(n,r){return n(r)}function ll(){}var Dn=!1;function ul(n,r,o){if(Dn)return n(r,o);Dn=!0;try{return al(n,r,o)}finally{Dn=!1,(or!==null||tt!==null)&&(ll(),Ur())}}function ki(n,r){var o=n.stateNode;if(o===null)return null;var c=Ol(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(t(231,r,typeof o));return o}var jr=!1;if(m)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){jr=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{jr=!1}function cl(n,r,o,c,d,f,_,T,C){var F=Array.prototype.slice.call(arguments,3);try{r.apply(o,F)}catch(H){this.onError(H)}}var ar=!1,Vn=null,Es=!1,ln=null,hl={onError:function(n){ar=!0,Vn=n}};function dl(n,r,o,c,d,f,_,T,C){ar=!1,Vn=null,cl.apply(hl,arguments)}function xo(n,r,o,c,d,f,_,T,C){if(dl.apply(this,arguments),ar){if(ar){var F=Vn;ar=!1,Vn=null}else throw Error(t(198));Es||(Es=!0,ln=F)}}function wn(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function Lo(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function fl(n){if(wn(n)!==n)throw Error(t(188))}function pl(n){var r=n.alternate;if(!r){if(r=wn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var o=n,c=r;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return fl(d),n;if(f===c)return fl(d),r;f=f.sibling}throw Error(t(188))}if(o.return!==c.return)o=d,c=f;else{for(var _=!1,T=d.child;T;){if(T===o){_=!0,o=d,c=f;break}if(T===c){_=!0,c=d,o=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===o){_=!0,o=f,c=d;break}if(T===c){_=!0,c=f,o=d;break}T=T.sibling}if(!_)throw Error(t(189))}}if(o.alternate!==c)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?n:r}function ml(n){return n=pl(n),n!==null?Ni(n):null}function Ni(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=Ni(n);if(r!==null)return r;n=n.sibling}return null}var Mo=e.unstable_scheduleCallback,ws=e.unstable_cancelCallback,Di=e.unstable_shouldYield,lr=e.unstable_requestPaint,We=e.unstable_now,yc=e.unstable_getCurrentPriorityLevel,Ts=e.unstable_ImmediatePriority,bo=e.unstable_UserBlockingPriority,Vi=e.unstable_NormalPriority,Fo=e.unstable_LowPriority,Is=e.unstable_IdlePriority,Oi=null,Xt=null;function gl(n){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Oi,n,void 0,(n.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:xi,On=Math.log,un=Math.LN2;function xi(n){return n>>>=0,n===0?32:31-(On(n)/un|0)|0}var xn=64,Br=4194304;function Me(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ur(n,r){var o=n.pendingLanes;if(o===0)return 0;var c=0,d=n.suspendedLanes,f=n.pingedLanes,_=o&268435455;if(_!==0){var T=_&~d;T!==0?c=Me(T):(f&=_,f!==0&&(c=Me(f)))}else _=o&~d,_!==0?c=Me(_):f!==0&&(c=Me(f));if(c===0)return 0;if(r!==0&&r!==c&&(r&d)===0&&(d=c&-c,f=r&-r,d>=f||d===16&&(f&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)o=31-Jt(r),d=1<<o,c|=n[o],r&=~d;return c}function Li(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mi(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes;0<f;){var _=31-Jt(f),T=1<<_,C=d[_];C===-1?((T&o)===0||(T&c)!==0)&&(d[_]=Li(T,r)):C<=r&&(n.expiredLanes|=T),f&=~T}}function Uo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function jo(){var n=xn;return xn<<=1,(xn&4194240)===0&&(xn=64),n}function zo(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function bi(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Jt(r),n[r]=o}function _c(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<o;){var d=31-Jt(o),f=1<<d;r[d]=0,c[d]=-1,n[d]=-1,o&=~f}}function Bo(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-Jt(o),d=1<<c;d&r|n[c]&r&&(n[c]|=r),o&=~d}}var ke=0;function Ln(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var $o,Ss,Ho,Wo,qo,Mn=!1,As=[],bn=null,Fn=null,Tt=null,Fi=new Map,cr=new Map,Zt=[],yl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $r(n,r){switch(n){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Fi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(r.pointerId)}}function Tn(n,r,o,c,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:f,targetContainers:[d]},r!==null&&(r=oa(r),r!==null&&Ss(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function _l(n,r,o,c,d){switch(r){case"focusin":return bn=Tn(bn,n,r,o,c,d),!0;case"dragenter":return Fn=Tn(Fn,n,r,o,c,d),!0;case"mouseover":return Tt=Tn(Tt,n,r,o,c,d),!0;case"pointerover":var f=d.pointerId;return Fi.set(f,Tn(Fi.get(f)||null,n,r,o,c,d)),!0;case"gotpointercapture":return f=d.pointerId,cr.set(f,Tn(cr.get(f)||null,n,r,o,c,d)),!0}return!1}function Rs(n){var r=Bi(n.target);if(r!==null){var o=wn(r);if(o!==null){if(r=o.tag,r===13){if(r=Lo(o),r!==null){n.blockedOn=r,qo(n.priority,function(){Ho(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ze(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Cs(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);br=c,o.target.dispatchEvent(c),br=null}else return r=oa(o),r!==null&&Ss(r),n.blockedOn=o,!1;r.shift()}return!0}function vl(n,r,o){ze(n)&&o.delete(r)}function vc(){Mn=!1,bn!==null&&ze(bn)&&(bn=null),Fn!==null&&ze(Fn)&&(Fn=null),Tt!==null&&ze(Tt)&&(Tt=null),Fi.forEach(vl),cr.forEach(vl)}function Hr(n,r){n.blockedOn===r&&(n.blockedOn=null,Mn||(Mn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vc)))}function Wr(n){function r(d){return Hr(d,n)}if(0<As.length){Hr(As[0],n);for(var o=1;o<As.length;o++){var c=As[o];c.blockedOn===n&&(c.blockedOn=null)}}for(bn!==null&&Hr(bn,n),Fn!==null&&Hr(Fn,n),Tt!==null&&Hr(Tt,n),Fi.forEach(r),cr.forEach(r),o=0;o<Zt.length;o++)c=Zt[o],c.blockedOn===n&&(c.blockedOn=null);for(;0<Zt.length&&(o=Zt[0],o.blockedOn===null);)Rs(o),o.blockedOn===null&&Zt.shift()}var hr=xe.ReactCurrentBatchConfig,dr=!0;function Un(n,r,o,c){var d=ke,f=hr.transition;hr.transition=null;try{ke=1,Ko(n,r,o,c)}finally{ke=d,hr.transition=f}}function El(n,r,o,c){var d=ke,f=hr.transition;hr.transition=null;try{ke=4,Ko(n,r,o,c)}finally{ke=d,hr.transition=f}}function Ko(n,r,o,c){if(dr){var d=Cs(n,r,o,c);if(d===null)Nc(n,r,c,jn,o),$r(n,c);else if(_l(d,n,r,o,c))c.stopPropagation();else if($r(n,c),r&4&&-1<yl.indexOf(n)){for(;d!==null;){var f=oa(d);if(f!==null&&$o(f),f=Cs(n,r,o,c),f===null&&Nc(n,r,c,jn,o),f===d)break;d=f}d!==null&&c.stopPropagation()}else Nc(n,r,c,null,o)}}var jn=null;function Cs(n,r,o,c){if(jn=null,n=vs(c),n=Bi(n),n!==null)if(r=wn(n),r===null)n=null;else if(o=r.tag,o===13){if(n=Lo(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return jn=n,null}function Ps(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yc()){case Ts:return 1;case bo:return 4;case Vi:case Fo:return 16;case Is:return 536870912;default:return 16}default:return 16}}var en=null,ks=null,fr=null;function wl(){if(fr)return fr;var n,r=ks,o=r.length,c,d="value"in en?en.value:en.textContent,f=d.length;for(n=0;n<o&&r[n]===d[n];n++);var _=o-n;for(c=1;c<=_&&r[o-c]===d[f-c];c++);return fr=d.slice(n,1<c?1-c:void 0)}function Ui(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function zn(){return!0}function Go(){return!1}function Nt(n){function r(o,c,d,f,_){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zn:Go,this.isPropagationStopped=Go,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){},isPersistent:zn}),r}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Nt(Bn),qr=te({},Bn,{view:0,detail:0}),Ns=Nt(qr),Ds,Vs,tn,zi=te({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_e,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tn&&(tn&&n.type==="mousemove"?(Ds=n.screenX-tn.screenX,Vs=n.screenY-tn.screenY):Vs=Ds=0,tn=n),Ds)},movementY:function(n){return"movementY"in n?n.movementY:Vs}}),Qo=Nt(zi),Tl=te({},zi,{dataTransfer:0}),Il=Nt(Tl),Os=te({},qr,{relatedTarget:0}),It=Nt(Os),Sl=te({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Al=Nt(Sl),Kr=te({},Bn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),l=Nt(Kr),p=te({},Bn,{data:0}),g=Nt(p),E={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=U[n])?!!r[n]:!1}function _e(){return Q}var it=te({},qr,{key:function(n){if(n.key){var r=E[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ui(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_e,charCode:function(n){return n.type==="keypress"?Ui(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ui(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ue=Nt(it),lt=te({},zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nn=Nt(lt),pr=te({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_e}),$n=Nt(pr),Hn=te({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),xs=Nt(Hn),Yo=te({},zi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Mv=Nt(Yo),bv=[9,13,27,32],Ec=m&&"CompositionEvent"in window,Xo=null;m&&"documentMode"in document&&(Xo=document.documentMode);var Fv=m&&"TextEvent"in window&&!Xo,wf=m&&(!Ec||Xo&&8<Xo&&11>=Xo),Tf=" ",If=!1;function Sf(n,r){switch(n){case"keyup":return bv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Af(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ls=!1;function Uv(n,r){switch(n){case"compositionend":return Af(r);case"keypress":return r.which!==32?null:(If=!0,Tf);case"textInput":return n=r.data,n===Tf&&If?null:n;default:return null}}function jv(n,r){if(Ls)return n==="compositionend"||!Ec&&Sf(n,r)?(n=wl(),fr=ks=en=null,Ls=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return wf&&r.locale!=="ko"?null:r.data;default:return null}}var zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!zv[n.type]:r==="textarea"}function Cf(n,r,o,c){Fr(c),r=Nl(r,"onChange"),0<r.length&&(o=new ji("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var Jo=null,Zo=null;function Bv(n){Wf(n,0)}function Rl(n){var r=js(n);if(Co(r))return n}function $v(n,r){if(n==="change")return r}var Pf=!1;if(m){var wc;if(m){var Tc="oninput"in document;if(!Tc){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),Tc=typeof kf.oninput=="function"}wc=Tc}else wc=!1;Pf=wc&&(!document.documentMode||9<document.documentMode)}function Nf(){Jo&&(Jo.detachEvent("onpropertychange",Df),Zo=Jo=null)}function Df(n){if(n.propertyName==="value"&&Rl(Zo)){var r=[];Cf(r,Zo,n,vs(n)),ul(Bv,r)}}function Hv(n,r,o){n==="focusin"?(Nf(),Jo=r,Zo=o,Jo.attachEvent("onpropertychange",Df)):n==="focusout"&&Nf()}function Wv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Rl(Zo)}function qv(n,r){if(n==="click")return Rl(r)}function Kv(n,r){if(n==="input"||n==="change")return Rl(r)}function Gv(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var In=typeof Object.is=="function"?Object.is:Gv;function ea(n,r){if(In(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!y.call(r,d)||!In(n[d],r[d]))return!1}return!0}function Vf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Of(n,r){var o=Vf(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vf(o)}}function xf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?xf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Lf(){for(var n=window,r=Vr();r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Vr(n.document)}return r}function Ic(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Qv(n){var r=Lf(),o=n.focusedElem,c=n.selectionRange;if(r!==o&&o&&o.ownerDocument&&xf(o.ownerDocument.documentElement,o)){if(c!==null&&Ic(o)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(n,o.value.length);else if(n=(r=o.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=o.textContent.length,f=Math.min(c.start,d);c=c.end===void 0?f:Math.min(c.end,d),!n.extend&&f>c&&(d=c,c=f,f=d),d=Of(o,f);var _=Of(o,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),f>c?(n.addRange(r),n.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),n.addRange(r)))}}for(r=[],n=o;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)n=r[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Yv=m&&"documentMode"in document&&11>=document.documentMode,Ms=null,Sc=null,ta=null,Ac=!1;function Mf(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ac||Ms==null||Ms!==Vr(c)||(c=Ms,"selectionStart"in c&&Ic(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ta&&ea(ta,c)||(ta=c,c=Nl(Sc,"onSelect"),0<c.length&&(r=new ji("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=Ms)))}function Cl(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var bs={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},Rc={},bf={};m&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Pl(n){if(Rc[n])return Rc[n];if(!bs[n])return n;var r=bs[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in bf)return Rc[n]=r[o];return n}var Ff=Pl("animationend"),Uf=Pl("animationiteration"),jf=Pl("animationstart"),zf=Pl("transitionend"),Bf=new Map,$f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(n,r){Bf.set(n,r),u(r,[n])}for(var Cc=0;Cc<$f.length;Cc++){var Pc=$f[Cc],Xv=Pc.toLowerCase(),Jv=Pc[0].toUpperCase()+Pc.slice(1);Gr(Xv,"on"+Jv)}Gr(Ff,"onAnimationEnd"),Gr(Uf,"onAnimationIteration"),Gr(jf,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(zf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zv=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function Hf(n,r,o){var c=n.type||"unknown-event";n.currentTarget=o,xo(c,r,void 0,n),n.currentTarget=null}function Wf(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],d=c.event;c=c.listeners;e:{var f=void 0;if(r)for(var _=c.length-1;0<=_;_--){var T=c[_],C=T.instance,F=T.currentTarget;if(T=T.listener,C!==f&&d.isPropagationStopped())break e;Hf(d,T,F),f=C}else for(_=0;_<c.length;_++){if(T=c[_],C=T.instance,F=T.currentTarget,T=T.listener,C!==f&&d.isPropagationStopped())break e;Hf(d,T,F),f=C}}}if(Es)throw n=ln,Es=!1,ln=null,n}function qe(n,r){var o=r[Mc];o===void 0&&(o=r[Mc]=new Set);var c=n+"__bubble";o.has(c)||(qf(r,n,2,!1),o.add(c))}function kc(n,r,o){var c=0;r&&(c|=4),qf(o,n,c,r)}var kl="_reactListening"+Math.random().toString(36).slice(2);function ra(n){if(!n[kl]){n[kl]=!0,s.forEach(function(o){o!=="selectionchange"&&(Zv.has(o)||kc(o,!1,n),kc(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[kl]||(r[kl]=!0,kc("selectionchange",!1,r))}}function qf(n,r,o,c){switch(Ps(r)){case 1:var d=Un;break;case 4:d=El;break;default:d=Ko}o=d.bind(null,r,o,n),d=void 0,!jr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(r,o,{capture:!0,passive:d}):n.addEventListener(r,o,!0):d!==void 0?n.addEventListener(r,o,{passive:d}):n.addEventListener(r,o,!1)}function Nc(n,r,o,c,d){var f=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var T=c.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===d||C.nodeType===8&&C.parentNode===d))return;_=_.return}for(;T!==null;){if(_=Bi(T),_===null)return;if(C=_.tag,C===5||C===6){c=f=_;continue e}T=T.parentNode}}c=c.return}ul(function(){var F=f,H=vs(o),K=[];e:{var $=Bf.get(n);if($!==void 0){var Z=ji,re=n;switch(n){case"keypress":if(Ui(o)===0)break e;case"keydown":case"keyup":Z=Ue;break;case"focusin":re="focus",Z=It;break;case"focusout":re="blur",Z=It;break;case"beforeblur":case"afterblur":Z=It;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Il;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=$n;break;case Ff:case Uf:case jf:Z=Al;break;case zf:Z=xs;break;case"scroll":Z=Ns;break;case"wheel":Z=Mv;break;case"copy":case"cut":case"paste":Z=l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=nn}var ie=(r&4)!==0,st=!ie&&n==="scroll",L=ie?$!==null?$+"Capture":null:$;ie=[];for(var N=F,b;N!==null;){b=N;var G=b.stateNode;if(b.tag===5&&G!==null&&(b=G,L!==null&&(G=ki(N,L),G!=null&&ie.push(ia(N,G,b)))),st)break;N=N.return}0<ie.length&&($=new Z($,re,null,o,H),K.push({event:$,listeners:ie}))}}if((r&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",$&&o!==br&&(re=o.relatedTarget||o.fromElement)&&(Bi(re)||re[mr]))break e;if((Z||$)&&($=H.window===H?H:($=H.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(re=o.relatedTarget||o.toElement,Z=F,re=re?Bi(re):null,re!==null&&(st=wn(re),re!==st||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=F),Z!==re)){if(ie=Qo,G="onMouseLeave",L="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ie=nn,G="onPointerLeave",L="onPointerEnter",N="pointer"),st=Z==null?$:js(Z),b=re==null?$:js(re),$=new ie(G,N+"leave",Z,o,H),$.target=st,$.relatedTarget=b,G=null,Bi(H)===F&&(ie=new ie(L,N+"enter",re,o,H),ie.target=b,ie.relatedTarget=st,G=ie),st=G,Z&&re)t:{for(ie=Z,L=re,N=0,b=ie;b;b=Fs(b))N++;for(b=0,G=L;G;G=Fs(G))b++;for(;0<N-b;)ie=Fs(ie),N--;for(;0<b-N;)L=Fs(L),b--;for(;N--;){if(ie===L||L!==null&&ie===L.alternate)break t;ie=Fs(ie),L=Fs(L)}ie=null}else ie=null;Z!==null&&Kf(K,$,Z,ie,!1),re!==null&&st!==null&&Kf(K,st,re,ie,!0)}}e:{if($=F?js(F):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var se=$v;else if(Rf($))if(Pf)se=Kv;else{se=Wv;var le=Hv}else(Z=$.nodeName)&&Z.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=qv);if(se&&(se=se(n,F))){Cf(K,se,o,H);break e}le&&le(n,$,F),n==="focusout"&&(le=$._wrapperState)&&le.controlled&&$.type==="number"&&at($,"number",$.value)}switch(le=F?js(F):window,n){case"focusin":(Rf(le)||le.contentEditable==="true")&&(Ms=le,Sc=F,ta=null);break;case"focusout":ta=Sc=Ms=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,Mf(K,o,H);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":Mf(K,o,H)}var ue;if(Ec)e:{switch(n){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Ls?Sf(n,o)&&(fe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(wf&&o.locale!=="ko"&&(Ls||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Ls&&(ue=wl()):(en=H,ks="value"in en?en.value:en.textContent,Ls=!0)),le=Nl(F,fe),0<le.length&&(fe=new g(fe,n,null,o,H),K.push({event:fe,listeners:le}),ue?fe.data=ue:(ue=Af(o),ue!==null&&(fe.data=ue)))),(ue=Fv?Uv(n,o):jv(n,o))&&(F=Nl(F,"onBeforeInput"),0<F.length&&(H=new g("onBeforeInput","beforeinput",null,o,H),K.push({event:H,listeners:F}),H.data=ue))}Wf(K,r)})}function ia(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Nl(n,r){for(var o=r+"Capture",c=[];n!==null;){var d=n,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=ki(n,o),f!=null&&c.unshift(ia(n,f,d)),f=ki(n,r),f!=null&&c.push(ia(n,f,d))),n=n.return}return c}function Fs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Kf(n,r,o,c,d){for(var f=r._reactName,_=[];o!==null&&o!==c;){var T=o,C=T.alternate,F=T.stateNode;if(C!==null&&C===c)break;T.tag===5&&F!==null&&(T=F,d?(C=ki(o,f),C!=null&&_.unshift(ia(o,C,T))):d||(C=ki(o,f),C!=null&&_.push(ia(o,C,T)))),o=o.return}_.length!==0&&n.push({event:r,listeners:_})}var eE=/\r\n?/g,tE=/\u0000|\uFFFD/g;function Gf(n){return(typeof n=="string"?n:""+n).replace(eE,`
`).replace(tE,"")}function Dl(n,r,o){if(r=Gf(r),Gf(n)!==r&&o)throw Error(t(425))}function Vl(){}var Dc=null,Vc=null;function Oc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xc=typeof setTimeout=="function"?setTimeout:void 0,nE=typeof clearTimeout=="function"?clearTimeout:void 0,Qf=typeof Promise=="function"?Promise:void 0,rE=typeof queueMicrotask=="function"?queueMicrotask:typeof Qf<"u"?function(n){return Qf.resolve(null).then(n).catch(iE)}:xc;function iE(n){setTimeout(function(){throw n})}function Lc(n,r){var o=r,c=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){n.removeChild(d),Wr(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);Wr(r)}function Qr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Yf(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}var Us=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Us,sa="__reactProps$"+Us,mr="__reactContainer$"+Us,Mc="__reactEvents$"+Us,sE="__reactListeners$"+Us,oE="__reactHandles$"+Us;function Bi(n){var r=n[Wn];if(r)return r;for(var o=n.parentNode;o;){if(r=o[mr]||o[Wn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=Yf(n);n!==null;){if(o=n[Wn])return o;n=Yf(n)}return r}n=o,o=n.parentNode}return null}function oa(n){return n=n[Wn]||n[mr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function js(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Ol(n){return n[sa]||null}var bc=[],zs=-1;function Yr(n){return{current:n}}function Ke(n){0>zs||(n.current=bc[zs],bc[zs]=null,zs--)}function He(n,r){zs++,bc[zs]=n.current,n.current=r}var Xr={},Dt=Yr(Xr),Bt=Yr(!1),$i=Xr;function Bs(n,r){var o=n.type.contextTypes;if(!o)return Xr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=r[f];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function $t(n){return n=n.childContextTypes,n!=null}function xl(){Ke(Bt),Ke(Dt)}function Xf(n,r,o){if(Dt.current!==Xr)throw Error(t(168));He(Dt,r),He(Bt,o)}function Jf(n,r,o){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(t(108,be(n)||"Unknown",d));return te({},o,c)}function Ll(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Xr,$i=Dt.current,He(Dt,n),He(Bt,Bt.current),!0}function Zf(n,r,o){var c=n.stateNode;if(!c)throw Error(t(169));o?(n=Jf(n,r,$i),c.__reactInternalMemoizedMergedChildContext=n,Ke(Bt),Ke(Dt),He(Dt,n)):Ke(Bt),He(Bt,o)}var gr=null,Ml=!1,Fc=!1;function ep(n){gr===null?gr=[n]:gr.push(n)}function aE(n){Ml=!0,ep(n)}function Jr(){if(!Fc&&gr!==null){Fc=!0;var n=0,r=ke;try{var o=gr;for(ke=1;n<o.length;n++){var c=o[n];do c=c(!0);while(c!==null)}gr=null,Ml=!1}catch(d){throw gr!==null&&(gr=gr.slice(n+1)),Mo(Ts,Jr),d}finally{ke=r,Fc=!1}}return null}var $s=[],Hs=0,bl=null,Fl=0,cn=[],hn=0,Hi=null,yr=1,_r="";function Wi(n,r){$s[Hs++]=Fl,$s[Hs++]=bl,bl=n,Fl=r}function tp(n,r,o){cn[hn++]=yr,cn[hn++]=_r,cn[hn++]=Hi,Hi=n;var c=yr;n=_r;var d=32-Jt(c)-1;c&=~(1<<d),o+=1;var f=32-Jt(r)+d;if(30<f){var _=d-d%5;f=(c&(1<<_)-1).toString(32),c>>=_,d-=_,yr=1<<32-Jt(r)+d|o<<d|c,_r=f+n}else yr=1<<f|o<<d|c,_r=n}function Uc(n){n.return!==null&&(Wi(n,1),tp(n,1,0))}function jc(n){for(;n===bl;)bl=$s[--Hs],$s[Hs]=null,Fl=$s[--Hs],$s[Hs]=null;for(;n===Hi;)Hi=cn[--hn],cn[hn]=null,_r=cn[--hn],cn[hn]=null,yr=cn[--hn],cn[hn]=null}var rn=null,sn=null,Ye=!1,Sn=null;function np(n,r){var o=mn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function rp(n,r){switch(n.tag){case 5:var o=n.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,rn=n,sn=Qr(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,rn=n,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Hi!==null?{id:yr,overflow:_r}:null,n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=mn(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,rn=n,sn=null,!0):!1;default:return!1}}function zc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Bc(n){if(Ye){var r=sn;if(r){var o=r;if(!rp(n,r)){if(zc(n))throw Error(t(418));r=Qr(o.nextSibling);var c=rn;r&&rp(n,r)?np(c,o):(n.flags=n.flags&-4097|2,Ye=!1,rn=n)}}else{if(zc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ye=!1,rn=n}}}function ip(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function Ul(n){if(n!==rn)return!1;if(!Ye)return ip(n),Ye=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Oc(n.type,n.memoizedProps)),r&&(r=sn)){if(zc(n))throw sp(),Error(t(418));for(;r;)np(n,r),r=Qr(r.nextSibling)}if(ip(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(r===0){sn=Qr(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}n=n.nextSibling}sn=null}}else sn=rn?Qr(n.stateNode.nextSibling):null;return!0}function sp(){for(var n=sn;n;)n=Qr(n.nextSibling)}function Ws(){sn=rn=null,Ye=!1}function $c(n){Sn===null?Sn=[n]:Sn.push(n)}var lE=xe.ReactCurrentBatchConfig;function aa(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var c=o.stateNode}if(!c)throw Error(t(147,n));var d=c,f=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(_){var T=d.refs;_===null?delete T[f]:T[f]=_},r._stringRef=f,r)}if(typeof n!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,n))}return n}function jl(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function op(n){var r=n._init;return r(n._payload)}function ap(n){function r(L,N){if(n){var b=L.deletions;b===null?(L.deletions=[N],L.flags|=16):b.push(N)}}function o(L,N){if(!n)return null;for(;N!==null;)r(L,N),N=N.sibling;return null}function c(L,N){for(L=new Map;N!==null;)N.key!==null?L.set(N.key,N):L.set(N.index,N),N=N.sibling;return L}function d(L,N){return L=oi(L,N),L.index=0,L.sibling=null,L}function f(L,N,b){return L.index=b,n?(b=L.alternate,b!==null?(b=b.index,b<N?(L.flags|=2,N):b):(L.flags|=2,N)):(L.flags|=1048576,N)}function _(L){return n&&L.alternate===null&&(L.flags|=2),L}function T(L,N,b,G){return N===null||N.tag!==6?(N=xh(b,L.mode,G),N.return=L,N):(N=d(N,b),N.return=L,N)}function C(L,N,b,G){var se=b.type;return se===k?H(L,N,b.props.children,G,b.key):N!==null&&(N.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===kt&&op(se)===N.type)?(G=d(N,b.props),G.ref=aa(L,N,b),G.return=L,G):(G=cu(b.type,b.key,b.props,null,L.mode,G),G.ref=aa(L,N,b),G.return=L,G)}function F(L,N,b,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==b.containerInfo||N.stateNode.implementation!==b.implementation?(N=Lh(b,L.mode,G),N.return=L,N):(N=d(N,b.children||[]),N.return=L,N)}function H(L,N,b,G,se){return N===null||N.tag!==7?(N=Zi(b,L.mode,G,se),N.return=L,N):(N=d(N,b),N.return=L,N)}function K(L,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return N=xh(""+N,L.mode,b),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Be:return b=cu(N.type,N.key,N.props,null,L.mode,b),b.ref=aa(L,null,N),b.return=L,b;case Ne:return N=Lh(N,L.mode,b),N.return=L,N;case kt:var G=N._init;return K(L,G(N._payload),b)}if(rt(N)||ae(N))return N=Zi(N,L.mode,b,null),N.return=L,N;jl(L,N)}return null}function $(L,N,b,G){var se=N!==null?N.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return se!==null?null:T(L,N,""+b,G);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Be:return b.key===se?C(L,N,b,G):null;case Ne:return b.key===se?F(L,N,b,G):null;case kt:return se=b._init,$(L,N,se(b._payload),G)}if(rt(b)||ae(b))return se!==null?null:H(L,N,b,G,null);jl(L,b)}return null}function Z(L,N,b,G,se){if(typeof G=="string"&&G!==""||typeof G=="number")return L=L.get(b)||null,T(N,L,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Be:return L=L.get(G.key===null?b:G.key)||null,C(N,L,G,se);case Ne:return L=L.get(G.key===null?b:G.key)||null,F(N,L,G,se);case kt:var le=G._init;return Z(L,N,b,le(G._payload),se)}if(rt(G)||ae(G))return L=L.get(b)||null,H(N,L,G,se,null);jl(N,G)}return null}function re(L,N,b,G){for(var se=null,le=null,ue=N,fe=N=0,vt=null;ue!==null&&fe<b.length;fe++){ue.index>fe?(vt=ue,ue=null):vt=ue.sibling;var Le=$(L,ue,b[fe],G);if(Le===null){ue===null&&(ue=vt);break}n&&ue&&Le.alternate===null&&r(L,ue),N=f(Le,N,fe),le===null?se=Le:le.sibling=Le,le=Le,ue=vt}if(fe===b.length)return o(L,ue),Ye&&Wi(L,fe),se;if(ue===null){for(;fe<b.length;fe++)ue=K(L,b[fe],G),ue!==null&&(N=f(ue,N,fe),le===null?se=ue:le.sibling=ue,le=ue);return Ye&&Wi(L,fe),se}for(ue=c(L,ue);fe<b.length;fe++)vt=Z(ue,L,fe,b[fe],G),vt!==null&&(n&&vt.alternate!==null&&ue.delete(vt.key===null?fe:vt.key),N=f(vt,N,fe),le===null?se=vt:le.sibling=vt,le=vt);return n&&ue.forEach(function(ai){return r(L,ai)}),Ye&&Wi(L,fe),se}function ie(L,N,b,G){var se=ae(b);if(typeof se!="function")throw Error(t(150));if(b=se.call(b),b==null)throw Error(t(151));for(var le=se=null,ue=N,fe=N=0,vt=null,Le=b.next();ue!==null&&!Le.done;fe++,Le=b.next()){ue.index>fe?(vt=ue,ue=null):vt=ue.sibling;var ai=$(L,ue,Le.value,G);if(ai===null){ue===null&&(ue=vt);break}n&&ue&&ai.alternate===null&&r(L,ue),N=f(ai,N,fe),le===null?se=ai:le.sibling=ai,le=ai,ue=vt}if(Le.done)return o(L,ue),Ye&&Wi(L,fe),se;if(ue===null){for(;!Le.done;fe++,Le=b.next())Le=K(L,Le.value,G),Le!==null&&(N=f(Le,N,fe),le===null?se=Le:le.sibling=Le,le=Le);return Ye&&Wi(L,fe),se}for(ue=c(L,ue);!Le.done;fe++,Le=b.next())Le=Z(ue,L,fe,Le.value,G),Le!==null&&(n&&Le.alternate!==null&&ue.delete(Le.key===null?fe:Le.key),N=f(Le,N,fe),le===null?se=Le:le.sibling=Le,le=Le);return n&&ue.forEach(function(zE){return r(L,zE)}),Ye&&Wi(L,fe),se}function st(L,N,b,G){if(typeof b=="object"&&b!==null&&b.type===k&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Be:e:{for(var se=b.key,le=N;le!==null;){if(le.key===se){if(se=b.type,se===k){if(le.tag===7){o(L,le.sibling),N=d(le,b.props.children),N.return=L,L=N;break e}}else if(le.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===kt&&op(se)===le.type){o(L,le.sibling),N=d(le,b.props),N.ref=aa(L,le,b),N.return=L,L=N;break e}o(L,le);break}else r(L,le);le=le.sibling}b.type===k?(N=Zi(b.props.children,L.mode,G,b.key),N.return=L,L=N):(G=cu(b.type,b.key,b.props,null,L.mode,G),G.ref=aa(L,N,b),G.return=L,L=G)}return _(L);case Ne:e:{for(le=b.key;N!==null;){if(N.key===le)if(N.tag===4&&N.stateNode.containerInfo===b.containerInfo&&N.stateNode.implementation===b.implementation){o(L,N.sibling),N=d(N,b.children||[]),N.return=L,L=N;break e}else{o(L,N);break}else r(L,N);N=N.sibling}N=Lh(b,L.mode,G),N.return=L,L=N}return _(L);case kt:return le=b._init,st(L,N,le(b._payload),G)}if(rt(b))return re(L,N,b,G);if(ae(b))return ie(L,N,b,G);jl(L,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,N!==null&&N.tag===6?(o(L,N.sibling),N=d(N,b),N.return=L,L=N):(o(L,N),N=xh(b,L.mode,G),N.return=L,L=N),_(L)):o(L,N)}return st}var qs=ap(!0),lp=ap(!1),zl=Yr(null),Bl=null,Ks=null,Hc=null;function Wc(){Hc=Ks=Bl=null}function qc(n){var r=zl.current;Ke(zl),n._currentValue=r}function Kc(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function Gs(n,r){Bl=n,Hc=Ks=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Ht=!0),n.firstContext=null)}function dn(n){var r=n._currentValue;if(Hc!==n)if(n={context:n,memoizedValue:r,next:null},Ks===null){if(Bl===null)throw Error(t(308));Ks=n,Bl.dependencies={lanes:0,firstContext:n}}else Ks=Ks.next=n;return r}var qi=null;function Gc(n){qi===null?qi=[n]:qi.push(n)}function up(n,r,o,c){var d=r.interleaved;return d===null?(o.next=o,Gc(r)):(o.next=d.next,d.next=o),r.interleaved=o,vr(n,c)}function vr(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Zr=!1;function Qc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cp(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Er(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function ei(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Oe&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,vr(n,o)}return d=c.interleaved,d===null?(r.next=r,Gc(c)):(r.next=d.next,d.next=r),c.interleaved=r,vr(n,o)}function $l(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Bo(n,o)}}function hp(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=_:f=f.next=_,o=o.next}while(o!==null);f===null?d=f=r:f=f.next=r}else d=f=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:c.shared,effects:c.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function Hl(n,r,o,c){var d=n.updateQueue;Zr=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var C=T,F=C.next;C.next=null,_===null?f=F:_.next=F,_=C;var H=n.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==_&&(T===null?H.firstBaseUpdate=F:T.next=F,H.lastBaseUpdate=C))}if(f!==null){var K=d.baseState;_=0,H=F=C=null,T=f;do{var $=T.lane,Z=T.eventTime;if((c&$)===$){H!==null&&(H=H.next={eventTime:Z,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var re=n,ie=T;switch($=r,Z=o,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){K=re.call(Z,K,$);break e}K=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(Z,K,$):re,$==null)break e;K=te({},K,$);break e;case 2:Zr=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,$=d.effects,$===null?d.effects=[T]:$.push(T))}else Z={eventTime:Z,lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(F=H=Z,C=K):H=H.next=Z,_|=$;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;$=T,T=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);if(H===null&&(C=K),d.baseState=C,d.firstBaseUpdate=F,d.lastBaseUpdate=H,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else f===null&&(d.shared.lanes=0);Qi|=_,n.lanes=_,n.memoizedState=K}}function dp(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var la={},qn=Yr(la),ua=Yr(la),ca=Yr(la);function Ki(n){if(n===la)throw Error(t(174));return n}function Yc(n,r){switch(He(ca,r),He(ua,n),He(qn,la),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:gs(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=gs(r,n)}Ke(qn),He(qn,r)}function Qs(){Ke(qn),Ke(ua),Ke(ca)}function fp(n){Ki(ca.current);var r=Ki(qn.current),o=gs(r,n.type);r!==o&&(He(ua,n),He(qn,o))}function Xc(n){ua.current===n&&(Ke(qn),Ke(ua))}var Xe=Yr(0);function Wl(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Jc=[];function Zc(){for(var n=0;n<Jc.length;n++)Jc[n]._workInProgressVersionPrimary=null;Jc.length=0}var ql=xe.ReactCurrentDispatcher,eh=xe.ReactCurrentBatchConfig,Gi=0,Je=null,dt=null,yt=null,Kl=!1,ha=!1,da=0,uE=0;function Vt(){throw Error(t(321))}function th(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!In(n[o],r[o]))return!1;return!0}function nh(n,r,o,c,d,f){if(Gi=f,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ql.current=n===null||n.memoizedState===null?fE:pE,n=o(c,d),ha){f=0;do{if(ha=!1,da=0,25<=f)throw Error(t(301));f+=1,yt=dt=null,r.updateQueue=null,ql.current=mE,n=o(c,d)}while(ha)}if(ql.current=Yl,r=dt!==null&&dt.next!==null,Gi=0,yt=dt=Je=null,Kl=!1,r)throw Error(t(300));return n}function rh(){var n=da!==0;return da=0,n}function Kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Je.memoizedState=yt=n:yt=yt.next=n,yt}function fn(){if(dt===null){var n=Je.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var r=yt===null?Je.memoizedState:yt.next;if(r!==null)yt=r,dt=n;else{if(n===null)throw Error(t(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},yt===null?Je.memoizedState=yt=n:yt=yt.next=n}return yt}function fa(n,r){return typeof r=="function"?r(n):r}function ih(n){var r=fn(),o=r.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var c=dt,d=c.baseQueue,f=o.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}c.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,c=c.baseState;var T=_=null,C=null,F=f;do{var H=F.lane;if((Gi&H)===H)C!==null&&(C=C.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),c=F.hasEagerState?F.eagerState:n(c,F.action);else{var K={lane:H,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};C===null?(T=C=K,_=c):C=C.next=K,Je.lanes|=H,Qi|=H}F=F.next}while(F!==null&&F!==f);C===null?_=c:C.next=T,In(c,r.memoizedState)||(Ht=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=C,o.lastRenderedState=c}if(n=o.interleaved,n!==null){d=n;do f=d.lane,Je.lanes|=f,Qi|=f,d=d.next;while(d!==n)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function sh(n){var r=fn(),o=r.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var c=o.dispatch,d=o.pending,f=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do f=n(f,_.action),_=_.next;while(_!==d);In(f,r.memoizedState)||(Ht=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,c]}function pp(){}function mp(n,r){var o=Je,c=fn(),d=r(),f=!In(c.memoizedState,d);if(f&&(c.memoizedState=d,Ht=!0),c=c.queue,oh(_p.bind(null,o,c,n),[n]),c.getSnapshot!==r||f||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,pa(9,yp.bind(null,o,c,d,r),void 0,null),_t===null)throw Error(t(349));(Gi&30)!==0||gp(o,r,d)}return d}function gp(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function yp(n,r,o,c){r.value=o,r.getSnapshot=c,vp(r)&&Ep(n)}function _p(n,r,o){return o(function(){vp(r)&&Ep(n)})}function vp(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!In(n,o)}catch{return!0}}function Ep(n){var r=vr(n,1);r!==null&&Pn(r,n,1,-1)}function wp(n){var r=Kn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},r.queue=n,n=n.dispatch=dE.bind(null,Je,n),[r.memoizedState,n]}function pa(n,r,o,c){return n={tag:n,create:r,destroy:o,deps:c,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n)),n}function Tp(){return fn().memoizedState}function Gl(n,r,o,c){var d=Kn();Je.flags|=n,d.memoizedState=pa(1|r,o,void 0,c===void 0?null:c)}function Ql(n,r,o,c){var d=fn();c=c===void 0?null:c;var f=void 0;if(dt!==null){var _=dt.memoizedState;if(f=_.destroy,c!==null&&th(c,_.deps)){d.memoizedState=pa(r,o,f,c);return}}Je.flags|=n,d.memoizedState=pa(1|r,o,f,c)}function Ip(n,r){return Gl(8390656,8,n,r)}function oh(n,r){return Ql(2048,8,n,r)}function Sp(n,r){return Ql(4,2,n,r)}function Ap(n,r){return Ql(4,4,n,r)}function Rp(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Cp(n,r,o){return o=o!=null?o.concat([n]):null,Ql(4,4,Rp.bind(null,r,n),o)}function ah(){}function Pp(n,r){var o=fn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&th(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function kp(n,r){var o=fn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&th(r,c[1])?c[0]:(n=n(),o.memoizedState=[n,r],n)}function Np(n,r,o){return(Gi&21)===0?(n.baseState&&(n.baseState=!1,Ht=!0),n.memoizedState=o):(In(o,r)||(o=jo(),Je.lanes|=o,Qi|=o,n.baseState=!0),r)}function cE(n,r){var o=ke;ke=o!==0&&4>o?o:4,n(!0);var c=eh.transition;eh.transition={};try{n(!1),r()}finally{ke=o,eh.transition=c}}function Dp(){return fn().memoizedState}function hE(n,r,o){var c=ii(n);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Vp(n))Op(r,o);else if(o=up(n,r,o,c),o!==null){var d=zt();Pn(o,n,c,d),xp(o,r,c)}}function dE(n,r,o){var c=ii(n),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vp(n))Op(r,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,T=f(_,o);if(d.hasEagerState=!0,d.eagerState=T,In(T,_)){var C=r.interleaved;C===null?(d.next=d,Gc(r)):(d.next=C.next,C.next=d),r.interleaved=d;return}}catch{}finally{}o=up(n,r,d,c),o!==null&&(d=zt(),Pn(o,n,c,d),xp(o,r,c))}}function Vp(n){var r=n.alternate;return n===Je||r!==null&&r===Je}function Op(n,r){ha=Kl=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function xp(n,r,o){if((o&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Bo(n,o)}}var Yl={readContext:dn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},fE={readContext:dn,useCallback:function(n,r){return Kn().memoizedState=[n,r===void 0?null:r],n},useContext:dn,useEffect:Ip,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,Gl(4194308,4,Rp.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Gl(4194308,4,n,r)},useInsertionEffect:function(n,r){return Gl(4,2,n,r)},useMemo:function(n,r){var o=Kn();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var c=Kn();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=hE.bind(null,Je,n),[c.memoizedState,n]},useRef:function(n){var r=Kn();return n={current:n},r.memoizedState=n},useState:wp,useDebugValue:ah,useDeferredValue:function(n){return Kn().memoizedState=n},useTransition:function(){var n=wp(!1),r=n[0];return n=cE.bind(null,n[1]),Kn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var c=Je,d=Kn();if(Ye){if(o===void 0)throw Error(t(407));o=o()}else{if(o=r(),_t===null)throw Error(t(349));(Gi&30)!==0||gp(c,r,o)}d.memoizedState=o;var f={value:o,getSnapshot:r};return d.queue=f,Ip(_p.bind(null,c,f,n),[n]),c.flags|=2048,pa(9,yp.bind(null,c,f,o,r),void 0,null),o},useId:function(){var n=Kn(),r=_t.identifierPrefix;if(Ye){var o=_r,c=yr;o=(c&~(1<<32-Jt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=da++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=uE++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},pE={readContext:dn,useCallback:Pp,useContext:dn,useEffect:oh,useImperativeHandle:Cp,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:kp,useReducer:ih,useRef:Tp,useState:function(){return ih(fa)},useDebugValue:ah,useDeferredValue:function(n){var r=fn();return Np(r,dt.memoizedState,n)},useTransition:function(){var n=ih(fa)[0],r=fn().memoizedState;return[n,r]},useMutableSource:pp,useSyncExternalStore:mp,useId:Dp,unstable_isNewReconciler:!1},mE={readContext:dn,useCallback:Pp,useContext:dn,useEffect:oh,useImperativeHandle:Cp,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:kp,useReducer:sh,useRef:Tp,useState:function(){return sh(fa)},useDebugValue:ah,useDeferredValue:function(n){var r=fn();return dt===null?r.memoizedState=n:Np(r,dt.memoizedState,n)},useTransition:function(){var n=sh(fa)[0],r=fn().memoizedState;return[n,r]},useMutableSource:pp,useSyncExternalStore:mp,useId:Dp,unstable_isNewReconciler:!1};function An(n,r){if(n&&n.defaultProps){r=te({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}function lh(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:te({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Xl={isMounted:function(n){return(n=n._reactInternals)?wn(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var c=zt(),d=ii(n),f=Er(c,d);f.payload=r,o!=null&&(f.callback=o),r=ei(n,f,d),r!==null&&(Pn(r,n,d,c),$l(r,n,d))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=zt(),d=ii(n),f=Er(c,d);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=ei(n,f,d),r!==null&&(Pn(r,n,d,c),$l(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=zt(),c=ii(n),d=Er(o,c);d.tag=2,r!=null&&(d.callback=r),r=ei(n,d,c),r!==null&&(Pn(r,n,c,o),$l(r,n,c))}};function Lp(n,r,o,c,d,f,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,f,_):r.prototype&&r.prototype.isPureReactComponent?!ea(o,c)||!ea(d,f):!0}function Mp(n,r,o){var c=!1,d=Xr,f=r.contextType;return typeof f=="object"&&f!==null?f=dn(f):(d=$t(r)?$i:Dt.current,c=r.contextTypes,f=(c=c!=null)?Bs(n,d):Xr),r=new r(o,f),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Xl,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=f),r}function bp(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&Xl.enqueueReplaceState(r,r.state,null)}function uh(n,r,o,c){var d=n.stateNode;d.props=o,d.state=n.memoizedState,d.refs={},Qc(n);var f=r.contextType;typeof f=="object"&&f!==null?d.context=dn(f):(f=$t(r)?$i:Dt.current,d.context=Bs(n,f)),d.state=n.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(lh(n,r,f,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Xl.enqueueReplaceState(d,d.state,null),Hl(n,o,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Ys(n,r){try{var o="",c=r;do o+=Se(c),c=c.return;while(c);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:n,source:r,stack:d,digest:null}}function ch(n,r,o){return{value:n,source:null,stack:o??null,digest:r??null}}function hh(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var gE=typeof WeakMap=="function"?WeakMap:Map;function Fp(n,r,o){o=Er(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){iu||(iu=!0,Rh=c),hh(n,r)},o}function Up(n,r,o){o=Er(-1,o),o.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;o.payload=function(){return c(d)},o.callback=function(){hh(n,r)}}var f=n.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){hh(n,r),typeof c!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function jp(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new gE;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(d.add(o),n=NE.bind(null,n,r,o),r.then(n,n))}function zp(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Bp(n,r,o,c,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Er(-1,1),r.tag=2,ei(o,r,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var yE=xe.ReactCurrentOwner,Ht=!1;function jt(n,r,o,c){r.child=n===null?lp(r,null,o,c):qs(r,n.child,o,c)}function $p(n,r,o,c,d){o=o.render;var f=r.ref;return Gs(r,d),c=nh(n,r,o,c,f,d),o=rh(),n!==null&&!Ht?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,wr(n,r,d)):(Ye&&o&&Uc(r),r.flags|=1,jt(n,r,c,d),r.child)}function Hp(n,r,o,c,d){if(n===null){var f=o.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,Wp(n,r,f,c,d)):(n=cu(o.type,null,c,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(f=n.child,(n.lanes&d)===0){var _=f.memoizedProps;if(o=o.compare,o=o!==null?o:ea,o(_,c)&&n.ref===r.ref)return wr(n,r,d)}return r.flags|=1,n=oi(f,c),n.ref=r.ref,n.return=r,r.child=n}function Wp(n,r,o,c,d){if(n!==null){var f=n.memoizedProps;if(ea(f,c)&&n.ref===r.ref)if(Ht=!1,r.pendingProps=c=f,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Ht=!0);else return r.lanes=n.lanes,wr(n,r,d)}return dh(n,r,o,c,d)}function qp(n,r,o){var c=r.pendingProps,d=c.children,f=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Js,on),on|=o;else{if((o&1073741824)===0)return n=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,He(Js,on),on|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=f!==null?f.baseLanes:o,He(Js,on),on|=c}else f!==null?(c=f.baseLanes|o,r.memoizedState=null):c=o,He(Js,on),on|=c;return jt(n,r,d,o),r.child}function Kp(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function dh(n,r,o,c,d){var f=$t(o)?$i:Dt.current;return f=Bs(r,f),Gs(r,d),o=nh(n,r,o,c,f,d),c=rh(),n!==null&&!Ht?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,wr(n,r,d)):(Ye&&c&&Uc(r),r.flags|=1,jt(n,r,o,d),r.child)}function Gp(n,r,o,c,d){if($t(o)){var f=!0;Ll(r)}else f=!1;if(Gs(r,d),r.stateNode===null)Zl(n,r),Mp(r,o,c),uh(r,o,c,d),c=!0;else if(n===null){var _=r.stateNode,T=r.memoizedProps;_.props=T;var C=_.context,F=o.contextType;typeof F=="object"&&F!==null?F=dn(F):(F=$t(o)?$i:Dt.current,F=Bs(r,F));var H=o.getDerivedStateFromProps,K=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function";K||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==c||C!==F)&&bp(r,_,c,F),Zr=!1;var $=r.memoizedState;_.state=$,Hl(r,c,_,d),C=r.memoizedState,T!==c||$!==C||Bt.current||Zr?(typeof H=="function"&&(lh(r,o,H,c),C=r.memoizedState),(T=Zr||Lp(r,o,T,c,$,C,F))?(K||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=C),_.props=c,_.state=C,_.context=F,c=T):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,cp(n,r),T=r.memoizedProps,F=r.type===r.elementType?T:An(r.type,T),_.props=F,K=r.pendingProps,$=_.context,C=o.contextType,typeof C=="object"&&C!==null?C=dn(C):(C=$t(o)?$i:Dt.current,C=Bs(r,C));var Z=o.getDerivedStateFromProps;(H=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==K||$!==C)&&bp(r,_,c,C),Zr=!1,$=r.memoizedState,_.state=$,Hl(r,c,_,d);var re=r.memoizedState;T!==K||$!==re||Bt.current||Zr?(typeof Z=="function"&&(lh(r,o,Z,c),re=r.memoizedState),(F=Zr||Lp(r,o,F,c,$,re,C)||!1)?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,re,C),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,re,C)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=re),_.props=c,_.state=re,_.context=C,c=F):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),c=!1)}return fh(n,r,o,c,f,d)}function fh(n,r,o,c,d,f){Kp(n,r);var _=(r.flags&128)!==0;if(!c&&!_)return d&&Zf(r,o,!1),wr(n,r,f);c=r.stateNode,yE.current=r;var T=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&_?(r.child=qs(r,n.child,null,f),r.child=qs(r,null,T,f)):jt(n,r,T,f),r.memoizedState=c.state,d&&Zf(r,o,!0),r.child}function Qp(n){var r=n.stateNode;r.pendingContext?Xf(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Xf(n,r.context,!1),Yc(n,r.containerInfo)}function Yp(n,r,o,c,d){return Ws(),$c(d),r.flags|=256,jt(n,r,o,c),r.child}var ph={dehydrated:null,treeContext:null,retryLane:0};function mh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Xp(n,r,o){var c=r.pendingProps,d=Xe.current,f=!1,_=(r.flags&128)!==0,T;if((T=_)||(T=n!==null&&n.memoizedState===null?!1:(d&2)!==0),T?(f=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),He(Xe,d&1),n===null)return Bc(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=c.children,n=c.fallback,f?(c=r.mode,f=r.child,_={mode:"hidden",children:_},(c&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=_):f=hu(_,c,0,null),n=Zi(n,c,o,null),f.return=r,n.return=r,f.sibling=n,r.child=f,r.child.memoizedState=mh(o),r.memoizedState=ph,n):gh(r,_));if(d=n.memoizedState,d!==null&&(T=d.dehydrated,T!==null))return _E(n,r,_,c,T,d,o);if(f){f=c.fallback,_=r.mode,d=n.child,T=d.sibling;var C={mode:"hidden",children:c.children};return(_&1)===0&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=C,r.deletions=null):(c=oi(d,C),c.subtreeFlags=d.subtreeFlags&14680064),T!==null?f=oi(T,f):(f=Zi(f,_,o,null),f.flags|=2),f.return=r,c.return=r,c.sibling=f,r.child=c,c=f,f=r.child,_=n.child.memoizedState,_=_===null?mh(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},f.memoizedState=_,f.childLanes=n.childLanes&~o,r.memoizedState=ph,c}return f=n.child,n=f.sibling,c=oi(f,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,n!==null&&(o=r.deletions,o===null?(r.deletions=[n],r.flags|=16):o.push(n)),r.child=c,r.memoizedState=null,c}function gh(n,r){return r=hu({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Jl(n,r,o,c){return c!==null&&$c(c),qs(r,n.child,null,o),n=gh(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function _E(n,r,o,c,d,f,_){if(o)return r.flags&256?(r.flags&=-257,c=ch(Error(t(422))),Jl(n,r,_,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(f=c.fallback,d=r.mode,c=hu({mode:"visible",children:c.children},d,0,null),f=Zi(f,d,_,null),f.flags|=2,c.return=r,f.return=r,c.sibling=f,r.child=c,(r.mode&1)!==0&&qs(r,n.child,null,_),r.child.memoizedState=mh(_),r.memoizedState=ph,f);if((r.mode&1)===0)return Jl(n,r,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var T=c.dgst;return c=T,f=Error(t(419)),c=ch(f,c,void 0),Jl(n,r,_,c)}if(T=(_&n.childLanes)!==0,Ht||T){if(c=_t,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,vr(n,d),Pn(c,n,d,-1))}return Vh(),c=ch(Error(t(421))),Jl(n,r,_,c)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=DE.bind(null,n),d._reactRetry=r,null):(n=f.treeContext,sn=Qr(d.nextSibling),rn=r,Ye=!0,Sn=null,n!==null&&(cn[hn++]=yr,cn[hn++]=_r,cn[hn++]=Hi,yr=n.id,_r=n.overflow,Hi=r),r=gh(r,c.children),r.flags|=4096,r)}function Jp(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Kc(n.return,r,o)}function yh(n,r,o,c,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=c,f.tail=o,f.tailMode=d)}function Zp(n,r,o){var c=r.pendingProps,d=c.revealOrder,f=c.tail;if(jt(n,r,c.children,o),c=Xe.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jp(n,o,r);else if(n.tag===19)Jp(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(He(Xe,c),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)n=o.alternate,n!==null&&Wl(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),yh(r,!1,d,o,f);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Wl(n)===null){r.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}yh(r,!0,o,null,f);break;case"together":yh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Zl(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function wr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Qi|=r.lanes,(o&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,o=oi(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=oi(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function vE(n,r,o){switch(r.tag){case 3:Qp(r),Ws();break;case 5:fp(r);break;case 1:$t(r.type)&&Ll(r);break;case 4:Yc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;He(zl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(He(Xe,Xe.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Xp(n,r,o):(He(Xe,Xe.current&1),n=wr(n,r,o),n!==null?n.sibling:null);He(Xe,Xe.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(n.flags&128)!==0){if(c)return Zp(n,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(Xe,Xe.current),c)break;return null;case 22:case 23:return r.lanes=0,qp(n,r,o)}return wr(n,r,o)}var em,_h,tm,nm;em=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},_h=function(){},tm=function(n,r,o,c){var d=n.memoizedProps;if(d!==c){n=r.stateNode,Ki(qn.current);var f=null;switch(o){case"input":d=ps(n,d),c=ps(n,c),f=[];break;case"select":d=te({},d,{value:void 0}),c=te({},c,{value:void 0}),f=[];break;case"textarea":d=ko(n,d),c=ko(n,c),f=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Vl)}En(o,c);var _;o=null;for(F in d)if(!c.hasOwnProperty(F)&&d.hasOwnProperty(F)&&d[F]!=null)if(F==="style"){var T=d[F];for(_ in T)T.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?f||(f=[]):(f=f||[]).push(F,null));for(F in c){var C=c[F];if(T=d?.[F],c.hasOwnProperty(F)&&C!==T&&(C!=null||T!=null))if(F==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||C&&C.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in C)C.hasOwnProperty(_)&&T[_]!==C[_]&&(o||(o={}),o[_]=C[_])}else o||(f||(f=[]),f.push(F,o)),o=C;else F==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,T=T?T.__html:void 0,C!=null&&T!==C&&(f=f||[]).push(F,C)):F==="children"?typeof C!="string"&&typeof C!="number"||(f=f||[]).push(F,""+C):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(C!=null&&F==="onScroll"&&qe("scroll",n),f||T===C||(f=[])):(f=f||[]).push(F,C))}o&&(f=f||[]).push("style",o);var F=f;(r.updateQueue=F)&&(r.flags|=4)}},nm=function(n,r,o,c){o!==c&&(r.flags|=4)};function ma(n,r){if(!Ye)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function EE(n,r,o){var c=r.pendingProps;switch(jc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(r),null;case 1:return $t(r.type)&&xl(),Ot(r),null;case 3:return c=r.stateNode,Qs(),Ke(Bt),Ke(Dt),Zc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Ul(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sn!==null&&(kh(Sn),Sn=null))),_h(n,r),Ot(r),null;case 5:Xc(r);var d=Ki(ca.current);if(o=r.type,n!==null&&r.stateNode!=null)tm(n,r,o,c,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return Ot(r),null}if(n=Ki(qn.current),Ul(r)){c=r.stateNode,o=r.type;var f=r.memoizedProps;switch(c[Wn]=r,c[sa]=f,n=(r.mode&1)!==0,o){case"dialog":qe("cancel",c),qe("close",c);break;case"iframe":case"object":case"embed":qe("load",c);break;case"video":case"audio":for(d=0;d<na.length;d++)qe(na[d],c);break;case"source":qe("error",c);break;case"img":case"image":case"link":qe("error",c),qe("load",c);break;case"details":qe("toggle",c);break;case"input":rl(c,f),qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!f.multiple},qe("invalid",c);break;case"textarea":No(c,f),qe("invalid",c)}En(o,f),d=null;for(var _ in f)if(f.hasOwnProperty(_)){var T=f[_];_==="children"?typeof T=="string"?c.textContent!==T&&(f.suppressHydrationWarning!==!0&&Dl(c.textContent,T,n),d=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(f.suppressHydrationWarning!==!0&&Dl(c.textContent,T,n),d=["children",""+T]):a.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&qe("scroll",c)}switch(o){case"input":fs(c),Po(c,f,!0);break;case"textarea":fs(c),Or(c);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(c.onclick=Vl)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Do(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(o,{is:c.is}):(n=_.createElement(o),o==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,o),n[Wn]=r,n[sa]=c,em(n,r,!1,!1),r.stateNode=n;e:{switch(_=_s(o,c),o){case"dialog":qe("cancel",n),qe("close",n),d=c;break;case"iframe":case"object":case"embed":qe("load",n),d=c;break;case"video":case"audio":for(d=0;d<na.length;d++)qe(na[d],n);d=c;break;case"source":qe("error",n),d=c;break;case"img":case"image":case"link":qe("error",n),qe("load",n),d=c;break;case"details":qe("toggle",n),d=c;break;case"input":rl(n,c),d=ps(n,c),qe("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=te({},c,{value:void 0}),qe("invalid",n);break;case"textarea":No(n,c),d=ko(n,c),qe("invalid",n);break;default:d=c}En(o,d),T=d;for(f in T)if(T.hasOwnProperty(f)){var C=T[f];f==="style"?ys(n,C):f==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&sl(n,C)):f==="children"?typeof C=="string"?(o!=="textarea"||C!=="")&&Pi(n,C):typeof C=="number"&&Pi(n,""+C):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?C!=null&&f==="onScroll"&&qe("scroll",n):C!=null&&Ee(n,f,C,_))}switch(o){case"input":fs(n),Po(n,c,!1);break;case"textarea":fs(n),Or(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ve(c.value));break;case"select":n.multiple=!!c.multiple,f=c.value,f!=null?vn(n,!!c.multiple,f,!1):c.defaultValue!=null&&vn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Vl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ot(r),null;case 6:if(n&&r.stateNode!=null)nm(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(o=Ki(ca.current),Ki(qn.current),Ul(r)){if(c=r.stateNode,o=r.memoizedProps,c[Wn]=r,(f=c.nodeValue!==o)&&(n=rn,n!==null))switch(n.tag){case 3:Dl(c.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Dl(c.nodeValue,o,(n.mode&1)!==0)}f&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Wn]=r,r.stateNode=c}return Ot(r),null;case 13:if(Ke(Xe),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ye&&sn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)sp(),Ws(),r.flags|=98560,f=!1;else if(f=Ul(r),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(t(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Wn]=r}else Ws(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ot(r),f=!1}else Sn!==null&&(kh(Sn),Sn=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Xe.current&1)!==0?ft===0&&(ft=3):Vh())),r.updateQueue!==null&&(r.flags|=4),Ot(r),null);case 4:return Qs(),_h(n,r),n===null&&ra(r.stateNode.containerInfo),Ot(r),null;case 10:return qc(r.type._context),Ot(r),null;case 17:return $t(r.type)&&xl(),Ot(r),null;case 19:if(Ke(Xe),f=r.memoizedState,f===null)return Ot(r),null;if(c=(r.flags&128)!==0,_=f.rendering,_===null)if(c)ma(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=Wl(n),_!==null){for(r.flags|=128,ma(f,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)f=o,n=c,f.flags&=14680066,_=f.alternate,_===null?(f.childLanes=0,f.lanes=n,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,n=_.dependencies,f.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return He(Xe,Xe.current&1|2),r.child}n=n.sibling}f.tail!==null&&We()>Zs&&(r.flags|=128,c=!0,ma(f,!1),r.lanes=4194304)}else{if(!c)if(n=Wl(_),n!==null){if(r.flags|=128,c=!0,o=n.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),ma(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Ye)return Ot(r),null}else 2*We()-f.renderingStartTime>Zs&&o!==1073741824&&(r.flags|=128,c=!0,ma(f,!1),r.lanes=4194304);f.isBackwards?(_.sibling=r.child,r.child=_):(o=f.last,o!==null?o.sibling=_:r.child=_,f.last=_)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=We(),r.sibling=null,o=Xe.current,He(Xe,c?o&1|2:o&1),r):(Ot(r),null);case 22:case 23:return Dh(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(on&1073741824)!==0&&(Ot(r),r.subtreeFlags&6&&(r.flags|=8192)):Ot(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function wE(n,r){switch(jc(r),r.tag){case 1:return $t(r.type)&&xl(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Qs(),Ke(Bt),Ke(Dt),Zc(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Xc(r),null;case 13:if(Ke(Xe),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Ws()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ke(Xe),null;case 4:return Qs(),null;case 10:return qc(r.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var eu=!1,xt=!1,TE=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Xs(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){nt(n,r,c)}else o.current=null}function vh(n,r,o){try{o()}catch(c){nt(n,r,c)}}var rm=!1;function IE(n,r){if(Dc=dr,n=Lf(),Ic(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var _=0,T=-1,C=-1,F=0,H=0,K=n,$=null;t:for(;;){for(var Z;K!==o||d!==0&&K.nodeType!==3||(T=_+d),K!==f||c!==0&&K.nodeType!==3||(C=_+c),K.nodeType===3&&(_+=K.nodeValue.length),(Z=K.firstChild)!==null;)$=K,K=Z;for(;;){if(K===n)break t;if($===o&&++F===d&&(T=_),$===f&&++H===c&&(C=_),(Z=K.nextSibling)!==null)break;K=$,$=K.parentNode}K=Z}o=T===-1||C===-1?null:{start:T,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vc={focusedElem:n,selectionRange:o},dr=!1,ne=r;ne!==null;)if(r=ne,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ne=n;else for(;ne!==null;){r=ne;try{var re=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,st=re.memoizedState,L=r.stateNode,N=L.getSnapshotBeforeUpdate(r.elementType===r.type?ie:An(r.type,ie),st);L.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(G){nt(r,r.return,G)}if(n=r.sibling,n!==null){n.return=r.return,ne=n;break}ne=r.return}return re=rm,rm=!1,re}function ga(n,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var f=d.destroy;d.destroy=void 0,f!==void 0&&vh(r,o,f)}d=d.next}while(d!==c)}}function tu(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Eh(n){var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof r=="function"?r(n):r.current=n}}function im(n){var r=n.alternate;r!==null&&(n.alternate=null,im(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Wn],delete r[sa],delete r[Mc],delete r[sE],delete r[oE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function sm(n){return n.tag===5||n.tag===3||n.tag===4}function om(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wh(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(n,r):o.insertBefore(n,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(n,o)):(r=o,r.appendChild(n)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Vl));else if(c!==4&&(n=n.child,n!==null))for(wh(n,r,o),n=n.sibling;n!==null;)wh(n,r,o),n=n.sibling}function Th(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Th(n,r,o),n=n.sibling;n!==null;)Th(n,r,o),n=n.sibling}var St=null,Rn=!1;function ti(n,r,o){for(o=o.child;o!==null;)am(n,r,o),o=o.sibling}function am(n,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Oi,o)}catch{}switch(o.tag){case 5:xt||Xs(o,r);case 6:var c=St,d=Rn;St=null,ti(n,r,o),St=c,Rn=d,St!==null&&(Rn?(n=St,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(Rn?(n=St,o=o.stateNode,n.nodeType===8?Lc(n.parentNode,o):n.nodeType===1&&Lc(n,o),Wr(n)):Lc(St,o.stateNode));break;case 4:c=St,d=Rn,St=o.stateNode.containerInfo,Rn=!0,ti(n,r,o),St=c,Rn=d;break;case 0:case 11:case 14:case 15:if(!xt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var f=d,_=f.destroy;f=f.tag,_!==void 0&&((f&2)!==0||(f&4)!==0)&&vh(o,r,_),d=d.next}while(d!==c)}ti(n,r,o);break;case 1:if(!xt&&(Xs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(T){nt(o,r,T)}ti(n,r,o);break;case 21:ti(n,r,o);break;case 22:o.mode&1?(xt=(c=xt)||o.memoizedState!==null,ti(n,r,o),xt=c):ti(n,r,o);break;default:ti(n,r,o)}}function lm(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new TE),r.forEach(function(c){var d=VE.bind(null,n,c);o.has(c)||(o.add(c),c.then(d,d))})}}function Cn(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var f=n,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 5:St=T.stateNode,Rn=!1;break e;case 3:St=T.stateNode.containerInfo,Rn=!0;break e;case 4:St=T.stateNode.containerInfo,Rn=!0;break e}T=T.return}if(St===null)throw Error(t(160));am(f,_,d),St=null,Rn=!1;var C=d.alternate;C!==null&&(C.return=null),d.return=null}catch(F){nt(d,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)um(r,n),r=r.sibling}function um(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Cn(r,n),Gn(n),c&4){try{ga(3,n,n.return),tu(3,n)}catch(ie){nt(n,n.return,ie)}try{ga(5,n,n.return)}catch(ie){nt(n,n.return,ie)}}break;case 1:Cn(r,n),Gn(n),c&512&&o!==null&&Xs(o,o.return);break;case 5:if(Cn(r,n),Gn(n),c&512&&o!==null&&Xs(o,o.return),n.flags&32){var d=n.stateNode;try{Pi(d,"")}catch(ie){nt(n,n.return,ie)}}if(c&4&&(d=n.stateNode,d!=null)){var f=n.memoizedProps,_=o!==null?o.memoizedProps:f,T=n.type,C=n.updateQueue;if(n.updateQueue=null,C!==null)try{T==="input"&&f.type==="radio"&&f.name!=null&&ms(d,f),_s(T,_);var F=_s(T,f);for(_=0;_<C.length;_+=2){var H=C[_],K=C[_+1];H==="style"?ys(d,K):H==="dangerouslySetInnerHTML"?sl(d,K):H==="children"?Pi(d,K):Ee(d,H,K,F)}switch(T){case"input":Ci(d,f);break;case"textarea":il(d,f);break;case"select":var $=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Z=f.value;Z!=null?vn(d,!!f.multiple,Z,!1):$!==!!f.multiple&&(f.defaultValue!=null?vn(d,!!f.multiple,f.defaultValue,!0):vn(d,!!f.multiple,f.multiple?[]:"",!1))}d[sa]=f}catch(ie){nt(n,n.return,ie)}}break;case 6:if(Cn(r,n),Gn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,f=n.memoizedProps;try{d.nodeValue=f}catch(ie){nt(n,n.return,ie)}}break;case 3:if(Cn(r,n),Gn(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Wr(r.containerInfo)}catch(ie){nt(n,n.return,ie)}break;case 4:Cn(r,n),Gn(n);break;case 13:Cn(r,n),Gn(n),d=n.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Ah=We())),c&4&&lm(n);break;case 22:if(H=o!==null&&o.memoizedState!==null,n.mode&1?(xt=(F=xt)||H,Cn(r,n),xt=F):Cn(r,n),Gn(n),c&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!H&&(n.mode&1)!==0)for(ne=n,H=n.child;H!==null;){for(K=ne=H;ne!==null;){switch($=ne,Z=$.child,$.tag){case 0:case 11:case 14:case 15:ga(4,$,$.return);break;case 1:Xs($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){c=$,o=$.return;try{r=c,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(ie){nt(c,o,ie)}}break;case 5:Xs($,$.return);break;case 22:if($.memoizedState!==null){dm(K);continue}}Z!==null?(Z.return=$,ne=Z):dm(K)}H=H.sibling}e:for(H=null,K=n;;){if(K.tag===5){if(H===null){H=K;try{d=K.stateNode,F?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(T=K.stateNode,C=K.memoizedProps.style,_=C!=null&&C.hasOwnProperty("display")?C.display:null,T.style.display=Mr("display",_))}catch(ie){nt(n,n.return,ie)}}}else if(K.tag===6){if(H===null)try{K.stateNode.nodeValue=F?"":K.memoizedProps}catch(ie){nt(n,n.return,ie)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===n)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===n)break e;for(;K.sibling===null;){if(K.return===null||K.return===n)break e;H===K&&(H=null),K=K.return}H===K&&(H=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Cn(r,n),Gn(n),c&4&&lm(n);break;case 21:break;default:Cn(r,n),Gn(n)}}function Gn(n){var r=n.flags;if(r&2){try{e:{for(var o=n.return;o!==null;){if(sm(o)){var c=o;break e}o=o.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Pi(d,""),c.flags&=-33);var f=om(n);Th(n,f,d);break;case 3:case 4:var _=c.stateNode.containerInfo,T=om(n);wh(n,T,_);break;default:throw Error(t(161))}}catch(C){nt(n,n.return,C)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function SE(n,r,o){ne=n,cm(n)}function cm(n,r,o){for(var c=(n.mode&1)!==0;ne!==null;){var d=ne,f=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||eu;if(!_){var T=d.alternate,C=T!==null&&T.memoizedState!==null||xt;T=eu;var F=xt;if(eu=_,(xt=C)&&!F)for(ne=d;ne!==null;)_=ne,C=_.child,_.tag===22&&_.memoizedState!==null?fm(d):C!==null?(C.return=_,ne=C):fm(d);for(;f!==null;)ne=f,cm(f),f=f.sibling;ne=d,eu=T,xt=F}hm(n)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,ne=f):hm(n)}}function hm(n){for(;ne!==null;){var r=ne;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:xt||tu(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!xt)if(o===null)c.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:An(r.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&dp(r,f,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}dp(r,_,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var C=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&o.focus();break;case"img":C.src&&(o.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var H=F.memoizedState;if(H!==null){var K=H.dehydrated;K!==null&&Wr(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}xt||r.flags&512&&Eh(r)}catch($){nt(r,r.return,$)}}if(r===n){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function dm(n){for(;ne!==null;){var r=ne;if(r===n){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function fm(n){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{tu(4,r)}catch(C){nt(r,o,C)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(C){nt(r,d,C)}}var f=r.return;try{Eh(r)}catch(C){nt(r,f,C)}break;case 5:var _=r.return;try{Eh(r)}catch(C){nt(r,_,C)}}}catch(C){nt(r,r.return,C)}if(r===n){ne=null;break}var T=r.sibling;if(T!==null){T.return=r.return,ne=T;break}ne=r.return}}var AE=Math.ceil,nu=xe.ReactCurrentDispatcher,Ih=xe.ReactCurrentOwner,pn=xe.ReactCurrentBatchConfig,Oe=0,_t=null,ut=null,At=0,on=0,Js=Yr(0),ft=0,ya=null,Qi=0,ru=0,Sh=0,_a=null,Wt=null,Ah=0,Zs=1/0,Tr=null,iu=!1,Rh=null,ni=null,su=!1,ri=null,ou=0,va=0,Ch=null,au=-1,lu=0;function zt(){return(Oe&6)!==0?We():au!==-1?au:au=We()}function ii(n){return(n.mode&1)===0?1:(Oe&2)!==0&&At!==0?At&-At:lE.transition!==null?(lu===0&&(lu=jo()),lu):(n=ke,n!==0||(n=window.event,n=n===void 0?16:Ps(n.type)),n)}function Pn(n,r,o,c){if(50<va)throw va=0,Ch=null,Error(t(185));bi(n,o,c),((Oe&2)===0||n!==_t)&&(n===_t&&((Oe&2)===0&&(ru|=o),ft===4&&si(n,At)),qt(n,c),o===1&&Oe===0&&(r.mode&1)===0&&(Zs=We()+500,Ml&&Jr()))}function qt(n,r){var o=n.callbackNode;Mi(n,r);var c=ur(n,n===_t?At:0);if(c===0)o!==null&&ws(o),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(o!=null&&ws(o),r===1)n.tag===0?aE(mm.bind(null,n)):ep(mm.bind(null,n)),rE(function(){(Oe&6)===0&&Jr()}),o=null;else{switch(Ln(c)){case 1:o=Ts;break;case 4:o=bo;break;case 16:o=Vi;break;case 536870912:o=Is;break;default:o=Vi}o=Im(o,pm.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function pm(n,r){if(au=-1,lu=0,(Oe&6)!==0)throw Error(t(327));var o=n.callbackNode;if(eo()&&n.callbackNode!==o)return null;var c=ur(n,n===_t?At:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=uu(n,c);else{r=c;var d=Oe;Oe|=2;var f=ym();(_t!==n||At!==r)&&(Tr=null,Zs=We()+500,Xi(n,r));do try{PE();break}catch(T){gm(n,T)}while(!0);Wc(),nu.current=f,Oe=d,ut!==null?r=0:(_t=null,At=0,r=ft)}if(r!==0){if(r===2&&(d=Uo(n),d!==0&&(c=d,r=Ph(n,d))),r===1)throw o=ya,Xi(n,0),si(n,c),qt(n,We()),o;if(r===6)si(n,c);else{if(d=n.current.alternate,(c&30)===0&&!RE(d)&&(r=uu(n,c),r===2&&(f=Uo(n),f!==0&&(c=f,r=Ph(n,f))),r===1))throw o=ya,Xi(n,0),si(n,c),qt(n,We()),o;switch(n.finishedWork=d,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:Ji(n,Wt,Tr);break;case 3:if(si(n,c),(c&130023424)===c&&(r=Ah+500-We(),10<r)){if(ur(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){zt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=xc(Ji.bind(null,n,Wt,Tr),r);break}Ji(n,Wt,Tr);break;case 4:if(si(n,c),(c&4194240)===c)break;for(r=n.eventTimes,d=-1;0<c;){var _=31-Jt(c);f=1<<_,_=r[_],_>d&&(d=_),c&=~f}if(c=d,c=We()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*AE(c/1960))-c,10<c){n.timeoutHandle=xc(Ji.bind(null,n,Wt,Tr),c);break}Ji(n,Wt,Tr);break;case 5:Ji(n,Wt,Tr);break;default:throw Error(t(329))}}}return qt(n,We()),n.callbackNode===o?pm.bind(null,n):null}function Ph(n,r){var o=_a;return n.current.memoizedState.isDehydrated&&(Xi(n,r).flags|=256),n=uu(n,r),n!==2&&(r=Wt,Wt=o,r!==null&&kh(r)),n}function kh(n){Wt===null?Wt=n:Wt.push.apply(Wt,n)}function RE(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],f=d.getSnapshot;d=d.value;try{if(!In(f(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function si(n,r){for(r&=~Sh,r&=~ru,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-Jt(r),c=1<<o;n[o]=-1,r&=~c}}function mm(n){if((Oe&6)!==0)throw Error(t(327));eo();var r=ur(n,0);if((r&1)===0)return qt(n,We()),null;var o=uu(n,r);if(n.tag!==0&&o===2){var c=Uo(n);c!==0&&(r=c,o=Ph(n,c))}if(o===1)throw o=ya,Xi(n,0),si(n,r),qt(n,We()),o;if(o===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Ji(n,Wt,Tr),qt(n,We()),null}function Nh(n,r){var o=Oe;Oe|=1;try{return n(r)}finally{Oe=o,Oe===0&&(Zs=We()+500,Ml&&Jr())}}function Yi(n){ri!==null&&ri.tag===0&&(Oe&6)===0&&eo();var r=Oe;Oe|=1;var o=pn.transition,c=ke;try{if(pn.transition=null,ke=1,n)return n()}finally{ke=c,pn.transition=o,Oe=r,(Oe&6)===0&&Jr()}}function Dh(){on=Js.current,Ke(Js)}function Xi(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,nE(o)),ut!==null)for(o=ut.return;o!==null;){var c=o;switch(jc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&xl();break;case 3:Qs(),Ke(Bt),Ke(Dt),Zc();break;case 5:Xc(c);break;case 4:Qs();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:qc(c.type._context);break;case 22:case 23:Dh()}o=o.return}if(_t=n,ut=n=oi(n.current,null),At=on=r,ft=0,ya=null,Sh=ru=Qi=0,Wt=_a=null,qi!==null){for(r=0;r<qi.length;r++)if(o=qi[r],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,f=o.pending;if(f!==null){var _=f.next;f.next=d,c.next=_}o.pending=c}qi=null}return n}function gm(n,r){do{var o=ut;try{if(Wc(),ql.current=Yl,Kl){for(var c=Je.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Kl=!1}if(Gi=0,yt=dt=Je=null,ha=!1,da=0,Ih.current=null,o===null||o.return===null){ft=1,ya=r,ut=null;break}e:{var f=n,_=o.return,T=o,C=r;if(r=At,T.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=C,H=T,K=H.tag;if((H.mode&1)===0&&(K===0||K===11||K===15)){var $=H.alternate;$?(H.updateQueue=$.updateQueue,H.memoizedState=$.memoizedState,H.lanes=$.lanes):(H.updateQueue=null,H.memoizedState=null)}var Z=zp(_);if(Z!==null){Z.flags&=-257,Bp(Z,_,T,f,r),Z.mode&1&&jp(f,F,r),r=Z,C=F;var re=r.updateQueue;if(re===null){var ie=new Set;ie.add(C),r.updateQueue=ie}else re.add(C);break e}else{if((r&1)===0){jp(f,F,r),Vh();break e}C=Error(t(426))}}else if(Ye&&T.mode&1){var st=zp(_);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Bp(st,_,T,f,r),$c(Ys(C,T));break e}}f=C=Ys(C,T),ft!==4&&(ft=2),_a===null?_a=[f]:_a.push(f),f=_;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var L=Fp(f,C,r);hp(f,L);break e;case 1:T=C;var N=f.type,b=f.stateNode;if((f.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ni===null||!ni.has(b)))){f.flags|=65536,r&=-r,f.lanes|=r;var G=Up(f,T,r);hp(f,G);break e}}f=f.return}while(f!==null)}vm(o)}catch(se){r=se,ut===o&&o!==null&&(ut=o=o.return);continue}break}while(!0)}function ym(){var n=nu.current;return nu.current=Yl,n===null?Yl:n}function Vh(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||(Qi&268435455)===0&&(ru&268435455)===0||si(_t,At)}function uu(n,r){var o=Oe;Oe|=2;var c=ym();(_t!==n||At!==r)&&(Tr=null,Xi(n,r));do try{CE();break}catch(d){gm(n,d)}while(!0);if(Wc(),Oe=o,nu.current=c,ut!==null)throw Error(t(261));return _t=null,At=0,ft}function CE(){for(;ut!==null;)_m(ut)}function PE(){for(;ut!==null&&!Di();)_m(ut)}function _m(n){var r=Tm(n.alternate,n,on);n.memoizedProps=n.pendingProps,r===null?vm(n):ut=r,Ih.current=null}function vm(n){var r=n;do{var o=r.alternate;if(n=r.return,(r.flags&32768)===0){if(o=EE(o,r,on),o!==null){ut=o;return}}else{if(o=wE(o,r),o!==null){o.flags&=32767,ut=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ft=6,ut=null;return}}if(r=r.sibling,r!==null){ut=r;return}ut=r=n}while(r!==null);ft===0&&(ft=5)}function Ji(n,r,o){var c=ke,d=pn.transition;try{pn.transition=null,ke=1,kE(n,r,o,c)}finally{pn.transition=d,ke=c}return null}function kE(n,r,o,c){do eo();while(ri!==null);if((Oe&6)!==0)throw Error(t(327));o=n.finishedWork;var d=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var f=o.lanes|o.childLanes;if(_c(n,f),n===_t&&(ut=_t=null,At=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||su||(su=!0,Im(Vi,function(){return eo(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=pn.transition,pn.transition=null;var _=ke;ke=1;var T=Oe;Oe|=4,Ih.current=null,IE(n,o),um(o,n),Qv(Vc),dr=!!Dc,Vc=Dc=null,n.current=o,SE(o),lr(),Oe=T,ke=_,pn.transition=f}else n.current=o;if(su&&(su=!1,ri=n,ou=d),f=n.pendingLanes,f===0&&(ni=null),gl(o.stateNode),qt(n,We()),r!==null)for(c=n.onRecoverableError,o=0;o<r.length;o++)d=r[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(iu)throw iu=!1,n=Rh,Rh=null,n;return(ou&1)!==0&&n.tag!==0&&eo(),f=n.pendingLanes,(f&1)!==0?n===Ch?va++:(va=0,Ch=n):va=0,Jr(),null}function eo(){if(ri!==null){var n=Ln(ou),r=pn.transition,o=ke;try{if(pn.transition=null,ke=16>n?16:n,ri===null)var c=!1;else{if(n=ri,ri=null,ou=0,(Oe&6)!==0)throw Error(t(331));var d=Oe;for(Oe|=4,ne=n.current;ne!==null;){var f=ne,_=f.child;if((ne.flags&16)!==0){var T=f.deletions;if(T!==null){for(var C=0;C<T.length;C++){var F=T[C];for(ne=F;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:ga(8,H,f)}var K=H.child;if(K!==null)K.return=H,ne=K;else for(;ne!==null;){H=ne;var $=H.sibling,Z=H.return;if(im(H),H===F){ne=null;break}if($!==null){$.return=Z,ne=$;break}ne=Z}}}var re=f.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var st=ie.sibling;ie.sibling=null,ie=st}while(ie!==null)}}ne=f}}if((f.subtreeFlags&2064)!==0&&_!==null)_.return=f,ne=_;else e:for(;ne!==null;){if(f=ne,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ga(9,f,f.return)}var L=f.sibling;if(L!==null){L.return=f.return,ne=L;break e}ne=f.return}}var N=n.current;for(ne=N;ne!==null;){_=ne;var b=_.child;if((_.subtreeFlags&2064)!==0&&b!==null)b.return=_,ne=b;else e:for(_=N;ne!==null;){if(T=ne,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:tu(9,T)}}catch(se){nt(T,T.return,se)}if(T===_){ne=null;break e}var G=T.sibling;if(G!==null){G.return=T.return,ne=G;break e}ne=T.return}}if(Oe=d,Jr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Oi,n)}catch{}c=!0}return c}finally{ke=o,pn.transition=r}}return!1}function Em(n,r,o){r=Ys(o,r),r=Fp(n,r,1),n=ei(n,r,1),r=zt(),n!==null&&(bi(n,1,r),qt(n,r))}function nt(n,r,o){if(n.tag===3)Em(n,n,o);else for(;r!==null;){if(r.tag===3){Em(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ni===null||!ni.has(c))){n=Ys(o,n),n=Up(r,n,1),r=ei(r,n,1),n=zt(),r!==null&&(bi(r,1,n),qt(r,n));break}}r=r.return}}function NE(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),r=zt(),n.pingedLanes|=n.suspendedLanes&o,_t===n&&(At&o)===o&&(ft===4||ft===3&&(At&130023424)===At&&500>We()-Ah?Xi(n,0):Sh|=o),qt(n,r)}function wm(n,r){r===0&&((n.mode&1)===0?r=1:(r=Br,Br<<=1,(Br&130023424)===0&&(Br=4194304)));var o=zt();n=vr(n,r),n!==null&&(bi(n,r,o),qt(n,o))}function DE(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),wm(n,o)}function VE(n,r){var o=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),wm(n,o)}var Tm;Tm=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||Bt.current)Ht=!0;else{if((n.lanes&o)===0&&(r.flags&128)===0)return Ht=!1,vE(n,r,o);Ht=(n.flags&131072)!==0}else Ht=!1,Ye&&(r.flags&1048576)!==0&&tp(r,Fl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Zl(n,r),n=r.pendingProps;var d=Bs(r,Dt.current);Gs(r,o),d=nh(null,r,c,n,d,o);var f=rh();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,$t(c)?(f=!0,Ll(r)):f=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Qc(r),d.updater=Xl,r.stateNode=d,d._reactInternals=r,uh(r,c,n,o),r=fh(null,r,c,!0,f,o)):(r.tag=0,Ye&&f&&Uc(r),jt(null,r,d,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Zl(n,r),n=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=xE(c),n=An(c,n),d){case 0:r=dh(null,r,c,n,o);break e;case 1:r=Gp(null,r,c,n,o);break e;case 11:r=$p(null,r,c,n,o);break e;case 14:r=Hp(null,r,c,An(c.type,n),o);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:An(c,d),dh(n,r,c,d,o);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:An(c,d),Gp(n,r,c,d,o);case 3:e:{if(Qp(r),n===null)throw Error(t(387));c=r.pendingProps,f=r.memoizedState,d=f.element,cp(n,r),Hl(r,c,null,o);var _=r.memoizedState;if(c=_.element,f.isDehydrated)if(f={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){d=Ys(Error(t(423)),r),r=Yp(n,r,c,o,d);break e}else if(c!==d){d=Ys(Error(t(424)),r),r=Yp(n,r,c,o,d);break e}else for(sn=Qr(r.stateNode.containerInfo.firstChild),rn=r,Ye=!0,Sn=null,o=lp(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ws(),c===d){r=wr(n,r,o);break e}jt(n,r,c,o)}r=r.child}return r;case 5:return fp(r),n===null&&Bc(r),c=r.type,d=r.pendingProps,f=n!==null?n.memoizedProps:null,_=d.children,Oc(c,d)?_=null:f!==null&&Oc(c,f)&&(r.flags|=32),Kp(n,r),jt(n,r,_,o),r.child;case 6:return n===null&&Bc(r),null;case 13:return Xp(n,r,o);case 4:return Yc(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=qs(r,null,c,o):jt(n,r,c,o),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:An(c,d),$p(n,r,c,d,o);case 7:return jt(n,r,r.pendingProps,o),r.child;case 8:return jt(n,r,r.pendingProps.children,o),r.child;case 12:return jt(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,f=r.memoizedProps,_=d.value,He(zl,c._currentValue),c._currentValue=_,f!==null)if(In(f.value,_)){if(f.children===d.children&&!Bt.current){r=wr(n,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var T=f.dependencies;if(T!==null){_=f.child;for(var C=T.firstContext;C!==null;){if(C.context===c){if(f.tag===1){C=Er(-1,o&-o),C.tag=2;var F=f.updateQueue;if(F!==null){F=F.shared;var H=F.pending;H===null?C.next=C:(C.next=H.next,H.next=C),F.pending=C}}f.lanes|=o,C=f.alternate,C!==null&&(C.lanes|=o),Kc(f.return,o,r),T.lanes|=o;break}C=C.next}}else if(f.tag===10)_=f.type===r.type?null:f.child;else if(f.tag===18){if(_=f.return,_===null)throw Error(t(341));_.lanes|=o,T=_.alternate,T!==null&&(T.lanes|=o),Kc(_,o,r),_=f.sibling}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===r){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}jt(n,r,d.children,o),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,Gs(r,o),d=dn(d),c=c(d),r.flags|=1,jt(n,r,c,o),r.child;case 14:return c=r.type,d=An(c,r.pendingProps),d=An(c.type,d),Hp(n,r,c,d,o);case 15:return Wp(n,r,r.type,r.pendingProps,o);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:An(c,d),Zl(n,r),r.tag=1,$t(c)?(n=!0,Ll(r)):n=!1,Gs(r,o),Mp(r,c,d),uh(r,c,d,o),fh(null,r,c,!0,n,o);case 19:return Zp(n,r,o);case 22:return qp(n,r,o)}throw Error(t(156,r.tag))};function Im(n,r){return Mo(n,r)}function OE(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(n,r,o,c){return new OE(n,r,o,c)}function Oh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xE(n){if(typeof n=="function")return Oh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===x)return 11;if(n===gt)return 14}return 2}function oi(n,r){var o=n.alternate;return o===null?(o=mn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function cu(n,r,o,c,d,f){var _=2;if(c=n,typeof n=="function")Oh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case k:return Zi(o.children,d,f,r);case I:_=8,d|=8;break;case A:return n=mn(12,o,r,d|2),n.elementType=A,n.lanes=f,n;case S:return n=mn(13,o,r,d),n.elementType=S,n.lanes=f,n;case $e:return n=mn(19,o,r,d),n.elementType=$e,n.lanes=f,n;case Qe:return hu(o,d,f,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:_=10;break e;case P:_=9;break e;case x:_=11;break e;case gt:_=14;break e;case kt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=mn(_,o,r,d),r.elementType=n,r.type=c,r.lanes=f,r}function Zi(n,r,o,c){return n=mn(7,n,c,r),n.lanes=o,n}function hu(n,r,o,c){return n=mn(22,n,c,r),n.elementType=Qe,n.lanes=o,n.stateNode={isHidden:!1},n}function xh(n,r,o){return n=mn(6,n,null,r),n.lanes=o,n}function Lh(n,r,o){return r=mn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function LE(n,r,o,c,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zo(0),this.expirationTimes=zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Mh(n,r,o,c,d,f,_,T,C){return n=new LE(n,r,o,T,C),r===1?(r=1,f===!0&&(r|=8)):r=0,f=mn(3,null,null,r),n.current=f,f.stateNode=n,f.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qc(f),n}function ME(n,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ne,key:c==null?null:""+c,children:n,containerInfo:r,implementation:o}}function Sm(n){if(!n)return Xr;n=n._reactInternals;e:{if(wn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if($t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var o=n.type;if($t(o))return Jf(n,o,r)}return r}function Am(n,r,o,c,d,f,_,T,C){return n=Mh(o,c,!0,n,d,f,_,T,C),n.context=Sm(null),o=n.current,c=zt(),d=ii(o),f=Er(c,d),f.callback=r??null,ei(o,f,d),n.current.lanes=d,bi(n,d,c),qt(n,c),n}function du(n,r,o,c){var d=r.current,f=zt(),_=ii(d);return o=Sm(o),r.context===null?r.context=o:r.pendingContext=o,r=Er(f,_),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=ei(d,r,_),n!==null&&(Pn(n,d,_,f),$l(n,d,_)),_}function fu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Rm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function bh(n,r){Rm(n,r),(n=n.alternate)&&Rm(n,r)}function bE(){return null}var Cm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Fh(n){this._internalRoot=n}pu.prototype.render=Fh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));du(n,r,null,null)},pu.prototype.unmount=Fh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Yi(function(){du(null,n,null,null)}),r[mr]=null}};function pu(n){this._internalRoot=n}pu.prototype.unstable_scheduleHydration=function(n){if(n){var r=Wo();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Zt.length&&r!==0&&r<Zt[o].priority;o++);Zt.splice(o,0,n),o===0&&Rs(n)}};function Uh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function mu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Pm(){}function FE(n,r,o,c,d){if(d){if(typeof c=="function"){var f=c;c=function(){var F=fu(_);f.call(F)}}var _=Am(r,c,n,0,null,!1,!1,"",Pm);return n._reactRootContainer=_,n[mr]=_.current,ra(n.nodeType===8?n.parentNode:n),Yi(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var T=c;c=function(){var F=fu(C);T.call(F)}}var C=Mh(n,0,!1,null,null,!1,!1,"",Pm);return n._reactRootContainer=C,n[mr]=C.current,ra(n.nodeType===8?n.parentNode:n),Yi(function(){du(r,C,o,c)}),C}function gu(n,r,o,c,d){var f=o._reactRootContainer;if(f){var _=f;if(typeof d=="function"){var T=d;d=function(){var C=fu(_);T.call(C)}}du(r,_,n,d)}else _=FE(o,r,n,d,c);return fu(_)}$o=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=Me(r.pendingLanes);o!==0&&(Bo(r,o|1),qt(r,We()),(Oe&6)===0&&(Zs=We()+500,Jr()))}break;case 13:Yi(function(){var c=vr(n,1);if(c!==null){var d=zt();Pn(c,n,1,d)}}),bh(n,1)}},Ss=function(n){if(n.tag===13){var r=vr(n,134217728);if(r!==null){var o=zt();Pn(r,n,134217728,o)}bh(n,134217728)}},Ho=function(n){if(n.tag===13){var r=ii(n),o=vr(n,r);if(o!==null){var c=zt();Pn(o,n,r,c)}bh(n,r)}},Wo=function(){return ke},qo=function(n,r){var o=ke;try{return ke=n,r()}finally{ke=o}},sr=function(n,r,o){switch(r){case"input":if(Ci(n,o),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var d=Ol(c);if(!d)throw Error(t(90));Co(c),Ci(c,d)}}}break;case"textarea":il(n,o);break;case"select":r=o.value,r!=null&&vn(n,!!o.multiple,r,!1)}},al=Nh,ll=Yi;var UE={usingClientEntryPoint:!1,Events:[oa,js,Ol,Fr,Ur,Nh]},Ea={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jE={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xe.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ml(n),n===null?null:n.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||bE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Oi=yu.inject(jE),Xt=yu}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UE,Kt.createPortal=function(n,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uh(r))throw Error(t(200));return ME(n,r,null,o)},Kt.createRoot=function(n,r){if(!Uh(n))throw Error(t(299));var o=!1,c="",d=Cm;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Mh(n,1,!1,null,null,o,!1,c,d),n[mr]=r.current,ra(n.nodeType===8?n.parentNode:n),new Fh(r)},Kt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=ml(r),n=n===null?null:n.stateNode,n},Kt.flushSync=function(n){return Yi(n)},Kt.hydrate=function(n,r,o){if(!mu(r))throw Error(t(200));return gu(null,n,r,!0,o)},Kt.hydrateRoot=function(n,r,o){if(!Uh(n))throw Error(t(405));var c=o!=null&&o.hydratedSources||null,d=!1,f="",_=Cm;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Am(r,null,n,1,o??null,d,!1,f,_),n[mr]=r.current,ra(n),c)for(n=0;n<c.length;n++)o=c[n],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new pu(r)},Kt.render=function(n,r,o){if(!mu(r))throw Error(t(200));return gu(null,n,r,!1,o)},Kt.unmountComponentAtNode=function(n){if(!mu(n))throw Error(t(40));return n._reactRootContainer?(Yi(function(){gu(null,null,n,!1,function(){n._reactRootContainer=null,n[mr]=null})}),!0):!1},Kt.unstable_batchedUpdates=Nh,Kt.unstable_renderSubtreeIntoContainer=function(n,r,o,c){if(!mu(o))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return gu(n,r,o,!1,c)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var Mm;function QE(){if(Mm)return Bh.exports;Mm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bh.exports=GE(),Bh.exports}var bm;function YE(){if(bm)return _u;bm=1;var i=QE();return _u.createRoot=i.createRoot,_u.hydrateRoot=i.hydrateRoot,_u}var XE=YE();const JE=fy(XE);function ZE({totalNeeds:i,utilityItems:e,onUtilityUpdate:t}){const s=Qt.useMemo(()=>{const u={};return i&&Object.values(i).forEach(h=>{for(const m in h){const y=m.toLowerCase();u[y]=(u[y]||0)+h[m]}}),u},[i]),a=Qt.useMemo(()=>{const u=[],h=new Set([...Object.keys(s),...Object.keys(e)]),m=Array.from(h).sort();for(const y of m){const v=s[y]||0,w=e[y]?.have||0,R=v-w;(v>0||R>0)&&u.push({item:y,needed:v,have:w,remaining:R})}return u.sort((y,v)=>v.remaining-y.remaining),u},[s,e]);return pe.jsxs("div",{className:"main-content production-planner-container",children:[pe.jsx("h2",{children:"Production Planning (Total Needs)"}),pe.jsx("p",{children:"Displays all needed items aggregated from all orders and projects."}),pe.jsxs("table",{className:"production-table",children:[pe.jsx("thead",{children:pe.jsxs("tr",{children:[pe.jsx("th",{children:"Item"}),pe.jsx("th",{children:"Needed (Total)"}),pe.jsx("th",{children:"In Stock (Have)"}),pe.jsx("th",{children:"Shortfall / Surplus"})]})}),pe.jsx("tbody",{children:a.map(u=>pe.jsxs("tr",{className:u.remaining>0?"shortfall-row":"ok-row",children:[pe.jsx("td",{children:u.item.charAt(0).toUpperCase()+u.item.slice(1)}),pe.jsx("td",{children:u.needed}),pe.jsx("td",{children:pe.jsx("input",{type:"number",value:u.have,min:"0",onChange:h=>t(u.item,Number(h.target.value)),className:"inventory-input"})}),pe.jsx("td",{className:"remaining-cell",children:pe.jsx("strong",{children:u.remaining})})]},u.item))})]})]})}function ew({totalNeeds:i,utilityItems:e,onUtilityUpdate:t}){return pe.jsx("div",{className:"production-tab",children:pe.jsx(ZE,{totalNeeds:i,utilityItems:e,onUtilityUpdate:t})})}const tw=()=>{};var Fm={};const py=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},nw=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const a=i[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[t++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[t++],h=i[t++],m=i[t++],y=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},my={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,m=h?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,w=u>>2,R=(u&3)<<4|m>>4;let V=(m&15)<<2|v>>6,j=v&63;y||(j=64,h||(V=64)),s.push(t[w],t[R],t[V],t[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(py(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):nw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=t[i.charAt(a++)],m=a<i.length?t[i.charAt(a)]:0;++a;const v=a<i.length?t[i.charAt(a)]:64;++a;const R=a<i.length?t[i.charAt(a)]:64;if(++a,u==null||m==null||v==null||R==null)throw new rw;const V=u<<2|m>>4;if(s.push(V),v!==64){const j=m<<4&240|v>>2;if(s.push(j),R!==64){const X=v<<6&192|R;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iw=function(i){const e=py(i);return my.encodeByteArray(e,!0)},Lu=function(i){return iw(i).replace(/\./g,"")},gy=function(i){try{return my.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ow=()=>sw().__FIREBASE_DEFAULTS__,aw=()=>{if(typeof process>"u"||typeof Fm>"u")return;const i=Fm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&gy(i[1]);return e&&JSON.parse(e)},tc=()=>{try{return tw()||ow()||aw()||lw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},yy=i=>tc()?.emulatorHosts?.[i],uw=i=>{const e=yy(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},_y=()=>tc()?.config,vy=i=>tc()?.[`_${i}`];class cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Eo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ey(i){return(await fetch(i,{credentials:"include"})).ok}function hw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Lu(JSON.stringify(t)),Lu(JSON.stringify(h)),""].join(".")}const Pa={};function dw(){const i={prod:[],emulator:[]};for(const e of Object.keys(Pa))Pa[e]?i.emulator.push(e):i.prod.push(e);return i}function fw(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Um=!1;function wy(i,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Pa[i]===e||Pa[i]||Um)return;Pa[i]=e;function t(V){return`__firebase__banner__${V}`}const s="__firebase__banner",u=dw().prod.length>0;function h(){const V=document.getElementById(s);V&&V.remove()}function m(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,j){V.setAttribute("width","24"),V.setAttribute("id",j),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Um=!0,h()},V}function w(V,j){V.setAttribute("id",j),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function R(){const V=fw(s),j=t("text"),X=document.getElementById(j)||document.createElement("span"),Y=t("learnmore"),q=document.getElementById(Y)||document.createElement("a"),me=t("preprendIcon"),ye=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const Ee=V.element;m(Ee),w(q,Y);const xe=v();y(ye,me),Ee.append(ye,X,q,xe),document.body.appendChild(Ee)}u?(X.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function mw(){const i=tc()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function _w(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vw(){const i=Ft();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Ew(){return!mw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ww(){try{return typeof indexedDB=="object"}catch{return!1}}function Tw(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const Iw="FirebaseError";class Dr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Iw,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qa.prototype.create)}}class qa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?Sw(u,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Dr(a,m,s)}}function Sw(i,e){return i.replace(Aw,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Aw=/\{\$([^}]+)}/g;function Rw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function rs(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(jm(u)&&jm(h)){if(!rs(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function jm(i){return i!==null&&typeof i=="object"}function Ka(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ta(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,u]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(u)}}),e}function Ia(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function Cw(i,e){const t=new Pw(i,e);return t.subscribe.bind(t)}class Pw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");kw(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Wh),a.error===void 0&&(a.error=Wh),a.complete===void 0&&(a.complete=Wh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kw(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Wh(){}function Yt(i){return i&&i._delegate?i._delegate:i}class is{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const es="[DEFAULT]";class Nw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new cw;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vw(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Dw(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Dw(i){return i===es?void 0:i}function Vw(i){return i.instantiationMode==="EAGER"}class Ow{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Nw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Re;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Re||(Re={}));const xw={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Lw=Re.INFO,Mw={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},bw=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Mw[e];if(a)console[a](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kd{constructor(e){this.name=e,this._logLevel=Lw,this._logHandler=bw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const Fw=(i,e)=>e.some(t=>i instanceof t);let zm,Bm;function Uw(){return zm||(zm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jw(){return Bm||(Bm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ty=new WeakMap,rd=new WeakMap,Iy=new WeakMap,qh=new WeakMap,Nd=new WeakMap;function zw(i){const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(fi(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Ty.set(t,i)}).catch(()=>{}),Nd.set(e,i),e}function Bw(i){if(rd.has(i))return;const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});rd.set(i,e)}let id={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return rd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Iy.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fi(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function $w(i){id=i(id)}function Hw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Kh(this),e,...t);return Iy.set(s,e.sort?e.sort():[e]),fi(s)}:jw().includes(i)?function(...e){return i.apply(Kh(this),e),fi(Ty.get(this))}:function(...e){return fi(i.apply(Kh(this),e))}}function Ww(i){return typeof i=="function"?Hw(i):(i instanceof IDBTransaction&&Bw(i),Fw(i,Uw())?new Proxy(i,id):i)}function fi(i){if(i instanceof IDBRequest)return zw(i);if(qh.has(i))return qh.get(i);const e=Ww(i);return e!==i&&(qh.set(i,e),Nd.set(e,i)),e}const Kh=i=>Nd.get(i);function qw(i,e,{blocked:t,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),m=fi(h);return s&&h.addEventListener("upgradeneeded",y=>{s(fi(h.result),y.oldVersion,y.newVersion,fi(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const Kw=["get","getKey","getAll","getAllKeys","count"],Gw=["put","add","delete","clear"],Gh=new Map;function $m(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Gh.get(e))return Gh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=Gw.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Kw.includes(t)))return;const u=async function(h,...m){const y=this.transaction(h,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[t](...m),a&&y.done]))[0]};return Gh.set(e,u),u}$w(i=>({...i,get:(e,t,s)=>$m(e,t)||i.get(e,t,s),has:(e,t)=>!!$m(e,t)||i.has(e,t)}));class Qw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Yw(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Yw(i){return i.getComponent()?.type==="VERSION"}const sd="@firebase/app",Hm="0.14.6";const Cr=new kd("@firebase/app"),Xw="@firebase/app-compat",Jw="@firebase/analytics-compat",Zw="@firebase/analytics",eT="@firebase/app-check-compat",tT="@firebase/app-check",nT="@firebase/auth",rT="@firebase/auth-compat",iT="@firebase/database",sT="@firebase/data-connect",oT="@firebase/database-compat",aT="@firebase/functions",lT="@firebase/functions-compat",uT="@firebase/installations",cT="@firebase/installations-compat",hT="@firebase/messaging",dT="@firebase/messaging-compat",fT="@firebase/performance",pT="@firebase/performance-compat",mT="@firebase/remote-config",gT="@firebase/remote-config-compat",yT="@firebase/storage",_T="@firebase/storage-compat",vT="@firebase/firestore",ET="@firebase/ai",wT="@firebase/firestore-compat",TT="firebase",IT="12.6.0";const od="[DEFAULT]",ST={[sd]:"fire-core",[Xw]:"fire-core-compat",[Zw]:"fire-analytics",[Jw]:"fire-analytics-compat",[tT]:"fire-app-check",[eT]:"fire-app-check-compat",[nT]:"fire-auth",[rT]:"fire-auth-compat",[iT]:"fire-rtdb",[sT]:"fire-data-connect",[oT]:"fire-rtdb-compat",[aT]:"fire-fn",[lT]:"fire-fn-compat",[uT]:"fire-iid",[cT]:"fire-iid-compat",[hT]:"fire-fcm",[dT]:"fire-fcm-compat",[fT]:"fire-perf",[pT]:"fire-perf-compat",[mT]:"fire-rc",[gT]:"fire-rc-compat",[yT]:"fire-gcs",[_T]:"fire-gcs-compat",[vT]:"fire-fst",[wT]:"fire-fst-compat",[ET]:"fire-vertex","fire-js":"fire-js",[TT]:"fire-js-all"};const Mu=new Map,AT=new Map,ad=new Map;function Wm(i,e){try{i.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function fo(i){const e=i.name;if(ad.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,i);for(const t of Mu.values())Wm(t,i);for(const t of AT.values())Wm(t,i);return!0}function Dd(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function an(i){return i==null?!1:i.settings!==void 0}const RT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new qa("app","Firebase",RT);class CT{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}const wo=IT;function Sy(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:od,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw pi.create("bad-app-name",{appName:String(a)});if(t||(t=_y()),!t)throw pi.create("no-options");const u=Mu.get(a);if(u){if(rs(t,u.options)&&rs(s,u.config))return u;throw pi.create("duplicate-app",{appName:a})}const h=new Ow(a);for(const y of ad.values())h.addComponent(y);const m=new CT(t,s,h);return Mu.set(a,m),m}function Ay(i=od){const e=Mu.get(i);if(!e&&i===od&&_y())return Sy();if(!e)throw pi.create("no-app",{appName:i});return e}function mi(i,e,t){let s=ST[i]??i;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(h.join(" "));return}fo(new is(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const PT="firebase-heartbeat-database",kT=1,La="firebase-heartbeat-store";let Qh=null;function Ry(){return Qh||(Qh=qw(PT,kT,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(La)}catch(t){console.warn(t)}}}}).catch(i=>{throw pi.create("idb-open",{originalErrorMessage:i.message})})),Qh}async function NT(i){try{const t=(await Ry()).transaction(La),s=await t.objectStore(La).get(Cy(i));return await t.done,s}catch(e){if(e instanceof Dr)Cr.warn(e.message);else{const t=pi.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(t.message)}}}async function qm(i,e){try{const s=(await Ry()).transaction(La,"readwrite");await s.objectStore(La).put(e,Cy(i)),await s.done}catch(t){if(t instanceof Dr)Cr.warn(t.message);else{const s=pi.create("idb-set",{originalErrorMessage:t?.message});Cr.warn(s.message)}}}function Cy(i){return`${i.name}!${i.options.appId}`}const DT=1024,VT=30;class OT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LT(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Km();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>VT){const a=MT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Km(),{heartbeatsToSend:t,unsentEntries:s}=xT(this._heartbeatsCache.heartbeats),a=Lu(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Cr.warn(e),""}}}function Km(){return new Date().toISOString().substring(0,10)}function xT(i,e=DT){const t=[];let s=i.slice();for(const a of i){const u=t.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Gm(t)>e){u.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Gm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class LT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ww()?Tw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await NT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gm(i){return Lu(JSON.stringify({version:2,heartbeats:i})).length}function MT(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function bT(i){fo(new is("platform-logger",e=>new Qw(e),"PRIVATE")),fo(new is("heartbeat",e=>new OT(e),"PRIVATE")),mi(sd,Hm,i),mi(sd,Hm,"esm2020"),mi("fire-js","")}bT("");var FT="firebase",UT="12.6.0";mi(FT,UT,"app");function Py(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jT=Py,ky=new qa("auth","Firebase",Py());const bu=new kd("@firebase/auth");function zT(i,...e){bu.logLevel<=Re.WARN&&bu.warn(`Auth (${wo}): ${i}`,...e)}function Au(i,...e){bu.logLevel<=Re.ERROR&&bu.error(`Auth (${wo}): ${i}`,...e)}function _n(i,...e){throw Od(i,...e)}function Yn(i,...e){return Od(i,...e)}function Vd(i,e,t){const s={...jT(),[e]:t};return new qa("auth","Firebase",s).create(e,{appName:i.name})}function Xn(i){return Vd(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BT(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&_n(i,"argument-error"),Vd(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Od(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return ky.create(i,...e)}function he(i,e,...t){if(!i)throw Od(e,...t)}function Sr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Au(e),new Error(e)}function Pr(i,e){i||Sr(e)}function ld(){return typeof self<"u"&&self.location?.href||""}function $T(){return Qm()==="http:"||Qm()==="https:"}function Qm(){return typeof self<"u"&&self.location?.protocol||null}function HT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($T()||yw()||"connection"in navigator)?navigator.onLine:!0}function WT(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ga{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pr(t>e,"Short delay should be less than long delay!"),this.isMobile=pw()||_w()}get(){return HT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xd(i,e){Pr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Ny{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GT=new Ga(3e4,6e4);function Si(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ai(i,e,t,s,a={}){return Dy(i,a,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ka({key:i.config.apiKey,...h}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const v={method:e,headers:y,...u};return gw()||(v.referrerPolicy="no-referrer"),i.emulatorConfig&&Eo(i.emulatorConfig.host)&&(v.credentials="include"),Ny.fetch()(await Vy(i,i.config.apiHost,t,m),v)})}async function Dy(i,e,t){i._canInitEmulator=!1;const s={...qT,...e};try{const a=new YT(i),u=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw vu(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[y,v]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw vu(i,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw vu(i,"email-already-in-use",h);if(y==="USER_DISABLED")throw vu(i,"user-disabled",h);const w=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Vd(i,w,v);_n(i,w)}}catch(a){if(a instanceof Dr)throw a;_n(i,"network-request-failed",{message:String(a)})}}async function Qa(i,e,t,s,a={}){const u=await Ai(i,e,t,s,a);return"mfaPendingCredential"in u&&_n(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Vy(i,e,t,s){const a=`${e}${t}?${s}`,u=i,h=u.config.emulator?xd(i.config,a):`${i.config.apiScheme}://${a}`;return KT.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function QT(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Yn(this.auth,"network-request-failed")),GT.get())})}}function vu(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Yn(i,e,s);return a.customData._tokenResponse=t,a}function Ym(i){return i!==void 0&&i.enterprise!==void 0}class XT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QT(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JT(i,e){return Ai(i,"GET","/v2/recaptchaConfig",Si(i,e))}async function ZT(i,e){return Ai(i,"POST","/v1/accounts:delete",e)}async function Fu(i,e){return Ai(i,"POST","/v1/accounts:lookup",e)}function ka(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eI(i,e=!1){const t=Yt(i),s=await t.getIdToken(e),a=Ld(s);he(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,h=u?.sign_in_provider;return{claims:a,token:s,authTime:ka(Yh(a.auth_time)),issuedAtTime:ka(Yh(a.iat)),expirationTime:ka(Yh(a.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Yh(i){return Number(i)*1e3}function Ld(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Au("JWT malformed, contained fewer than 3 sections"),null;try{const a=gy(t);return a?JSON.parse(a):(Au("Failed to decode base64 JWT payload"),null)}catch(a){return Au("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Xm(i){const e=Ld(i);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ma(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Dr&&tI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function tI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class nI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ud{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ka(this.lastLoginAt),this.creationTime=ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uu(i){const e=i.auth,t=await i.getIdToken(),s=await Ma(i,Fu(e,{idToken:t}));he(s?.users.length,e,"internal-error");const a=s.users[0];i._notifyReloadListener(a);const u=a.providerUserInfo?.length?Oy(a.providerUserInfo):[],h=iI(i.providerData,u),m=i.isAnonymous,y=!(i.email&&a.passwordHash)&&!h?.length,v=m?y:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new ud(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(i,w)}async function rI(i){const e=Yt(i);await Uu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iI(i,e){return[...i.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Oy(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function sI(i,e){const t=await Dy(i,{},async()=>{const s=Ka({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=i.config,h=await Vy(i,a,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return i.emulatorConfig&&Eo(i.emulatorConfig.host)&&(y.credentials="include"),Ny.fetch()(h,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function oI(i,e){return Ai(i,"POST","/v2/accounts:revokeToken",Si(i,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){he(e.length!==0,"internal-error");const t=Xm(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:u}=await sI(e,t);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:u}=t,h=new ao;return s&&(he(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),a&&(he(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),u&&(he(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return Sr("not implemented")}}function li(i,e){he(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class kn{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new nI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ud(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ma(this,this.stsTokenManager.getToken(this.auth,e));return he(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eI(this,e)}reload(){return rI(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Uu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(Xn(this.auth));const e=await this.getIdToken();return await Ma(this,ZT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,y=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:R,emailVerified:V,isAnonymous:j,providerData:X,stsTokenManager:Y}=t;he(R&&Y,e,"internal-error");const q=ao.fromJSON(this.name,Y);he(typeof R=="string",e,"internal-error"),li(s,e.name),li(a,e.name),he(typeof V=="boolean",e,"internal-error"),he(typeof j=="boolean",e,"internal-error"),li(u,e.name),li(h,e.name),li(m,e.name),li(y,e.name),li(v,e.name),li(w,e.name);const me=new kn({uid:R,auth:e,email:a,emailVerified:V,displayName:s,isAnonymous:j,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:v,lastLoginAt:w});return X&&Array.isArray(X)&&(me.providerData=X.map(ye=>({...ye}))),y&&(me._redirectEventId=y),me}static async _fromIdTokenResponse(e,t,s=!1){const a=new ao;a.updateFromServerResponse(t);const u=new kn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Uu(u),u}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];he(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?Oy(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(s);const y=new kn({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ud(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!u?.length};return Object.assign(y,v),y}}const Jm=new Map;function Ar(i){Pr(i instanceof Function,"Expected a class definition");let e=Jm.get(i);return e?(Pr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Jm.set(i,e),e)}class xy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xy.type="NONE";const Zm=xy;function Ru(i,e,t){return`firebase:${i}:${e}:${t}`}class lo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=Ru(this.userKey,a.apiKey,u),this.fullPersistenceKey=Ru("persistence",a.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fu(this.auth,{idToken:e}).catch(()=>{});return t?kn._fromGetAccountInfoResponse(this.auth,t,e):null}return kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new lo(Ar(Zm),e,s);const a=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=a[0]||Ar(Zm);const h=Ru(s,e.config.apiKey,e.name);let m=null;for(const v of t)try{const w=await v._get(h);if(w){let R;if(typeof w=="string"){const V=await Fu(e,{idToken:w}).catch(()=>{});if(!V)break;R=await kn._fromGetAccountInfoResponse(e,V,w)}else R=kn._fromJSON(e,w);v!==u&&(m=R),u=v;break}}catch{}const y=a.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new lo(u,e,s):(u=y[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new lo(u,e,s))}}function eg(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ly(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jy(e))return"Blackberry";if(zy(e))return"Webos";if(My(e))return"Safari";if((e.includes("chrome/")||by(e))&&!e.includes("edge/"))return"Chrome";if(Uy(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function Ly(i=Ft()){return/firefox\//i.test(i)}function My(i=Ft()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function by(i=Ft()){return/crios\//i.test(i)}function Fy(i=Ft()){return/iemobile/i.test(i)}function Uy(i=Ft()){return/android/i.test(i)}function jy(i=Ft()){return/blackberry/i.test(i)}function zy(i=Ft()){return/webos/i.test(i)}function Md(i=Ft()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function aI(i=Ft()){return Md(i)&&!!window.navigator?.standalone}function lI(){return vw()&&document.documentMode===10}function By(i=Ft()){return Md(i)||Uy(i)||zy(i)||jy(i)||/windows phone/i.test(i)||Fy(i)}function $y(i,e=[]){let t;switch(i){case"Browser":t=eg(Ft());break;case"Worker":t=`${eg(Ft())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wo}/${s}`}class uI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const y=e(u);h(y)}catch(y){m(y)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function cI(i,e={}){return Ai(i,"GET","/v2/passwordPolicy",Si(i,e))}const hI=6;class dI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??hI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class fI{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tg(this),this.idTokenSubscription=new tg(this),this.beforeStateQueue=new uI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ky,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fu(this,{idToken:e}),s=await kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(an(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(Xn(this));const t=e?Yt(e):null;return t&&he(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(Xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(Xn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cI(this),t=new dI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await oI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;he(t,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,s,a);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$y(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ri(i){return Yt(i)}class tg{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cw(t=>this.observer=t)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pI(i){nc=i}function Hy(i){return nc.loadJS(i)}function mI(){return nc.recaptchaEnterpriseScript}function gI(){return nc.gapiScript}function yI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class _I{constructor(){this.enterprise=new vI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const EI="recaptcha-enterprise",Wy="NO_RECAPTCHA";class wI{constructor(e){this.type=EI,this.auth=Ri(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{JT(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new XT(y);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,h(v.siteKey)}}).catch(y=>{m(y)})})}function a(u,h,m){const y=window.grecaptcha;Ym(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(v=>{h(v)}).catch(()=>{h(Wy)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _I().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&Ym(window.grecaptcha))a(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let y=mI();y.length!==0&&(y+=m),Hy(y).then(()=>{a(m,u,h)}).catch(v=>{h(v)})}}).catch(m=>{h(m)})})}}async function ng(i,e,t,s=!1,a=!1){const u=new wI(i);let h;if(a)h=Wy;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,v=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function cd(i,e,t,s,a){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ng(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await ng(i,e,t,t==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function TI(i,e){const t=Dd(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),u=t.getOptions();if(rs(u,e??{}))return a;_n(a,"already-initialized")}return t.initialize({options:e})}function II(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ar);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function SI(i,e,t){const s=Ri(i);he(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,u=qy(e),{host:h,port:m}=AI(e),y=m===null?"":`:${m}`,v={url:`${u}//${h}${y}/`},w=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){he(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),he(rs(v,s.config.emulator)&&rs(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Eo(h)?(Ey(`${u}//${h}${y}`),wy("Auth",!0)):RI()}function qy(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function AI(i){const e=qy(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:rg(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:rg(h)}}}function rg(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function RI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class bd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,t){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function CI(i,e){return Ai(i,"POST","/v1/accounts:signUp",e)}async function PI(i,e){return Qa(i,"POST","/v1/accounts:signInWithPassword",Si(i,e))}async function kI(i,e){return Qa(i,"POST","/v1/accounts:signInWithEmailLink",Si(i,e))}async function NI(i,e){return Qa(i,"POST","/v1/accounts:signInWithEmailLink",Si(i,e))}class ba extends bd{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new ba(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ba(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cd(e,t,"signInWithPassword",PI);case"emailLink":return kI(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cd(e,s,"signUpPassword",CI);case"emailLink":return NI(e,{idToken:t,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uo(i,e){return Qa(i,"POST","/v1/accounts:signInWithIdp",Si(i,e))}const DI="http://localhost";class ss extends bd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_n("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...u}=t;if(!s||!a)return null;const h=new ss(s,a);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return uo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,uo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}buildRequest(){const e={requestUri:DI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ka(t)}return e}}function VI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OI(i){const e=Ta(Ia(i)).link,t=e?Ta(Ia(e)).deep_link_id:null,s=Ta(Ia(i)).deep_link_id;return(s?Ta(Ia(s)).link:null)||s||t||e||i}class Fd{constructor(e){const t=Ta(Ia(e)),s=t.apiKey??null,a=t.oobCode??null,u=VI(t.mode??null);he(s&&a&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=OI(e);try{return new Fd(t)}catch{return null}}}class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,t){return ba._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Fd.parseLink(t);return he(s,"argument-error"),ba._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ud{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ya extends Ud{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ui extends Ya{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";ui.PROVIDER_ID="facebook.com";class Ir extends Ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ss._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ir.credential(t,s)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";class ci extends Ya{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";class hi extends Ya{constructor(){super("twitter.com")}static credential(e,t){return ss._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return hi.credential(t,s)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";async function xI(i,e){return Qa(i,"POST","/v1/accounts:signUp",Si(i,e))}class os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const u=await kn._fromIdTokenResponse(e,s,a),h=ig(s);return new os({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=ig(s);return new os({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function ig(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class ju extends Dr{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,ju.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new ju(e,t,s,a)}}function Ky(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ju._fromErrorAndOperation(i,u,e,s):u})}async function LI(i,e,t=!1){const s=await Ma(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return os._forOperation(i,"link",s)}async function MI(i,e,t=!1){const{auth:s}=i;if(an(s.app))return Promise.reject(Xn(s));const a="reauthenticate";try{const u=await Ma(i,Ky(s,a,e,i),t);he(u.idToken,s,"internal-error");const h=Ld(u.idToken);he(h,s,"internal-error");const{sub:m}=h;return he(i.uid===m,s,"user-mismatch"),os._forOperation(i,a,u)}catch(u){throw u?.code==="auth/user-not-found"&&_n(s,"user-mismatch"),u}}async function Gy(i,e,t=!1){if(an(i.app))return Promise.reject(Xn(i));const s="signIn",a=await Ky(i,s,e),u=await os._fromIdTokenResponse(i,s,a);return t||await i._updateCurrentUser(u.user),u}async function bI(i,e){return Gy(Ri(i),e)}async function Qy(i){const e=Ri(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FI(i,e,t){if(an(i.app))return Promise.reject(Xn(i));const s=Ri(i),h=await cd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xI).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Qy(i),y}),m=await os._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function UI(i,e,t){return an(i.app)?Promise.reject(Xn(i)):bI(Yt(i),To.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Qy(i),s})}function jI(i,e){return Yt(i).setPersistence(e)}function zI(i,e,t,s){return Yt(i).onIdTokenChanged(e,t,s)}function BI(i,e,t){return Yt(i).beforeAuthStateChanged(e,t)}function $I(i,e,t,s){return Yt(i).onAuthStateChanged(e,t,s)}function HI(i){return Yt(i).signOut()}const zu="__sak";class Yy{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zu,"1"),this.storage.removeItem(zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const WI=1e3,qI=10;class Xy extends Yy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=By(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);lI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,qI):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},WI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xy.type="LOCAL";const KI=Xy;class Jy extends Yy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jy.type="SESSION";const jd=Jy;function GI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class rc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new rc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:u}=t.data,h=this.handlersMap[a];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const m=Array.from(h).map(async v=>v(t.origin,u)),y=await GI(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rc.receivers=[];function zd(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class QI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,h;return new Promise((m,y)=>{const v=zd("",20);a.port1.start();const w=setTimeout(()=>{y(new Error("unsupported_event"))},s);h={messageChannel:a,onMessage(R){const V=R;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(V.data.response);break;default:clearTimeout(w),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Jn(){return window}function YI(i){Jn().location.href=i}function Zy(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function XI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JI(){return navigator?.serviceWorker?.controller||null}function ZI(){return Zy()?self:null}const e_="firebaseLocalStorageDb",e0=1,Bu="firebaseLocalStorage",t_="fbase_key";class Xa{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ic(i,e){return i.transaction([Bu],e?"readwrite":"readonly").objectStore(Bu)}function t0(){const i=indexedDB.deleteDatabase(e_);return new Xa(i).toPromise()}function hd(){const i=indexedDB.open(e_,e0);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Bu,{keyPath:t_})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Bu)?e(s):(s.close(),await t0(),e(await hd()))})})}async function sg(i,e,t){const s=ic(i,!0).put({[t_]:e,value:t});return new Xa(s).toPromise()}async function n0(i,e){const t=ic(i,!1).get(e),s=await new Xa(t).toPromise();return s===void 0?null:s.value}function og(i,e){const t=ic(i,!0).delete(e);return new Xa(t).toPromise()}const r0=800,i0=3;class n_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>i0)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rc._getInstance(ZI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XI(),!this.activeServiceWorker)return;this.sender=new QI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hd();return await sg(e,zu,"1"),await og(e,zu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>sg(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>n0(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>og(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=ic(a,!1).getAll();return new Xa(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n_.type="LOCAL";const s0=n_;new Ga(3e4,6e4);function r_(i,e){return e?Ar(e):(he(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Bd extends bd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function o0(i){return Gy(i.auth,new Bd(i),i.bypassAuthState)}function a0(i){const{auth:e,user:t}=i;return he(t,e,"internal-error"),MI(t,new Bd(i),i.bypassAuthState)}async function l0(i){const{auth:e,user:t}=i;return he(t,e,"internal-error"),LI(t,new Bd(i),i.bypassAuthState)}class i_{constructor(e,t,s,a,u=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o0;case"linkViaPopup":case"linkViaRedirect":return l0;case"reauthViaPopup":case"reauthViaRedirect":return a0;default:_n(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const u0=new Ga(2e3,1e4);class oo extends i_{constructor(e,t,s,a,u){super(e,t,a,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=zd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u0.get())};e()}}oo.currentPopupAction=null;const c0="pendingRedirect",Cu=new Map;class h0 extends i_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Cu.get(this.auth._key());if(!e){try{const s=await d0(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Cu.set(this.auth._key(),e)}return this.bypassAuthState||Cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d0(i,e){const t=o_(e),s=s_(i);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}async function f0(i,e){return s_(i)._set(o_(e),"true")}function p0(i,e){Cu.set(i._key(),e)}function s_(i){return Ar(i._redirectPersistence)}function o_(i){return Ru(c0,i.config.apiKey,i.name)}function m0(i,e,t){return g0(i,e,t)}async function g0(i,e,t){if(an(i.app))return Promise.reject(Xn(i));const s=Ri(i);BT(i,e,Ud),await s._initializationPromise;const a=r_(s,t);return await f0(a,s),a._openRedirect(s,e,"signInViaRedirect")}async function y0(i,e,t=!1){if(an(i.app))return Promise.reject(Xn(i));const s=Ri(i),a=r_(s,e),h=await new h0(s,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const _0=600*1e3;class v0{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E0(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!a_(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Yn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_0&&this.cachedEventUids.clear(),this.cachedEventUids.has(ag(e))}saveEventToCache(e){this.cachedEventUids.add(ag(e)),this.lastProcessedEventTime=Date.now()}}function ag(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function a_({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function E0(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a_(i);default:return!1}}async function w0(i,e={}){return Ai(i,"GET","/v1/projects",e)}const T0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I0=/^https?/;async function S0(i){if(i.config.emulator)return;const{authorizedDomains:e}=await w0(i);for(const t of e)try{if(A0(t))return}catch{}_n(i,"unauthorized-domain")}function A0(i){const e=ld(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!I0.test(t))return!1;if(T0.test(i))return s===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const R0=new Ga(3e4,6e4);function lg(){const i=Jn().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function C0(i){return new Promise((e,t)=>{function s(){lg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lg(),t(Yn(i,"network-request-failed"))},timeout:R0.get()})}if(Jn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jn().gapi?.load)s();else{const a=yI("iframefcb");return Jn()[a]=()=>{gapi.load?s():t(Yn(i,"network-request-failed"))},Hy(`${gI()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Pu=null,e})}let Pu=null;function P0(i){return Pu=Pu||C0(i),Pu}const k0=new Ga(5e3,15e3),N0="__/auth/iframe",D0="emulator/auth/iframe",V0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x0(i){const e=i.config;he(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?xd(e,D0):`https://${i.config.authDomain}/${N0}`,s={apiKey:e.apiKey,appName:i.name,v:wo},a=O0.get(i.config.apiHost);a&&(s.eid=a);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Ka(s).slice(1)}`}async function L0(i){const e=await P0(i),t=Jn().gapi;return he(t,i,"internal-error"),e.open({where:document.body,url:x0(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V0,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const h=Yn(i,"network-request-failed"),m=Jn().setTimeout(()=>{u(h)},k0.get());function y(){Jn().clearTimeout(m),a(s)}s.ping(y).then(y,()=>{u(h)})}))}const M0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b0=500,F0=600,U0="_blank",j0="http://localhost";class ug{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z0(i,e,t,s=b0,a=F0){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...M0,width:s.toString(),height:a.toString(),top:u,left:h},v=Ft().toLowerCase();t&&(m=by(v)?U0:t),Ly(v)&&(e=e||j0,y.scrollbars="yes");const w=Object.entries(y).reduce((V,[j,X])=>`${V}${j}=${X},`,"");if(aI(v)&&m!=="_self")return B0(e||"",m),new ug(null);const R=window.open(e||"",m,w);he(R,i,"popup-blocked");try{R.focus()}catch{}return new ug(R)}function B0(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const $0="__/auth/handler",H0="emulator/auth/handler",W0=encodeURIComponent("fac");async function cg(i,e,t,s,a,u){he(i.config.authDomain,i,"auth-domain-config-required"),he(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:wo,eventId:a};if(e instanceof Ud){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",Rw(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,R]of Object.entries({}))h[w]=R}if(e instanceof Ya){const w=e.getScopes().filter(R=>R!=="");w.length>0&&(h.scopes=w.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const w of Object.keys(m))m[w]===void 0&&delete m[w];const y=await i._getAppCheckToken(),v=y?`#${W0}=${encodeURIComponent(y)}`:"";return`${q0(i)}?${Ka(m).slice(1)}${v}`}function q0({config:i}){return i.emulator?xd(i,H0):`https://${i.authDomain}/${$0}`}const Xh="webStorageSupport";class K0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jd,this._completeRedirectFn=y0,this._overrideRedirectResult=p0}async _openPopup(e,t,s,a){Pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await cg(e,t,s,ld(),a);return z0(e,u,zd())}async _openRedirect(e,t,s,a){await this._originValidation(e);const u=await cg(e,t,s,ld(),a);return YI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:u}=this.eventManagers[t];return a?Promise.resolve(a):(Pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await L0(e),s=new v0(e);return t.register("authEvent",a=>(he(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xh,{type:Xh},a=>{const u=a?.[0]?.[Xh];u!==void 0&&t(!!u),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=S0(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return By()||My()||Md()}}const G0=K0;var hg="@firebase/auth",dg="1.11.1";class Q0{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Y0(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X0(i){fo(new is("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;he(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$y(i)},v=new fI(s,a,u,y);return II(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),fo(new is("auth-internal",e=>{const t=Ri(e.getProvider("auth").getImmediate());return(s=>new Q0(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(hg,dg,Y0(i)),mi(hg,dg,"esm2020")}const J0=300,Z0=vy("authIdTokenMaxAge")||J0;let fg=null;const eS=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Z0)return;const a=t?.token;fg!==a&&(fg=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function tS(i=Ay()){const e=Dd(i,"auth");if(e.isInitialized())return e.getImmediate();const t=TI(i,{popupRedirectResolver:G0,persistence:[s0,KI,jd]}),s=vy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=eS(u.toString());BI(t,h,()=>h(t.currentUser)),zI(t,m=>h(m))}}const a=yy("auth");return a&&SI(t,`http://${a}`),t}function nS(){return document.getElementsByTagName("head")?.[0]??document}pI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=a=>{const u=Yn("internal-error");u.customData=a,t(u)},s.type="text/javascript",s.charset="UTF-8",nS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X0("Browser");var pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gi,l_;(function(){var i;function e(k,I){function A(){}A.prototype=I.prototype,k.F=I.prototype,k.prototype=new A,k.prototype.constructor=k,k.D=function(D,P,x){for(var S=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)S[$e-2]=arguments[$e];return I.prototype[P].apply(D,S)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,I,A){A||(A=0);const D=Array(16);if(typeof I=="string")for(var P=0;P<16;++P)D[P]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(P=0;P<16;++P)D[P]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=k.g[0],A=k.g[1],P=k.g[2];let x=k.g[3],S;S=I+(x^A&(P^x))+D[0]+3614090360&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(P^I&(A^P))+D[1]+3905402710&4294967295,x=I+(S<<12&4294967295|S>>>20),S=P+(A^x&(I^A))+D[2]+606105819&4294967295,P=x+(S<<17&4294967295|S>>>15),S=A+(I^P&(x^I))+D[3]+3250441966&4294967295,A=P+(S<<22&4294967295|S>>>10),S=I+(x^A&(P^x))+D[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(P^I&(A^P))+D[5]+1200080426&4294967295,x=I+(S<<12&4294967295|S>>>20),S=P+(A^x&(I^A))+D[6]+2821735955&4294967295,P=x+(S<<17&4294967295|S>>>15),S=A+(I^P&(x^I))+D[7]+4249261313&4294967295,A=P+(S<<22&4294967295|S>>>10),S=I+(x^A&(P^x))+D[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(P^I&(A^P))+D[9]+2336552879&4294967295,x=I+(S<<12&4294967295|S>>>20),S=P+(A^x&(I^A))+D[10]+4294925233&4294967295,P=x+(S<<17&4294967295|S>>>15),S=A+(I^P&(x^I))+D[11]+2304563134&4294967295,A=P+(S<<22&4294967295|S>>>10),S=I+(x^A&(P^x))+D[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(P^I&(A^P))+D[13]+4254626195&4294967295,x=I+(S<<12&4294967295|S>>>20),S=P+(A^x&(I^A))+D[14]+2792965006&4294967295,P=x+(S<<17&4294967295|S>>>15),S=A+(I^P&(x^I))+D[15]+1236535329&4294967295,A=P+(S<<22&4294967295|S>>>10),S=I+(P^x&(A^P))+D[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^P&(I^A))+D[6]+3225465664&4294967295,x=I+(S<<9&4294967295|S>>>23),S=P+(I^A&(x^I))+D[11]+643717713&4294967295,P=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(P^x))+D[0]+3921069994&4294967295,A=P+(S<<20&4294967295|S>>>12),S=I+(P^x&(A^P))+D[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^P&(I^A))+D[10]+38016083&4294967295,x=I+(S<<9&4294967295|S>>>23),S=P+(I^A&(x^I))+D[15]+3634488961&4294967295,P=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(P^x))+D[4]+3889429448&4294967295,A=P+(S<<20&4294967295|S>>>12),S=I+(P^x&(A^P))+D[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^P&(I^A))+D[14]+3275163606&4294967295,x=I+(S<<9&4294967295|S>>>23),S=P+(I^A&(x^I))+D[3]+4107603335&4294967295,P=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(P^x))+D[8]+1163531501&4294967295,A=P+(S<<20&4294967295|S>>>12),S=I+(P^x&(A^P))+D[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^P&(I^A))+D[2]+4243563512&4294967295,x=I+(S<<9&4294967295|S>>>23),S=P+(I^A&(x^I))+D[7]+1735328473&4294967295,P=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(P^x))+D[12]+2368359562&4294967295,A=P+(S<<20&4294967295|S>>>12),S=I+(A^P^x)+D[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^P)+D[8]+2272392833&4294967295,x=I+(S<<11&4294967295|S>>>21),S=P+(x^I^A)+D[11]+1839030562&4294967295,P=x+(S<<16&4294967295|S>>>16),S=A+(P^x^I)+D[14]+4259657740&4294967295,A=P+(S<<23&4294967295|S>>>9),S=I+(A^P^x)+D[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^P)+D[4]+1272893353&4294967295,x=I+(S<<11&4294967295|S>>>21),S=P+(x^I^A)+D[7]+4139469664&4294967295,P=x+(S<<16&4294967295|S>>>16),S=A+(P^x^I)+D[10]+3200236656&4294967295,A=P+(S<<23&4294967295|S>>>9),S=I+(A^P^x)+D[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^P)+D[0]+3936430074&4294967295,x=I+(S<<11&4294967295|S>>>21),S=P+(x^I^A)+D[3]+3572445317&4294967295,P=x+(S<<16&4294967295|S>>>16),S=A+(P^x^I)+D[6]+76029189&4294967295,A=P+(S<<23&4294967295|S>>>9),S=I+(A^P^x)+D[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^P)+D[12]+3873151461&4294967295,x=I+(S<<11&4294967295|S>>>21),S=P+(x^I^A)+D[15]+530742520&4294967295,P=x+(S<<16&4294967295|S>>>16),S=A+(P^x^I)+D[2]+3299628645&4294967295,A=P+(S<<23&4294967295|S>>>9),S=I+(P^(A|~x))+D[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~P))+D[7]+1126891415&4294967295,x=I+(S<<10&4294967295|S>>>22),S=P+(I^(x|~A))+D[14]+2878612391&4294967295,P=x+(S<<15&4294967295|S>>>17),S=A+(x^(P|~I))+D[5]+4237533241&4294967295,A=P+(S<<21&4294967295|S>>>11),S=I+(P^(A|~x))+D[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~P))+D[3]+2399980690&4294967295,x=I+(S<<10&4294967295|S>>>22),S=P+(I^(x|~A))+D[10]+4293915773&4294967295,P=x+(S<<15&4294967295|S>>>17),S=A+(x^(P|~I))+D[1]+2240044497&4294967295,A=P+(S<<21&4294967295|S>>>11),S=I+(P^(A|~x))+D[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~P))+D[15]+4264355552&4294967295,x=I+(S<<10&4294967295|S>>>22),S=P+(I^(x|~A))+D[6]+2734768916&4294967295,P=x+(S<<15&4294967295|S>>>17),S=A+(x^(P|~I))+D[13]+1309151649&4294967295,A=P+(S<<21&4294967295|S>>>11),S=I+(P^(A|~x))+D[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~P))+D[11]+3174756917&4294967295,x=I+(S<<10&4294967295|S>>>22),S=P+(I^(x|~A))+D[2]+718787259&4294967295,P=x+(S<<15&4294967295|S>>>17),S=A+(x^(P|~I))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(P+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+x&4294967295}s.prototype.v=function(k,I){I===void 0&&(I=k.length);const A=I-this.blockSize,D=this.C;let P=this.h,x=0;for(;x<I;){if(P==0)for(;x<=A;)a(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<I;)if(D[P++]=k.charCodeAt(x++),P==this.blockSize){a(this,D),P=0;break}}else for(;x<I;)if(D[P++]=k[x++],P==this.blockSize){a(this,D),P=0;break}}this.h=P,this.o+=I},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;I=this.o*8;for(var A=k.length-8;A<k.length;++A)k[A]=I&255,I/=256;for(this.v(k),k=Array(16),I=0,A=0;A<4;++A)for(let D=0;D<32;D+=8)k[I++]=this.g[A]>>>D&255;return k};function u(k,I){var A=m;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=I(k)}function h(k,I){this.h=I;const A=[];let D=!0;for(let P=k.length-1;P>=0;P--){const x=k[P]|0;D&&x==I||(A[P]=x,D=!1)}this.g=A}var m={};function y(k){return-128<=k&&k<128?u(k,function(I){return new h([I|0],I<0?-1:0)}):new h([k|0],k<0?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return R;if(k<0)return q(v(-k));const I=[];let A=1;for(let D=0;k>=A;D++)I[D]=k/A|0,A*=4294967296;return new h(I,0)}function w(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return q(w(k.substring(1),I));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=v(Math.pow(I,8));let D=R;for(let x=0;x<k.length;x+=8){var P=Math.min(8,k.length-x);const S=parseInt(k.substring(x,x+P),I);P<8?(P=v(Math.pow(I,P)),D=D.j(P).add(v(S))):(D=D.j(A),D=D.add(v(S)))}return D}var R=y(0),V=y(1),j=y(16777216);i=h.prototype,i.m=function(){if(Y(this))return-q(this).m();let k=0,I=1;for(let A=0;A<this.g.length;A++){const D=this.i(A);k+=(D>=0?D:4294967296+D)*I,I*=4294967296}return k},i.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(X(this))return"0";if(Y(this))return"-"+q(this).toString(k);const I=v(Math.pow(k,6));var A=this;let D="";for(;;){const P=xe(A,I).g;A=me(A,P.j(I));let x=((A.g.length>0?A.g[0]:A.h)>>>0).toString(k);if(A=P,X(A))return x+D;for(;x.length<6;)x="0"+x;D=x+D}},i.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function X(k){if(k.h!=0)return!1;for(let I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function Y(k){return k.h==-1}i.l=function(k){return k=me(this,k),Y(k)?-1:X(k)?0:1};function q(k){const I=k.g.length,A=[];for(let D=0;D<I;D++)A[D]=~k.g[D];return new h(A,~k.h).add(V)}i.abs=function(){return Y(this)?q(this):this},i.add=function(k){const I=Math.max(this.g.length,k.g.length),A=[];let D=0;for(let P=0;P<=I;P++){let x=D+(this.i(P)&65535)+(k.i(P)&65535),S=(x>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);D=S>>>16,x&=65535,S&=65535,A[P]=S<<16|x}return new h(A,A[A.length-1]&-2147483648?-1:0)};function me(k,I){return k.add(q(I))}i.j=function(k){if(X(this)||X(k))return R;if(Y(this))return Y(k)?q(this).j(q(k)):q(q(this).j(k));if(Y(k))return q(this.j(q(k)));if(this.l(j)<0&&k.l(j)<0)return v(this.m()*k.m());const I=this.g.length+k.g.length,A=[];for(var D=0;D<2*I;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(let P=0;P<k.g.length;P++){const x=this.i(D)>>>16,S=this.i(D)&65535,$e=k.i(P)>>>16,gt=k.i(P)&65535;A[2*D+2*P]+=S*gt,ye(A,2*D+2*P),A[2*D+2*P+1]+=x*gt,ye(A,2*D+2*P+1),A[2*D+2*P+1]+=S*$e,ye(A,2*D+2*P+1),A[2*D+2*P+2]+=x*$e,ye(A,2*D+2*P+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new h(A,0)};function ye(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function Ee(k,I){this.g=k,this.h=I}function xe(k,I){if(X(I))throw Error("division by zero");if(X(k))return new Ee(R,R);if(Y(k))return I=xe(q(k),I),new Ee(q(I.g),q(I.h));if(Y(I))return I=xe(k,q(I)),new Ee(q(I.g),I.h);if(k.g.length>30){if(Y(k)||Y(I))throw Error("slowDivide_ only works with positive integers.");for(var A=V,D=I;D.l(k)<=0;)A=Be(A),D=Be(D);var P=Ne(A,1),x=Ne(D,1);for(D=Ne(D,2),A=Ne(A,2);!X(D);){var S=x.add(D);S.l(k)<=0&&(P=P.add(A),x=S),D=Ne(D,1),A=Ne(A,1)}return I=me(k,P.j(I)),new Ee(P,I)}for(P=R;k.l(I)>=0;){for(A=Math.max(1,Math.floor(k.m()/I.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),x=v(A),S=x.j(I);Y(S)||S.l(k)>0;)A-=D,x=v(A),S=x.j(I);X(x)&&(x=V),P=P.add(x),k=me(k,S)}return new Ee(P,k)}i.B=function(k){return xe(this,k).h},i.and=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)&k.i(D);return new h(A,this.h&k.h)},i.or=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)|k.i(D);return new h(A,this.h|k.h)},i.xor=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)^k.i(D);return new h(A,this.h^k.h)};function Be(k){const I=k.g.length+1,A=[];for(let D=0;D<I;D++)A[D]=k.i(D)<<1|k.i(D-1)>>>31;return new h(A,k.h)}function Ne(k,I){const A=I>>5;I%=32;const D=k.g.length-A,P=[];for(let x=0;x<D;x++)P[x]=I>0?k.i(x+A)>>>I|k.i(x+A+1)<<32-I:k.i(x+A);return new h(P,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,l_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,gi=h}).apply(typeof pg<"u"?pg:typeof self<"u"?self:typeof window<"u"?window:{});var Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var u_,Sa,c_,ku,dd,h_,d_,f_;(function(){var i,e=Object.defineProperty;function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eu=="object"&&Eu];for(var p=0;p<l.length;++p){var g=l[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=t(this);function a(l,p){if(p)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in g))break e;g=g[M]}l=l[l.length-1],E=g[l],p=p(E),p!=E&&p!=null&&e(g,l,{configurable:!0,writable:!0,value:p})}}a("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(l){return l||function(p){var g=[],E;for(E in p)Object.prototype.hasOwnProperty.call(p,E)&&g.push([E,p[E]]);return g}});var u=u||{},h=this||self;function m(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function y(l,p,g){return l.call.apply(l.bind,arguments)}function v(l,p,g){return v=y,v.apply(null,arguments)}function w(l,p){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function R(l,p){function g(){}g.prototype=p.prototype,l.Z=p.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(E,M,U){for(var Q=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)Q[_e-2]=arguments[_e];return p.prototype[M].apply(E,Q)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function j(l){const p=l.length;if(p>0){const g=Array(p);for(let E=0;E<p;E++)g[E]=l[E];return g}return[]}function X(l,p){for(let E=1;E<arguments.length;E++){const M=arguments[E];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=l.length||0;const U=M.length||0;l.length=g+U;for(let Q=0;Q<U;Q++)l[g+Q]=M[Q]}else l.push(M)}}class Y{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function q(l){h.setTimeout(()=>{throw l},0)}function me(){var l=k;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ye{constructor(){this.h=this.g=null}add(p,g){const E=Ee.get();E.set(p,g),this.h?this.h.next=E:this.g=E,this.h=E}}var Ee=new Y(()=>new xe,l=>l.reset());class xe{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,Ne=!1,k=new ye,I=()=>{const l=Promise.resolve(void 0);Be=()=>{l.then(A)}};function A(){for(var l;l=me();){try{l.h.call(l.g)}catch(g){q(g)}var p=Ee;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}Ne=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};h.addEventListener("test",g,p),h.removeEventListener("test",g,p)}catch{}return l})();function S(l){return/^[\s\xa0]*$/.test(l)}function $e(l,p){P.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}R($e,P),$e.prototype.init=function(l,p){const g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(g=="mouseover"?p=l.fromElement:g=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),kt=0;function Qe(l,p,g,E,M){this.listener=l,this.proxy=null,this.src=p,this.type=g,this.capture=!!E,this.ha=M,this.key=++kt,this.da=this.fa=!1}function J(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ae(l,p,g){for(const E in l)p.call(g,l[E],E,l)}function te(l,p){for(const g in l)p.call(void 0,l[g],g,l)}function O(l){const p={};for(const g in l)p[g]=l[g];return p}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(l,p){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)l[g]=E[g];for(let U=0;U<B.length;U++)g=B[U],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function Te(l){this.src=l,this.g={},this.h=0}Te.prototype.add=function(l,p,g,E,M){const U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);const Q=Ae(l,p,E,M);return Q>-1?(p=l[Q],g||(p.fa=!1)):(p=new Qe(p,this.src,U,!!E,M),p.fa=g,l.push(p)),p};function Se(l,p){const g=p.type;if(g in l.g){var E=l.g[g],M=Array.prototype.indexOf.call(E,p,void 0),U;(U=M>=0)&&Array.prototype.splice.call(E,M,1),U&&(J(p),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Ae(l,p,g,E){for(let M=0;M<l.length;++M){const U=l[M];if(!U.da&&U.listener==p&&U.capture==!!g&&U.ha==E)return M}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Ve={};function je(l,p,g,E,M){if(Array.isArray(p)){for(let U=0;U<p.length;U++)je(l,p[U],g,E,M);return null}return g=Po(g),l&&l[gt]?l.J(p,g,m(E)?!!E.capture:!1,M):Ut(l,p,g,!1,E,M)}function Ut(l,p,g,E,M,U){if(!p)throw Error("Invalid event type");const Q=m(M)?!!M.capture:!!M;let _e=ms(l);if(_e||(l[be]=_e=new Te(l)),g=_e.add(p,g,E,Q,U),g.proxy)return g;if(E=fs(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)x||(M=Q),M===void 0&&(M=!1),l.addEventListener(p.toString(),E,M);else if(l.attachEvent)l.attachEvent(ps(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function fs(){function l(g){return p.call(l.src,l.listener,g)}const p=rl;return l}function Co(l,p,g,E,M){if(Array.isArray(p))for(var U=0;U<p.length;U++)Co(l,p[U],g,E,M);else E=m(E)?!!E.capture:!!E,g=Po(g),l&&l[gt]?(l=l.i,U=String(p).toString(),U in l.g&&(p=l.g[U],g=Ae(p,g,E,M),g>-1&&(J(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete l.g[U],l.h--)))):l&&(l=ms(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Ae(p,g,E,M)),(g=l>-1?p[l]:null)&&Vr(g))}function Vr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[gt])Se(p.i,l);else{var g=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(g,E,l.capture):p.detachEvent?p.detachEvent(ps(g),E):p.addListener&&p.removeListener&&p.removeListener(E),(g=ms(p))?(Se(g,l),g.h==0&&(g.src=null,p[be]=null)):J(l)}}}function ps(l){return l in Ve?Ve[l]:Ve[l]="on"+l}function rl(l,p){if(l.da)l=!0;else{p=new $e(p,this);const g=l.listener,E=l.ha||l.src;l.fa&&Vr(l),l=g.call(E,p)}return l}function ms(l){return l=l[be],l instanceof Te?l:null}var Ci="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(l){return typeof l=="function"?l:(l[Ci]||(l[Ci]=function(p){return l.handleEvent(p)}),l[Ci])}function at(){D.call(this),this.i=new Te(this),this.M=this,this.G=null}R(at,D),at.prototype[gt]=!0,at.prototype.removeEventListener=function(l,p,g,E){Co(this,l,p,g,E)};function rt(l,p){var g,E=l.G;if(E)for(g=[];E;E=E.G)g.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new P(p,l);else if(p instanceof P)p.target=p.target||l;else{var M=p;p=new P(E,l),we(p,M)}M=!0;let U,Q;if(g)for(Q=g.length-1;Q>=0;Q--)U=p.g=g[Q],M=vn(U,E,!0,p)&&M;if(U=p.g=l,M=vn(U,E,!0,p)&&M,M=vn(U,E,!1,p)&&M,g)for(Q=0;Q<g.length;Q++)U=p.g=g[Q],M=vn(U,E,!1,p)&&M}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const g=l.g[p];for(let E=0;E<g.length;E++)J(g[E]);delete l.g[p],l.h--}}this.G=null},at.prototype.J=function(l,p,g,E){return this.i.add(String(l),p,!1,g,E)},at.prototype.K=function(l,p,g,E){return this.i.add(String(l),p,!0,g,E)};function vn(l,p,g,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let U=0;U<p.length;++U){const Q=p[U];if(Q&&!Q.da&&Q.capture==g){const _e=Q.listener,it=Q.ha||Q.src;Q.fa&&Se(l.i,Q),M=_e.call(it,E)!==!1&&M}}return M&&!E.defaultPrevented}function ko(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:h.setTimeout(l,p||0)}function No(l){l.g=ko(()=>{l.g=null,l.i&&(l.i=!1,No(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class il extends D{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:No(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(l){D.call(this),this.h=l,this.g={}}R(Or,D);var Do=[];function gs(l){ae(l.g,function(p,g){this.g.hasOwnProperty(g)&&Vr(p)},l),l.g={}}Or.prototype.N=function(){Or.Z.N.call(this),gs(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=h.JSON.stringify,sl=h.JSON.parse,Pi=class{stringify(l){return h.JSON.stringify(l,void 0)}parse(l){return h.JSON.parse(l,void 0)}};function Lr(){}function ol(){}var Mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ys(){P.call(this,"d")}R(ys,P);function Vo(){P.call(this,"c")}R(Vo,P);var En={},_s=null;function br(){return _s=_s||new at}En.Ia="serverreachability";function vs(l){P.call(this,En.Ia,l)}R(vs,P);function sr(l){const p=br();rt(p,new vs(p))}En.STAT_EVENT="statevent";function or(l,p){P.call(this,En.STAT_EVENT,l),this.stat=p}R(or,P);function tt(l){const p=br();rt(p,new or(p,l))}En.Ja="timingevent";function Oo(l,p){P.call(this,En.Ja,l),this.size=p}R(Oo,P);function Fr(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){l()},p)}function Ur(){this.g=!0}Ur.prototype.ua=function(){this.g=!1};function al(l,p,g,E,M,U){l.info(function(){if(l.g)if(U){var Q="",_e=U.split("&");for(let Ue=0;Ue<_e.length;Ue++){var it=_e[Ue].split("=");if(it.length>1){const lt=it[0];it=it[1];const nn=lt.split("_");Q=nn.length>=2&&nn[1]=="type"?Q+(lt+"="+it+"&"):Q+(lt+"=redacted&")}}}else Q=null;else Q=U;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+p+`
`+g+`
`+Q})}function ll(l,p,g,E,M,U,Q){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+p+`
`+g+`
`+U+" "+Q})}function Dn(l,p,g,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+ki(l,g)+(E?" "+E:"")})}function ul(l,p){l.info(function(){return"TIMEOUT: "+p})}Ur.prototype.info=function(){};function ki(l,p){if(!l.g)return p;if(!p)return null;try{const U=JSON.parse(p);if(U){for(l=0;l<U.length;l++)if(Array.isArray(U[l])){var g=U[l];if(!(g.length<2)){var E=g[1];if(Array.isArray(E)&&!(E.length<1)){var M=E[0];if(M!="noop"&&M!="stop"&&M!="close")for(let Q=1;Q<E.length;Q++)E[Q]=""}}}}return xr(U)}catch{return p}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cl;function ar(){}R(ar,Lr),ar.prototype.g=function(){return new XMLHttpRequest},cl=new ar;function Vn(l){return encodeURIComponent(String(l))}function Es(l){var p=1;l=l.split(":");const g=[];for(;p>0&&l.length;)g.push(l.shift()),p--;return l.length&&g.push(l.join(":")),g}function ln(l,p,g,E){this.j=l,this.i=p,this.l=g,this.S=E||1,this.V=new Or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hl}function hl(){this.i=null,this.g="",this.h=!1}var dl={},xo={};function wn(l,p,g){l.M=1,l.A=ur(un(p)),l.u=g,l.R=!0,Lo(l,null)}function Lo(l,p){l.F=Date.now(),Ni(l),l.B=un(l.A);var g=l.B,E=l.S;Array.isArray(E)||(E=[String(E)]),Wo(g.i,"t",E),l.C=0,g=l.j.L,l.h=new hl,l.g=Tl(l.j,g?p:null,!l.u),l.P>0&&(l.O=new il(v(l.Y,l,l.g),l.P)),p=l.V,g=l.g,E=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(Do[0]=M.toString()),M=Do);for(let U=0;U<M.length;U++){const Q=je(g,M[U],E||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=l.J?O(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),sr(),al(l.i,l.v,l.B,l.l,l.S,l.u)}ln.prototype.ba=function(l){l=l.target;const p=this.O;p&&Un(l)==3?p.j():this.Y(l)},ln.prototype.Y=function(l){try{if(l==this.g)e:{const _e=Un(this.g),it=this.g.ya(),Ue=this.g.ca();if(!(_e<3)&&(_e!=3||this.g&&(this.h.h||this.g.la()||El(this.g)))){this.K||_e!=4||it==7||(it==8||Ue<=0?sr(3):sr(2)),ws(this);var p=this.g.ca();this.X=p;var g=fl(this);if(this.o=p==200,ll(this.i,this.v,this.B,this.l,this.S,_e,p),this.o){if(this.U&&!this.L){t:{if(this.g){var E,M=this.g;if((E=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(E)){var U=E;break t}}U=null}if(l=U)Dn(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,We(this,l);else{this.o=!1,this.m=3,tt(12),lr(this),Di(this);break e}}if(this.R){l=!0;let lt;for(;!this.K&&this.C<g.length;)if(lt=ml(this,g),lt==xo){_e==4&&(this.m=4,tt(14),l=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==dl){this.m=4,tt(15),Dn(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else Dn(this.i,this.l,lt,null),We(this,lt);if(pl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||g.length!=0||this.h.h||(this.m=1,tt(16),l=!1),this.o=this.o&&l,!l)Dn(this.i,this.l,g,"[Invalid Chunked Response]"),lr(this),Di(this);else if(g.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),ji(Q),Q.P=!0,tt(11))}}else Dn(this.i,this.l,g,null),We(this,g);_e==4&&lr(this),this.o&&!this.K&&(_e==4?Ds(this.j,this):(this.o=!1,Ni(this)))}else Ko(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),lr(this),Di(this)}}}catch{}finally{}};function fl(l){if(!pl(l))return l.g.la();const p=El(l.g);if(p==="")return"";let g="";const E=p.length,M=Un(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return lr(l),Di(l),"";l.h.i=new h.TextDecoder}for(let U=0;U<E;U++)l.h.h=!0,g+=l.h.i.decode(p[U],{stream:!(M&&U==E-1)});return p.length=0,l.h.g+=g,l.C=0,l.h.g}function pl(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function ml(l,p){var g=l.C,E=p.indexOf(`
`,g);return E==-1?xo:(g=Number(p.substring(g,E)),isNaN(g)?dl:(E+=1,E+g>p.length?xo:(p=p.slice(E,E+g),l.C=E+g,p)))}ln.prototype.cancel=function(){this.K=!0,lr(this)};function Ni(l){l.T=Date.now()+l.H,Mo(l,l.H)}function Mo(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Fr(v(l.aa,l),p)}function ws(l){l.D&&(h.clearTimeout(l.D),l.D=null)}ln.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(ul(this.i,this.B),this.M!=2&&(sr(),tt(17)),lr(this),this.m=2,Di(this)):Mo(this,this.T-l)};function Di(l){l.j.I==0||l.K||Ds(l.j,l)}function lr(l){ws(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,gs(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function We(l,p){try{var g=l.j;if(g.I!=0&&(g.g==l||Fo(g.h,l))){if(!l.L&&Fo(g.h,l)&&g.I==3){try{var E=g.Ba.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)Ns(g),en(g);else break e;Bn(g),tt(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Fr(v(g.Va,g),6e3));Vi(g.h)<=1&&g.ta&&(g.ta=void 0)}else tn(g,11)}else if((l.L||g.g==l)&&Ns(g),!S(p))for(M=g.Ba.g.parse(p),p=0;p<M.length;p++){let Ue=M[p];const lt=Ue[0];if(!(lt<=g.K))if(g.K=lt,Ue=Ue[1],g.I==2)if(Ue[0]=="c"){g.M=Ue[1],g.ba=Ue[2];const nn=Ue[3];nn!=null&&(g.ka=nn,g.j.info("VER="+g.ka));const pr=Ue[4];pr!=null&&(g.za=pr,g.j.info("SVER="+g.za));const $n=Ue[5];$n!=null&&typeof $n=="number"&&$n>0&&(E=1.5*$n,g.O=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const Hn=l.g;if(Hn){const xs=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var U=E.h;U.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Is(U,U.h),U.h=null))}if(E.G){const Yo=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(E.wa=Yo,Me(E.J,E.G,Yo))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),E=g;var Q=l;if(E.na=Qo(E,E.L?E.ba:null,E.W),Q.L){Oi(E.h,Q);var _e=Q,it=E.O;it&&(_e.H=it),_e.D&&(ws(_e),Ni(_e)),E.g=Q}else Nt(E);g.i.length>0&&fr(g)}else Ue[0]!="stop"&&Ue[0]!="close"||tn(g,7);else g.I==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?tn(g,7):Ps(g):Ue[0]!="noop"&&g.l&&g.l.qa(Ue),g.A=0)}}sr(4)}catch{}}var yc=class{constructor(l,p){this.g=l,this.map=p}};function Ts(l){this.l=l||10,h.PerformanceNavigationTiming?(l=h.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Vi(l){return l.h?1:l.g?l.g.size:0}function Fo(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Is(l,p){l.g?l.g.add(p):l.h=p}function Oi(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ts.prototype.cancel=function(){if(this.i=Xt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Xt(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const g of l.g.values())p=p.concat(g.G);return p}return j(l.i)}var gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jt(l,p){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const E=l[g].indexOf("=");let M,U=null;E>=0?(M=l[g].substring(0,E),U=l[g].substring(E+1)):M=l[g],p(M,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function On(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof On?(this.l=l.l,xi(this,l.j),this.o=l.o,this.g=l.g,xn(this,l.u),this.h=l.h,Br(this,qo(l.i)),this.m=l.m):l&&(p=String(l).match(gl))?(this.l=!1,xi(this,p[1]||"",!0),this.o=Li(p[2]||""),this.g=Li(p[3]||"",!0),xn(this,p[4]),this.h=Li(p[5]||"",!0),Br(this,p[6]||"",!0),this.m=Li(p[7]||"")):(this.l=!1,this.i=new ke(null,this.l))}On.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(Mi(p,jo,!0),":");var g=this.g;return(g||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Mi(p,jo,!0),"@"),l.push(Vn(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Mi(g,g.charAt(0)=="/"?bi:zo,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Mi(g,Bo)),l.join("")},On.prototype.resolve=function(l){const p=un(this);let g=!!l.j;g?xi(p,l.j):g=!!l.o,g?p.o=l.o:g=!!l.g,g?p.g=l.g:g=l.u!=null;var E=l.h;if(g)xn(p,l.u);else if(g=!!l.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var M=p.h.lastIndexOf("/");M!=-1&&(E=p.h.slice(0,M+1)+E)}if(M=E,M==".."||M==".")E="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){E=M.lastIndexOf("/",0)==0,M=M.split("/");const U=[];for(let Q=0;Q<M.length;){const _e=M[Q++];_e=="."?E&&Q==M.length&&U.push(""):_e==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),E&&Q==M.length&&U.push("")):(U.push(_e),E=!0)}E=U.join("/")}else E=M}return g?p.h=E:g=l.i.toString()!=="",g?Br(p,qo(l.i)):g=!!l.m,g&&(p.m=l.m),p};function un(l){return new On(l)}function xi(l,p,g){l.j=g?Li(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function xn(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function Br(l,p,g){p instanceof ke?(l.i=p,As(l.i,l.l)):(g||(p=Mi(p,_c)),l.i=new ke(p,l.l))}function Me(l,p,g){l.i.set(p,g)}function ur(l){return Me(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Li(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Mi(l,p,g){return typeof l=="string"?(l=encodeURI(l).replace(p,Uo),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Uo(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var jo=/[#\/\?@]/g,zo=/[#\?:]/g,bi=/[#\?]/g,_c=/[#\?@]/g,Bo=/#/g;function ke(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Ln(l){l.g||(l.g=new Map,l.h=0,l.i&&Jt(l.i,function(p,g){l.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}i=ke.prototype,i.add=function(l,p){Ln(this),this.i=null,l=Mn(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(p),this.h+=1,this};function $o(l,p){Ln(l),p=Mn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Ss(l,p){return Ln(l),p=Mn(l,p),l.g.has(p)}i.forEach=function(l,p){Ln(this),this.g.forEach(function(g,E){g.forEach(function(M){l.call(p,M,E,this)},this)},this)};function Ho(l,p){Ln(l);let g=[];if(typeof p=="string")Ss(l,p)&&(g=g.concat(l.g.get(Mn(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)g=g.concat(l[p]);return g}i.set=function(l,p){return Ln(this),this.i=null,l=Mn(this,l),Ss(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=Ho(this,l),l.length>0?String(l[0]):p):p};function Wo(l,p,g){$o(l,p),g.length>0&&(l.i=null,l.g.set(Mn(l,p),j(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let E=0;E<p.length;E++){var g=p[E];const M=Vn(g);g=Ho(this,g);for(let U=0;U<g.length;U++){let Q=M;g[U]!==""&&(Q+="="+Vn(g[U])),l.push(Q)}}return this.i=l.join("&")};function qo(l){const p=new ke;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Mn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function As(l,p){p&&!l.j&&(Ln(l),l.i=null,l.g.forEach(function(g,E){const M=E.toLowerCase();E!=M&&($o(this,E),Wo(this,M,g))},l)),l.j=p}function bn(l,p){const g=new Ur;if(h.Image){const E=new Image;E.onload=w(Tt,g,"TestLoadImage: loaded",!0,p,E),E.onerror=w(Tt,g,"TestLoadImage: error",!1,p,E),E.onabort=w(Tt,g,"TestLoadImage: abort",!1,p,E),E.ontimeout=w(Tt,g,"TestLoadImage: timeout",!1,p,E),h.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function Fn(l,p){const g=new Ur,E=new AbortController,M=setTimeout(()=>{E.abort(),Tt(g,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(U=>{clearTimeout(M),U.ok?Tt(g,"TestPingServer: ok",!0,p):Tt(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Tt(g,"TestPingServer: error",!1,p)})}function Tt(l,p,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function Fi(){this.g=new Pi}function cr(l){this.i=l.Sb||null,this.h=l.ab||!1}R(cr,Lr),cr.prototype.g=function(){return new Zt(this.i,this.h)};function Zt(l,p){at.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(Zt,at),i=Zt.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,Tn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||h).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},i.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yl(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function yl(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}i.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?$r(this):Tn(this),this.readyState==3&&yl(this)}},i.Oa=function(l){this.g&&(this.response=this.responseText=l,$r(this))},i.Na=function(l){this.g&&(this.response=l,$r(this))},i.ga=function(){this.g&&$r(this)};function $r(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Tn(l)}i.setRequestHeader=function(l,p){this.A.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=p.next();return l.join(`\r
`)};function Tn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Zt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function _l(l){let p="";return ae(l,function(g,E){p+=E,p+=":",p+=g,p+=`\r
`}),p}function Rs(l,p,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=_l(g),typeof l=="string"?g!=null&&Vn(g):Me(l,p,g))}function ze(l){at.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(ze,at);var vl=/^https?$/i,vc=["POST","PUT"];i=ze.prototype,i.Fa=function(l){this.H=l},i.ea=function(l,p,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cl.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(U){Hr(this,U);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const U of E.keys())g.set(U,E.get(U));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),M=h.FormData&&l instanceof h.FormData,!(Array.prototype.indexOf.call(vc,p,void 0)>=0)||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Q]of g)this.g.setRequestHeader(U,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(U){Hr(this,U)}};function Hr(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,Wr(l),dr(l)}function Wr(l){l.A||(l.A=!0,rt(l,"complete"),rt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,rt(this,"complete"),rt(this,"abort"),dr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?hr(this):this.Xa())},i.Xa=function(){hr(this)};function hr(l){if(l.h&&typeof u<"u"){if(l.v&&Un(l)==4)setTimeout(l.Ca.bind(l),0);else if(rt(l,"readystatechange"),Un(l)==4){l.h=!1;try{const U=l.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var E;if(E=U===0){let Q=String(l.D).match(gl)[1]||null;!Q&&h.self&&h.self.location&&(Q=h.self.location.protocol.slice(0,-1)),E=!vl.test(Q?Q.toLowerCase():"")}g=E}if(g)rt(l,"complete"),rt(l,"success");else{l.o=6;try{var M=Un(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",Wr(l)}}finally{dr(l)}}}}function dr(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,p||rt(l,"ready");try{g.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Un(l){return l.g?l.g.readyState:0}i.ca=function(){try{return Un(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),sl(p)}};function El(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ko(l){const p={};l=(l.g&&Un(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(S(l[E]))continue;var g=Es(l[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=p[M]||[];p[M]=U,U.push(g)}te(p,function(E){return E.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function jn(l,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||p}function Cs(l){this.za=0,this.i=[],this.j=new Ur,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=jn("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=jn("baseRetryDelayMs",5e3,l),this.Za=jn("retryDelaySeedMs",1e4,l),this.Ta=jn("forwardChannelMaxRetries",2,l),this.va=jn("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Ts(l&&l.concurrentRequestLimit),this.Ba=new Fi,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Cs.prototype,i.ka=8,i.I=1,i.connect=function(l,p,g,E){tt(0),this.W=l,this.H=p||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.J=Qo(this,null,this.W),fr(this)};function Ps(l){if(ks(l),l.I==3){var p=l.V++,g=un(l.J);if(Me(g,"SID",l.M),Me(g,"RID",p),Me(g,"TYPE","terminate"),zn(l,g),p=new ln(l,l.j,p),p.M=2,p.A=ur(un(g)),g=!1,h.navigator&&h.navigator.sendBeacon)try{g=h.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&h.Image&&(new Image().src=p.A,g=!0),g||(p.g=Tl(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Ni(p)}zi(l)}function en(l){l.g&&(ji(l),l.g.cancel(),l.g=null)}function ks(l){en(l),l.v&&(h.clearTimeout(l.v),l.v=null),Ns(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&h.clearTimeout(l.m),l.m=null)}function fr(l){if(!bo(l.h)&&!l.m){l.m=!0;var p=l.Ea;Be||I(),Ne||(Be(),Ne=!0),k.add(p,l),l.D=0}}function wl(l,p){return Vi(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Fr(v(l.Ea,l,p),Vs(l,l.D)),l.D++,!0)}i.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new ln(this,this.j,l);let U=this.o;if(this.U&&(U?(U=O(U),we(U,this.U)):U=this.U),this.u!==null||this.R||(M.J=U,U=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Go(this,M,p),g=un(this.J),Me(g,"RID",l),Me(g,"CVER",22),this.G&&Me(g,"X-HTTP-Session-Id",this.G),zn(this,g),U&&(this.R?p="headers="+Vn(_l(U))+"&"+p:this.u&&Rs(g,this.u,U)),Is(this.h,M),this.Ra&&Me(g,"TYPE","init"),this.S?(Me(g,"$req",p),Me(g,"SID","null"),M.U=!0,wn(M,g,null)):wn(M,g,p),this.I=2}}else this.I==3&&(l?Ui(this,l):this.i.length==0||bo(this.h)||Ui(this))};function Ui(l,p){var g;p?g=p.l:g=l.V++;const E=un(l.J);Me(E,"SID",l.M),Me(E,"RID",g),Me(E,"AID",l.K),zn(l,E),l.u&&l.o&&Rs(E,l.u,l.o),g=new ln(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),p&&(l.i=p.G.concat(l.i)),p=Go(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Is(l.h,g),wn(g,E,p)}function zn(l,p){l.H&&ae(l.H,function(g,E){Me(p,E,g)}),l.l&&ae({},function(g,E){Me(p,E,g)})}function Go(l,p,g){g=Math.min(l.i.length,g);const E=l.l?v(l.l.Ka,l.l,l):null;e:{var M=l.i;let _e=-1;for(;;){const it=["count="+g];_e==-1?g>0?(_e=M[0].g,it.push("ofs="+_e)):_e=0:it.push("ofs="+_e);let Ue=!0;for(let lt=0;lt<g;lt++){var U=M[lt].g;const nn=M[lt].map;if(U-=_e,U<0)_e=Math.max(0,M[lt].g-100),Ue=!1;else try{U="req"+U+"_"||"";try{var Q=nn instanceof Map?nn:Object.entries(nn);for(const[pr,$n]of Q){let Hn=$n;m($n)&&(Hn=xr($n)),it.push(U+pr+"="+encodeURIComponent(Hn))}}catch(pr){throw it.push(U+"type="+encodeURIComponent("_badmap")),pr}}catch{E&&E(nn)}}if(Ue){Q=it.join("&");break e}}Q=void 0}return l=l.i.splice(0,g),p.G=l,Q}function Nt(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;Be||I(),Ne||(Be(),Ne=!0),k.add(p,l),l.A=0}}function Bn(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Fr(v(l.Da,l),Vs(l,l.A)),l.A++,!0)}i.Da=function(){if(this.v=null,qr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Fr(v(this.Wa,this),l)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),en(this),qr(this))};function ji(l){l.B!=null&&(h.clearTimeout(l.B),l.B=null)}function qr(l){l.g=new ln(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=un(l.na);Me(p,"RID","rpc"),Me(p,"SID",l.M),Me(p,"AID",l.K),Me(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&Me(p,"TO",l.ia),Me(p,"TYPE","xmlhttp"),zn(l,p),l.u&&l.o&&Rs(p,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=ur(un(p)),g.u=null,g.R=!0,Lo(g,l)}i.Va=function(){this.C!=null&&(this.C=null,en(this),Bn(this),tt(19))};function Ns(l){l.C!=null&&(h.clearTimeout(l.C),l.C=null)}function Ds(l,p){var g=null;if(l.g==p){Ns(l),ji(l),l.g=null;var E=2}else if(Fo(l.h,p))g=p.G,Oi(l.h,p),E=1;else return;if(l.I!=0){if(p.o)if(E==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var M=l.D;E=br(),rt(E,new Oo(E,g)),fr(l)}else Nt(l);else if(M=p.m,M==3||M==0&&p.X>0||!(E==1&&wl(l,p)||E==2&&Bn(l)))switch(g&&g.length>0&&(p=l.h,p.i=p.i.concat(g)),M){case 1:tn(l,5);break;case 4:tn(l,10);break;case 3:tn(l,6);break;default:tn(l,2)}}}function Vs(l,p){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*p}function tn(l,p){if(l.j.info("Error code "+p),p==2){var g=v(l.bb,l),E=l.Ua;const M=!E;E=new On(E||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||xi(E,"https"),ur(E),M?bn(E.toString(),g):Fn(E.toString(),g)}else tt(2);l.I=0,l.l&&l.l.pa(p),zi(l),ks(l)}i.bb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function zi(l){if(l.I=0,l.ja=[],l.l){const p=Xt(l.h);(p.length!=0||l.i.length!=0)&&(X(l.ja,p),X(l.ja,l.i),l.h.i.length=0,j(l.i),l.i.length=0),l.l.oa()}}function Qo(l,p,g){var E=g instanceof On?un(g):new On(g);if(E.g!="")p&&(E.g=p+"."+E.g),xn(E,E.u);else{var M=h.location;E=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const U=new On(null);E&&xi(U,E),p&&(U.g=p),M&&xn(U,M),g&&(U.h=g),E=U}return g=l.G,p=l.wa,g&&p&&Me(E,g,p),Me(E,"VER",l.ka),zn(l,E),E}function Tl(l,p,g){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new ze(new cr({ab:g})):new ze(l.ma),p.Fa(l.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Il(){}i=Il.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Os(){}Os.prototype.g=function(l,p){return new It(l,p)};function It(l,p){at.call(this),this.g=new Cs(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!S(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!S(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Kr(this)}R(It,at),It.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){Ps(this.g)},It.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=xr(l),l=g);p.i.push(new yc(p.Ya++,l)),p.I==3&&fr(p)},It.prototype.N=function(){this.g.l=null,delete this.j,Ps(this.g),delete this.g,It.Z.N.call(this)};function Sl(l){ys.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const g in p){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}R(Sl,ys);function Al(){Vo.call(this),this.status=1}R(Al,Vo);function Kr(l){this.g=l}R(Kr,Il),Kr.prototype.ra=function(){rt(this.g,"a")},Kr.prototype.qa=function(l){rt(this.g,new Sl(l))},Kr.prototype.pa=function(l){rt(this.g,new Al)},Kr.prototype.oa=function(){rt(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,f_=function(){return new Os},d_=function(){return br()},h_=En,dd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,ku=jr,zr.COMPLETE="complete",c_=zr,ol.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",at.prototype.listen=at.prototype.J,Sa=ol,ze.prototype.listenOnce=ze.prototype.K,ze.prototype.getLastError=ze.prototype.Ha,ze.prototype.getLastErrorCode=ze.prototype.ya,ze.prototype.getStatus=ze.prototype.ca,ze.prototype.getResponseJson=ze.prototype.La,ze.prototype.getResponseText=ze.prototype.la,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Fa,u_=ze}).apply(typeof Eu<"u"?Eu:typeof self<"u"?self:typeof window<"u"?window:{});const mg="@firebase/firestore",gg="4.9.2";class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let Io="12.3.0";const as=new kd("@firebase/firestore");function no(){return as.logLevel}function ee(i,...e){if(as.logLevel<=Re.DEBUG){const t=e.map($d);as.debug(`Firestore (${Io}): ${i}`,...t)}}function kr(i,...e){if(as.logLevel<=Re.ERROR){const t=e.map($d);as.error(`Firestore (${Io}): ${i}`,...t)}}function po(i,...e){if(as.logLevel<=Re.WARN){const t=e.map($d);as.warn(`Firestore (${Io}): ${i}`,...t)}}function $d(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function de(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,p_(i,s,t)}function p_(i,e,t){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw kr(s),new Error(s)}function Fe(i,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,i||p_(e,a,s)}function ve(i,e){return i}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class m_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Mt.UNAUTHENTICATED)))}shutdown(){}}class iS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class sS{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let s=this.i;const a=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let u=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yi,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},m=y=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new m_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Mt(e)}}class oS{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aS{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new oS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Mt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ee("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const a=u=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new yg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uS(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Hd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=uS(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<t&&(s+=e.charAt(a[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function fd(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const a=i.charAt(s),u=e.charAt(s);if(a!==u)return Jh(a)===Jh(u)?Ce(a,u):Jh(a)?1:-1}return Ce(i.length,e.length)}const cS=55296,hS=57343;function Jh(i){const e=i.charCodeAt(0);return e>=cS&&e<=hS}function mo(i,e,t){return i.length===e.length&&i.every(((s,a)=>t(s,e[a])))}const _g="__name__";class Qn{constructor(e,t,s){t===void 0?t=0:t>e.length&&de(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&de(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Qn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qn?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const u=Qn.compareSegments(e.get(a),t.get(a));if(u!==0)return u}return Ce(e.length,t.length)}static compareSegments(e,t){const s=Qn.isNumericId(e),a=Qn.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Qn.extractNumericId(e).compare(Qn.extractNumericId(t)):fd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gi.fromString(e.substring(4,e.length-2))}}class Ze extends Qn{construct(e,t,s){return new Ze(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const dS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Qn{construct(e,t,s){return new Ct(e,t,s)}static isValidIdentifier(e){return dS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_g}static keyField(){return new Ct([_g])}static fromServerFormat(e){const t=[];let s="",a=0;const u=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(u(),a++)}if(u(),h)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(t)}static emptyPath(){return new Ct([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Ze.fromString(e))}static fromName(e){return new ce(Ze.fromString(e).popFirst(5))}static empty(){return new ce(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Ze(e.slice()))}}function fS(i,e,t){if(!t)throw new oe(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function pS(i,e,t,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function vg(i){if(!ce.isDocumentKey(i))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function g_(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Wd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":de(12329,{type:typeof i})}function Fa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wd(i);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function ht(i,e){const t={typeString:i};return e&&(t.value=e),t}function Ja(i,e){if(!g_(i))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(a&&typeof h!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new oe(W.INVALID_ARGUMENT,t);return!0}const Eg=-62135596800,wg=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*wg);return new Ge(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Eg)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wg}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ja(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Eg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:ht("string",Ge._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Ge(0,0))}static max(){return new ge(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ua=-1;function mS(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ge.fromTimestamp(s===1e9?new Ge(t+1,0):new Ge(t,s));return new _i(a,ce.empty(),e)}function gS(i){return new _i(i.readTime,i.key,Ua)}class _i{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new _i(ge.min(),ce.empty(),Ua)}static max(){return new _i(ge.max(),ce.empty(),Ua)}}function yS(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(i.documentKey,e.documentKey),t!==0?t:Ce(i.largestBatchId,e.largestBatchId))}const _S="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==_S)throw i;ee("LocalStore","Unexpectedly lost primary lease")}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z(((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):z.reject(t)}static resolve(e){return new z(((t,s)=>{t(e)}))}static reject(e){return new z(((t,s)=>{s(e)}))}static waitFor(e){return new z(((t,s)=>{let a=0,u=0,h=!1;e.forEach((m=>{++a,m.next((()=>{++u,h&&u===a&&t()}),(y=>s(y)))})),h=!0,u===a&&t()}))}static or(e){let t=z.resolve(!1);for(const s of e)t=t.next((a=>a?z.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,u)=>{s.push(t.call(this,a,u))})),this.waitFor(s)}static mapArray(e,t){return new z(((s,a)=>{const u=e.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const v=y;t(e[v]).next((w=>{h[v]=w,++m,m===u&&s(h)}),(w=>a(w)))}}))}static doWhile(e,t){return new z(((s,a)=>{const u=()=>{e()===!0?t().next((()=>{u()}),a):s()};u()}))}}function ES(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ao(i){return i.name==="IndexedDbTransactionError"}class sc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sc.ce=-1;const qd=-1;function oc(i){return i==null}function $u(i){return i===0&&1/i==-1/0}function wS(i){return typeof i=="number"&&Number.isInteger(i)&&!$u(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const y_="";function TS(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Tg(e)),e=IS(i.get(t),e);return Tg(e)}function IS(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":t+="";break;case y_:t+="";break;default:t+=u}}return t}function Tg(i){return i+y_+""}function Ig(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function us(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function __(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class et{constructor(e,t){this.comparator=e,this.root=t||Rt.EMPTY}insert(e,t){return new et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wu(this.root,e,this.comparator,!0)}}class wu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,t,s,a,u){this.key=e,this.value=t,this.color=s??Rt.RED,this.left=a??Rt.EMPTY,this.right=u??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,u){return new Rt(e??this.key,t??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,s),null):u===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Rt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,t,s,a,u){return this}insert(e,t,s){return new Rt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sg(this.data.getIterator())}getIteratorFrom(e){return new Sg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class Sg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Nn([])}unionWith(e){let t=new mt(Ct.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Nn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class v_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new v_("Invalid base64 string: "+u):u}})(e);return new Pt(t)}static fromUint8Array(e){const t=(function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u})(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const SS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const t=SS.exec(i);if(Fe(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(i.seconds),nanos:ot(i.nanos)}}function ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ei(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}const E_="server_timestamp",w_="__type__",T_="__previous_value__",I_="__local_write_time__";function Kd(i){return(i?.mapValue?.fields||{})[w_]?.stringValue===E_}function ac(i){const e=i.mapValue.fields[T_];return Kd(e)?ac(e):e}function ja(i){const e=vi(i.mapValue.fields[I_].timestampValue);return new Ge(e.seconds,e.nanos)}class AS{constructor(e,t,s,a,u,h,m,y,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=w}}const Hu="(default)";class za{constructor(e,t){this.projectId=e,this.database=t||Hu}static empty(){return new za("","")}get isDefaultDatabase(){return this.database===Hu}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}const S_="__type__",RS="__max__",Tu={mapValue:{}},A_="__vector__",Wu="value";function wi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Kd(i)?4:PS(i)?9007199254740991:CS(i)?10:11:de(28295,{value:i})}function rr(i,e){if(i===e)return!0;const t=wi(i);if(t!==wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ja(i).isEqual(ja(e));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=vi(a.timestampValue),m=vi(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,u){return Ei(a.bytesValue).isEqual(Ei(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,u){return ot(a.geoPointValue.latitude)===ot(u.geoPointValue.latitude)&&ot(a.geoPointValue.longitude)===ot(u.geoPointValue.longitude)})(i,e);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return ot(a.integerValue)===ot(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=ot(a.doubleValue),m=ot(u.doubleValue);return h===m?$u(h)===$u(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return mo(i.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(Ig(h)!==Ig(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!rr(h[y],m[y])))return!1;return!0})(i,e);default:return de(52216,{left:i})}}function Ba(i,e){return(i.values||[]).find((t=>rr(t,e)))!==void 0}function go(i,e){if(i===e)return 0;const t=wi(i),s=wi(e);if(t!==s)return Ce(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=ot(u.integerValue||u.doubleValue),y=ot(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,e);case 3:return Ag(i.timestampValue,e.timestampValue);case 4:return Ag(ja(i),ja(e));case 5:return fd(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=Ei(u),y=Ei(h);return m.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),y=h.split("/");for(let v=0;v<m.length&&v<y.length;v++){const w=Ce(m[v],y[v]);if(w!==0)return w}return Ce(m.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ce(ot(u.latitude),ot(h.latitude));return m!==0?m:Ce(ot(u.longitude),ot(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Rg(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},y=h.fields||{},v=m[Wu]?.arrayValue,w=y[Wu]?.arrayValue,R=Ce(v?.values?.length||0,w?.values?.length||0);return R!==0?R:Rg(v,w)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Tu.mapValue&&h===Tu.mapValue)return 0;if(u===Tu.mapValue)return 1;if(h===Tu.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),v=h.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let R=0;R<y.length&&R<w.length;++R){const V=fd(y[R],w[R]);if(V!==0)return V;const j=go(m[y[R]],v[w[R]]);if(j!==0)return j}return Ce(y.length,w.length)})(i.mapValue,e.mapValue);default:throw de(23264,{he:t})}}function Ag(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const t=vi(i),s=vi(e),a=Ce(t.seconds,s.seconds);return a!==0?a:Ce(t.nanos,s.nanos)}function Rg(i,e){const t=i.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const u=go(t[a],s[a]);if(u)return u}return Ce(t.length,s.length)}function yo(i){return pd(i)}function pd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=vi(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Ei(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ce.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",a=!0;for(const u of t.values||[])a?a=!1:s+=",",s+=pd(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${pd(t.fields[h])}`;return a+"}"})(i.mapValue):de(61005,{value:i})}function Nu(i){switch(wi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ac(i);return e?16+Nu(e):16;case 5:return 2*i.stringValue.length;case 6:return Ei(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,u)=>a+Nu(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return us(s.fields,((u,h)=>{a+=u.length+Nu(h)})),a})(i.mapValue);default:throw de(13486,{value:i})}}function md(i){return!!i&&"integerValue"in i}function Gd(i){return!!i&&"arrayValue"in i}function Cg(i){return!!i&&"nullValue"in i}function Pg(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Du(i){return!!i&&"mapValue"in i}function CS(i){return(i?.mapValue?.fields||{})[S_]?.stringValue===A_}function Na(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return us(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Na(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Na(i.arrayValue.values[t]);return e}return{...i}}function PS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===RS}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Du(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Na(t)}setAll(e){let t=Ct.emptyPath(),s={},a=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,s,a),s={},a=[],t=m.popLast()}h?s[m.lastSegment()]=Na(h):a.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,a)}delete(e){const t=this.field(e.popLast());Du(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Du(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){us(t,((a,u)=>e[a]=u));for(const a of s)delete e[a]}clone(){return new gn(Na(this.value))}}function R_(i){const e=[];return us(i.fields,((t,s)=>{const a=new Ct([t]);if(Du(s)){const u=R_(s.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)})),new Nn(e)}class bt{constructor(e,t,s,a,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new bt(e,0,ge.min(),ge.min(),ge.min(),gn.empty(),0)}static newFoundDocument(e,t,s,a){return new bt(e,1,t,ge.min(),s,a,0)}static newNoDocument(e,t){return new bt(e,2,t,ge.min(),ge.min(),gn.empty(),0)}static newUnknownDocument(e,t){return new bt(e,3,t,ge.min(),ge.min(),gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qu{constructor(e,t){this.position=e,this.inclusive=t}}function kg(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=ce.comparator(ce.fromName(h.referenceValue),t.key):s=go(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ng(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!rr(i.position[t],e.position[t]))return!1;return!0}class Ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function kS(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class C_{}class pt extends C_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new DS(e,t,s):t==="array-contains"?new xS(e,s):t==="in"?new LS(e,s):t==="not-in"?new MS(e,s):t==="array-contains-any"?new bS(e,s):new pt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new VS(e,s):new OS(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(go(t,this.value)):t!==null&&wi(this.value)===wi(t)&&this.matchesComparison(go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends C_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ir(e,t)}matches(e){return P_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P_(i){return i.op==="and"}function k_(i){return NS(i)&&P_(i)}function NS(i){for(const e of i.filters)if(e instanceof ir)return!1;return!0}function gd(i){if(i instanceof pt)return i.field.canonicalString()+i.op.toString()+yo(i.value);if(k_(i))return i.filters.map((e=>gd(e))).join(",");{const e=i.filters.map((t=>gd(t))).join(",");return`${i.op}(${e})`}}function N_(i,e){return i instanceof pt?(function(s,a){return a instanceof pt&&s.op===a.op&&s.field.isEqual(a.field)&&rr(s.value,a.value)})(i,e):i instanceof ir?(function(s,a){return a instanceof ir&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((u,h,m)=>u&&N_(h,a.filters[m])),!0):!1})(i,e):void de(19439)}function D_(i){return i instanceof pt?(function(t){return`${t.field.canonicalString()} ${t.op} ${yo(t.value)}`})(i):i instanceof ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(D_).join(" ,")+"}"})(i):"Filter"}class DS extends pt{constructor(e,t,s){super(e,t,s),this.key=ce.fromName(s.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class VS extends pt{constructor(e,t){super(e,"in",t),this.keys=V_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class OS extends pt{constructor(e,t){super(e,"not-in",t),this.keys=V_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function V_(i,e){return(e.arrayValue?.values||[]).map((t=>ce.fromName(t.referenceValue)))}class xS extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gd(t)&&Ba(t.arrayValue,this.value)}}class LS extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ba(this.value.arrayValue,t)}}class MS extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ba(this.value.arrayValue,t)}}class bS extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Ba(this.value.arrayValue,s)))}}class FS{constructor(e,t=null,s=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Dg(i,e=null,t=[],s=[],a=null,u=null,h=null){return new FS(i,e,t,s,a,u,h)}function Qd(i){const e=ve(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>gd(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),oc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>yo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>yo(s))).join(",")),e.Te=t}return e.Te}function Yd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!kS(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!N_(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ng(i.startAt,e.startAt)&&Ng(i.endAt,e.endAt)}function yd(i){return ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class lc{constructor(e,t=null,s=[],a=[],u=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function US(i,e,t,s,a,u,h,m){return new lc(i,e,t,s,a,u,h,m)}function Xd(i){return new lc(i)}function Vg(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function jS(i){return i.collectionGroup!==null}function Da(i){const e=ve(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new mt(Ct.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ku(u,s))})),t.has(Ct.keyField().canonicalString())||e.Ie.push(new Ku(Ct.keyField(),s))}return e.Ie}function Zn(i){const e=ve(i);return e.Ee||(e.Ee=zS(e,Da(i))),e.Ee}function zS(i,e){if(i.limitType==="F")return Dg(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new Ku(a.field,u)}));const t=i.endAt?new qu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new qu(i.startAt.position,i.startAt.inclusive):null;return Dg(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function _d(i,e,t){return new lc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function uc(i,e){return Yd(Zn(i),Zn(e))&&i.limitType===e.limitType}function O_(i){return`${Qd(Zn(i))}|lt:${i.limitType}`}function ro(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>D_(a))).join(", ")}]`),oc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>yo(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>yo(a))).join(",")),`Target(${s})`})(Zn(i))}; limitType=${i.limitType})`}function cc(i,e){return e.isFoundDocument()&&(function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ce.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,a){for(const u of Da(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(h,m,y){const v=kg(h,m,y);return h.inclusive?v<=0:v<0})(s.startAt,Da(s),a)||s.endAt&&!(function(h,m,y){const v=kg(h,m,y);return h.inclusive?v>=0:v>0})(s.endAt,Da(s),a))})(i,e)}function BS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function x_(i){return(e,t)=>{let s=!1;for(const a of Da(i)){const u=$S(a,e,t);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function $S(i,e,t){const s=i.field.isKeyField()?ce.comparator(e.key,t.key):(function(u,h,m){const y=h.data.field(u),v=m.data.field(u);return y!==null&&v!==null?go(y,v):de(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return de(19790,{direction:i.dir})}}class cs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,((t,s)=>{for(const[a,u]of s)e(a,u)}))}isEmpty(){return __(this.inner)}size(){return this.innerSize}}const HS=new et(ce.comparator);function Nr(){return HS}const L_=new et(ce.comparator);function Aa(...i){let e=L_;for(const t of i)e=e.insert(t.key,t);return e}function M_(i){let e=L_;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ts(){return Va()}function b_(){return Va()}function Va(){return new cs((i=>i.toString()),((i,e)=>i.isEqual(e)))}const WS=new et(ce.comparator),qS=new mt(ce.comparator);function Pe(...i){let e=qS;for(const t of i)e=e.add(t);return e}const KS=new mt(Ce);function GS(){return KS}function Jd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function F_(i){return{integerValue:""+i}}function QS(i,e){return wS(e)?F_(e):Jd(i,e)}class hc{constructor(){this._=void 0}}function YS(i,e,t){return i instanceof Gu?(function(a,u){const h={fields:{[w_]:{stringValue:E_},[I_]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Kd(u)&&(u=ac(u)),u&&(h.fields[T_]=u),{mapValue:h}})(t,e):i instanceof $a?j_(i,e):i instanceof Ha?z_(i,e):(function(a,u){const h=U_(a,u),m=Og(h)+Og(a.Ae);return md(h)&&md(a.Ae)?F_(m):Jd(a.serializer,m)})(i,e)}function XS(i,e,t){return i instanceof $a?j_(i,e):i instanceof Ha?z_(i,e):t}function U_(i,e){return i instanceof Qu?(function(s){return md(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Gu extends hc{}class $a extends hc{constructor(e){super(),this.elements=e}}function j_(i,e){const t=B_(e);for(const s of i.elements)t.some((a=>rr(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Ha extends hc{constructor(e){super(),this.elements=e}}function z_(i,e){let t=B_(e);for(const s of i.elements)t=t.filter((a=>!rr(a,s)));return{arrayValue:{values:t}}}class Qu extends hc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Og(i){return ot(i.integerValue||i.doubleValue)}function B_(i){return Gd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function JS(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof $a&&a instanceof $a||s instanceof Ha&&a instanceof Ha?mo(s.elements,a.elements,rr):s instanceof Qu&&a instanceof Qu?rr(s.Ae,a.Ae):s instanceof Gu&&a instanceof Gu})(i.transform,e.transform)}class ZS{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class dc{}function $_(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new W_(i.key,Rr.none()):new Za(i.key,i.data,Rr.none());{const t=i.data,s=gn.empty();let a=new mt(Ct.comparator);for(let u of e.fields)if(!a.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new hs(i.key,s,new Nn(a.toArray()),Rr.none())}}function e1(i,e,t){i instanceof Za?(function(a,u,h){const m=a.value.clone(),y=Lg(a.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,t):i instanceof hs?(function(a,u,h){if(!Vu(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Lg(a.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(H_(a)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(i,e,t):(function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Oa(i,e,t,s){return i instanceof Za?(function(u,h,m,y){if(!Vu(u.precondition,h))return m;const v=u.value.clone(),w=Mg(u.fieldTransforms,y,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(i,e,t,s):i instanceof hs?(function(u,h,m,y){if(!Vu(u.precondition,h))return m;const v=Mg(u.fieldTransforms,y,h),w=h.data;return w.setAll(H_(u)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((R=>R.field)))})(i,e,t,s):(function(u,h,m){return Vu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,t)}function t1(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),u=U_(s.transform,a||null);u!=null&&(t===null&&(t=gn.empty()),t.set(s.field,u))}return t||null}function xg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&mo(s,a,((u,h)=>JS(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Za extends dc{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class hs extends dc{constructor(e,t,s,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function H_(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function Lg(i,e,t){const s=new Map;Fe(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let a=0;a<t.length;a++){const u=i[a],h=u.transform,m=e.data.field(u.field);s.set(u.field,XS(h,m,t[a]))}return s}function Mg(i,e,t){const s=new Map;for(const a of i){const u=a.transform,h=t.data.field(a.field);s.set(a.field,YS(u,h,e))}return s}class W_ extends dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n1 extends dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class r1{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&e1(u,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Oa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Oa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=b_();return this.mutations.forEach((a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(a.key)?null:m;const y=$_(h,m);y!==null&&s.set(a.key,y),h.isValidDocument()||h.convertToNoDocument(ge.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((t,s)=>xg(t,s)))&&mo(this.baseMutations,e.baseMutations,((t,s)=>xg(t,s)))}}class Zd{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return WS})();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,s[h].version);return new Zd(e,t,s,a)}}class i1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class s1{constructor(e,t){this.count=e,this.unchangedNames=t}}var ct,De;function o1(i){switch(i){case W.OK:return de(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return de(15467,{code:i})}}function q_(i){if(i===void 0)return kr("GRPC error has no .code"),W.UNKNOWN;switch(i){case ct.OK:return W.OK;case ct.CANCELLED:return W.CANCELLED;case ct.UNKNOWN:return W.UNKNOWN;case ct.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ct.INTERNAL:return W.INTERNAL;case ct.UNAVAILABLE:return W.UNAVAILABLE;case ct.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ct.NOT_FOUND:return W.NOT_FOUND;case ct.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ct.ABORTED:return W.ABORTED;case ct.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ct.DATA_LOSS:return W.DATA_LOSS;default:return de(39323,{code:i})}}(De=ct||(ct={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";function a1(){return new TextEncoder}const l1=new gi([4294967295,4294967295],0);function bg(i){const e=a1().encode(i),t=new l_;return t.update(e),new Uint8Array(t.digest())}function Fg(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new gi([t,s],0),new gi([a,u],0)]}class ef{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ra(`Invalid padding: ${t}`);if(s<0)throw new Ra(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=gi.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(gi.fromNumber(s)));return a.compare(l1)===1&&(a=new gi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=bg(e),[s,a]=Fg(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,a,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ef(u,a,t);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const t=bg(e),[s,a]=Fg(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,a,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fc{constructor(e,t,s,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,el.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new fc(ge.min(),a,new et(Ce),Nr(),Pe())}}class el{constructor(e,t,s,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new el(s,t,Pe(),Pe(),Pe())}}class Ou{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class K_{constructor(e,t){this.targetId=e,this.Ce=t}}class G_{constructor(e,t,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Ug{constructor(){this.ve=0,this.Fe=jg(),this.Me=Pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),t=Pe(),s=Pe();return this.Fe.forEach(((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:de(38017,{changeType:u})}})),new el(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=jg()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class u1{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nr(),this.Je=Iu(),this.He=Iu(),this.Ye=new et(Ce)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:de(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const u=a.target;if(yd(u))if(s===0){const h=new ce(u.path);this.et(t,h,bt.newNoDocument(h,ge.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(t);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=t;let h,m;try{h=Ei(s).toUint8Array()}catch(y){if(y instanceof v_)return po("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new ef(h,a,u)}catch(y){return po(y instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&yd(m.target)){const y=new ce(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,bt.newNoDocument(y,e))}u.Be&&(t.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const a=new fc(e,t,this.Ye,this.je,s);return this.je=Nr(),this.Je=Iu(),this.He=Iu(),this.Ye=new et(Ce),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ug,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new mt(Ce),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new mt(Ce),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ee("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ug),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Iu(){return new et(ce.comparator)}function jg(){return new et(ce.comparator)}const c1={asc:"ASCENDING",desc:"DESCENDING"},h1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d1={and:"AND",or:"OR"};class f1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vd(i,e){return i.useProto3Json||oc(e)?e:{value:e}}function Yu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q_(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function p1(i,e){return Yu(i,e.toTimestamp())}function er(i){return Fe(!!i,49232),ge.fromTimestamp((function(t){const s=vi(t);return new Ge(s.seconds,s.nanos)})(i))}function tf(i,e){return Ed(i,e).canonicalString()}function Ed(i,e){const t=(function(a){return new Ze(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?t:t.child(e)}function Y_(i){const e=Ze.fromString(i);return Fe(tv(e),10190,{key:e.toString()}),e}function wd(i,e){return tf(i.databaseId,e.path)}function Zh(i,e){const t=Y_(e);if(t.get(1)!==i.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ce(J_(t))}function X_(i,e){return tf(i.databaseId,e)}function m1(i){const e=Y_(i);return e.length===4?Ze.emptyPath():J_(e)}function Td(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function J_(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function zg(i,e,t){return{name:wd(i,e),fields:t.value.mapValue.fields}}function g1(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:de(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(v,w){return v.useProto3Json?(Fe(w===void 0||typeof w=="string",58123),Pt.fromBase64String(w||"")):(Fe(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Pt.fromUint8Array(w||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const w=v.code===void 0?W.UNKNOWN:q_(v.code);return new oe(w,v.message||"")})(h);t=new G_(s,a,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Zh(i,s.document.name),u=er(s.document.updateTime),h=s.document.createTime?er(s.document.createTime):ge.min(),m=new gn({mapValue:{fields:s.document.fields}}),y=bt.newFoundDocument(a,u,h,m),v=s.targetIds||[],w=s.removedTargetIds||[];t=new Ou(v,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Zh(i,s.document),u=s.readTime?er(s.readTime):ge.min(),h=bt.newNoDocument(a,u),m=s.removedTargetIds||[];t=new Ou([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Zh(i,s.document),u=s.removedTargetIds||[];t=new Ou([],u,a,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new s1(a,u),m=s.targetId;t=new K_(m,h)}}return t}function y1(i,e){let t;if(e instanceof Za)t={update:zg(i,e.key,e.value)};else if(e instanceof W_)t={delete:wd(i,e.key)};else if(e instanceof hs)t={update:zg(i,e.key,e.data),updateMask:R1(e.fieldMask)};else{if(!(e instanceof n1))return de(16599,{Vt:e.type});t={verify:wd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Gu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $a)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ha)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Qu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw de(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:p1(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:de(27497)})(i,e.precondition)),t}function _1(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map((t=>(function(a,u){let h=a.updateTime?er(a.updateTime):er(u);return h.isEqual(ge.min())&&(h=er(u)),new ZS(h,a.transformResults||[])})(t,e)))):[]}function v1(i,e){return{documents:[X_(i,e.path)]}}function E1(i,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=X_(i,a);const u=(function(v){if(v.length!==0)return ev(ir.create(v,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((w=>(function(V){return{field:io(V.field),direction:I1(V.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=vd(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:a}}function w1(i){let e=m1(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Fe(s===1,65062);const w=t.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=(function(R){const V=Z_(R);return V instanceof ir&&k_(V)?V.getFilters():[V]})(t.where));let h=[];t.orderBy&&(h=(function(R){return R.map((V=>(function(X){return new Ku(so(X.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(V)))})(t.orderBy));let m=null;t.limit&&(m=(function(R){let V;return V=typeof R=="object"?R.value:R,oc(V)?null:V})(t.limit));let y=null;t.startAt&&(y=(function(R){const V=!!R.before,j=R.values||[];return new qu(j,V)})(t.startAt));let v=null;return t.endAt&&(v=(function(R){const V=!R.before,j=R.values||[];return new qu(j,V)})(t.endAt)),US(e,a,h,u,m,"F",y,v)}function T1(i,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Z_(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=so(t.unaryFilter.field);return pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=so(t.unaryFilter.field);return pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(t.unaryFilter.field);return pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=so(t.unaryFilter.field);return pt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}})(i):i.fieldFilter!==void 0?(function(t){return pt.create(so(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ir.create(t.compositeFilter.filters.map((s=>Z_(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de(1026)}})(t.compositeFilter.op))})(i):de(30097,{filter:i})}function I1(i){return c1[i]}function S1(i){return h1[i]}function A1(i){return d1[i]}function io(i){return{fieldPath:i.canonicalString()}}function so(i){return Ct.fromServerFormat(i.fieldPath)}function ev(i){return i instanceof pt?(function(t){if(t.op==="=="){if(Pg(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NAN"}};if(Cg(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Pg(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NAN"}};if(Cg(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(t.field),op:S1(t.op),value:t.value}}})(i):i instanceof ir?(function(t){const s=t.getFilters().map((a=>ev(a)));return s.length===1?s[0]:{compositeFilter:{op:A1(t.op),filters:s}}})(i):de(54877,{filter:i})}function R1(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function tv(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class di{constructor(e,t,s,a,u=ge.min(),h=ge.min(),m=Pt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class C1{constructor(e){this.yt=e}}function P1(i){const e=w1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_d(e,e.limit,"L"):e}class k1{constructor(){this.Cn=new N1}addToCollectionParentIndex(e,t){return this.Cn.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(_i.min())}updateCollectionGroup(e,t,s){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class N1{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new mt(Ze.comparator),u=!a.has(s);return this.index[t]=a.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(Ze.comparator)).toArray()}}const Bg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nv=41943040;class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(nv,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const $g="LruGarbageCollector",D1=1048576;function Hg([i,e],[t,s]){const a=Ce(i,t);return a===0?Ce(e,s):a}class V1{constructor(e){this.Ir=e,this.buffer=new mt(Hg),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Hg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class O1{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ee($g,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ao(t)?ee($g,"Ignoring IndexedDB error during garbage collection: ",t):await So(t)}await this.Vr(3e5)}))}}class x1{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return z.resolve(sc.ce);const s=new V1(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Bg)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bg):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,u,h,m,y,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,h=Date.now(),this.nthSequenceNumber(e,a)))).next((R=>(s=R,m=Date.now(),this.removeTargets(e,s,t)))).next((R=>(u=R,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((R=>(v=Date.now(),no()<=Re.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${R} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:R}))))}}function L1(i,e){return new x1(i,e)}class M1{constructor(){this.changes=new cs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class F1{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Oa(s.mutation,a,Nn.empty(),Ge.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Pe()){const a=ts();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((u=>{let h=Aa();return u.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=ts();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Pe())))}populateOverlays(e,t,s){const a=[];return s.forEach((u=>{t.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(e,a).next((u=>{u.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,s,a){let u=Nr();const h=Va(),m=(function(){return Va()})();return t.forEach(((y,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof hs)?u=u.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),Oa(w.mutation,v,w.mutation.getFieldMask(),Ge.now())):h.set(v.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((v,w)=>h.set(v,w))),t.forEach(((v,w)=>m.set(v,new b1(w,h.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=Va();let a=new et(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((y=>{const v=t.get(y);if(v===null)return;let w=s.get(y)||Nn.empty();w=m.applyToLocalView(v,w),s.set(y,w);const R=(a.get(m.batchId)||Pe()).add(y);a=a.insert(m.batchId,R)}))})).next((()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,w=y.value,R=b_();w.forEach((V=>{if(!u.has(V)){const j=$_(t.get(V),s.get(V));j!==null&&R.set(V,j),u=u.add(V)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,R))}return z.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(h){return ce.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-u.size):z.resolve(ts());let m=Ua,y=u;return h.next((v=>z.forEach(v,((w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(w)?z.resolve():this.remoteDocumentCache.getEntry(e,w).next((V=>{y=y.insert(w,V)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,y,v,Pe()))).next((w=>({batchId:m,changes:M_(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next((s=>{let a=Aa();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const u=t.collectionGroup;let h=Aa();return this.indexManager.getCollectionParents(e,u).next((m=>z.forEach(m,(y=>{const v=(function(R,V){return new lc(V,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(t,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next((w=>{w.forEach(((R,V)=>{h=h.insert(R,V)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,a)))).next((h=>{u.forEach(((y,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,bt.newInvalidDocument(w)))}));let m=Aa();return h.forEach(((y,v)=>{const w=u.get(y);w!==void 0&&Oa(w.mutation,v,Nn.empty(),Ge.now()),cc(t,v)&&(m=m.insert(y,v))})),m}))}}class U1{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:er(a.createTime)}})(t)),z.resolve()}getNamedQuery(e,t){return z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:P1(a.bundledQuery),readTime:er(a.readTime)}})(t)),z.resolve()}}class j1{constructor(){this.overlays=new et(ce.comparator),this.qr=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ts();return z.forEach(t,(a=>this.getOverlay(e,a).next((u=>{u!==null&&s.set(a,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,u)=>{this.St(e,t,u)})),z.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),z.resolve()}getOverlaysForCollection(e,t,s){const a=ts(),u=t.length+1,h=new ce(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&y.largestBatchId>s&&a.set(y.getKey(),y)}return z.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let u=new et(((v,w)=>v-w));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=u.get(v.largestBatchId);w===null&&(w=ts(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=ts(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,w)=>m.set(v,w))),!(m.size()>=a)););return z.resolve(m)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new i1(t,s));let u=this.qr.get(t);u===void 0&&(u=Pe(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}class z1{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,z.resolve()}}class nf{constructor(){this.Qr=new mt(Et.$r),this.Ur=new mt(Et.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Et(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Et(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ce(new Ze([])),s=new Et(t,e),a=new Et(t,e+1),u=[];return this.Ur.forEachInRange([s,a],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ce(new Ze([])),s=new Et(t,e),a=new Et(t,e+1);let u=Pe();return this.Ur.forEachInRange([s,a],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new Et(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Et{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ce.comparator(e.key,t.key)||Ce(e.Yr,t.Yr)}static Kr(e,t){return Ce(e.Yr,t.Yr)||ce.comparator(e.key,t.key)}}class B1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new mt(Et.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new r1(u,t,s,a);this.mutationQueue.push(h);for(const m of a)this.Zr=this.Zr.add(new Et(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return z.resolve(h)}lookupMutationBatch(e,t){return z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),u=a<0?0:a;return z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?qd:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Et(t,0),a=new Et(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,a],(h=>{const m=this.Xr(h.Yr);u.push(m)})),z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new mt(Ce);return t.forEach((a=>{const u=new Et(a,0),h=new Et(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let u=s;ce.isDocumentKey(u)||(u=u.child(""));const h=new Et(new ce(u),0);let m=new mt(Ce);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.Yr)),!0)}),h),z.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Fe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return z.forEach(t.mutations,(a=>{const u=new Et(a.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Et(t,0),a=this.Zr.firstAfterOrEqual(s);return z.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $1{constructor(e){this.ri=e,this.docs=(function(){return new et(ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),u=a?a.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return z.resolve(s?s.document.mutableCopy():bt.newInvalidDocument(t))}getEntries(e,t){let s=Nr();return t.forEach((a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():bt.newInvalidDocument(a))})),z.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let u=Nr();const h=t.path,m=new ce(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||yS(gS(w),s)<=0||(a.has(w.key)||cc(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return z.resolve(u)}getAllFromCollectionGroup(e,t,s,a){de(9500)}ii(e,t){return z.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new H1(this)}getSize(e){return z.resolve(this.size)}}class H1 extends M1{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class W1{constructor(e){this.persistence=e,this.si=new cs((t=>Qd(t)),Yd),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.oi=0,this._i=new nf,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new _o(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Pr(t),z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,s){let a=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),z.waitFor(u).next((()=>a))}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return z.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),z.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach((h=>{u.push(a.markPotentiallyOrphaned(e,h))})),z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),z.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return z.resolve(s)}containsKey(e,t){return z.resolve(this._i.containsKey(t))}}class rv{constructor(e,t){this.ui={},this.overlays={},this.ci=new sc(0),this.li=!1,this.li=!0,this.hi=new z1,this.referenceDelegate=e(this),this.Pi=new W1(this),this.indexManager=new k1,this.remoteDocumentCache=(function(a){return new $1(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new C1(t),this.Ii=new U1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new j1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new B1(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ee("MemoryPersistence","Starting transaction:",e);const a=new q1(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((u=>this.referenceDelegate.di(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Ai(e,t){return z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class q1 extends vS{constructor(e){super(),this.currentSequenceNumber=e}}class rf{constructor(e){this.persistence=e,this.Ri=new nf,this.Vi=null}static mi(e){return new rf(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),z.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,(s=>{const a=ce.fromPath(s);return this.gi(e,a).next((u=>{u||t.removeEntry(a,ge.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return z.or([()=>z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Xu{constructor(e,t){this.persistence=e,this.pi=new cs((s=>TS(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=L1(this,t)}static mi(e,t){return new Xu(e,t)}Ei(){}di(e){return z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return z.forEach(this.pi,((s,a)=>this.br(e,s,a).next((u=>u?z.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ii(e,(h=>this.br(e,h,t).next((m=>{m||(s++,u.removeEntry(h,ge.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),z.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nu(e.data.value)),t}br(e,t,s){return z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return z.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sf{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Pe(),a=Pe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new sf(e,t.fromCache,s,a)}}class K1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class G1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ew()?8:ES(Ft())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const u={result:null};return this.ys(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,t,a,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new K1;return this.Ss(e,t,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,h,m.size)}))})).next((()=>u.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(no()<=Re.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(no()<=Re.DEBUG&&ee("QueryEngine","Query:",ro(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(no()<=Re.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):z.resolve())}ys(e,t){if(Vg(t))return z.resolve(null);let s=Zn(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=_d(t,null,"F"),s=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const v=this.Ds(t,m);return this.Cs(t,v,h,y.readTime)?this.ys(e,_d(t,null,"F")):this.vs(e,v,t,y)}))))})))))}ws(e,t,s,a){return Vg(t)||a.isEqual(ge.min())?z.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,a)?z.resolve(null):(no()<=Re.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ro(t)),this.vs(e,h,t,mS(a,Ua)).next((m=>m)))}))}Ds(e,t){let s=new mt(x_(e));return t.forEach(((a,u)=>{cc(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Ss(e,t,s){return no()<=Re.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",ro(t)),this.ps.getDocumentsMatchingQuery(e,t,_i.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const of="LocalStore",Q1=3e8;class Y1{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new et(Ce),this.xs=new cs((u=>Qd(u)),Yd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function X1(i,e,t,s){return new Y1(i,e,t,s)}async function iv(i,e){const t=ve(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((u=>(a=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let y=Pe();for(const v of a){h.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of u){m.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return t.localDocuments.getDocuments(s,y).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function J1(i,e){const t=ve(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,w){const R=v.batch,V=R.keys();let j=z.resolve();return V.forEach((X=>{j=j.next((()=>w.getEntry(y,X))).next((Y=>{const q=v.docVersions.get(X);Fe(q!==null,48541),Y.version.compareTo(q)<0&&(R.applyToRemoteDocument(Y,v),Y.isValidDocument()&&(Y.setReadTime(v.commitVersion),w.addEntry(Y)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(y,R)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=Pe();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function sv(i){const e=ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Z1(i,e){const t=ve(i),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const m=[];e.targetChanges.forEach(((w,R)=>{const V=a.get(R);if(!V)return;m.push(t.Pi.removeMatchingKeys(u,w.removedDocuments,R).next((()=>t.Pi.addMatchingKeys(u,w.addedDocuments,R))));let j=V.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?j=j.withResumeToken(Pt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):w.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(w.resumeToken,s)),a=a.insert(R,j),(function(Y,q,me){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=Q1?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(V,j,w)&&m.push(t.Pi.updateTargetData(u,j))}));let y=Nr(),v=Pe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))})),m.push(eA(u,h,e.documentUpdates).next((w=>{y=w.ks,v=w.qs}))),!s.isEqual(ge.min())){const w=t.Pi.getLastRemoteSnapshotVersion(u).next((R=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(w)}return z.waitFor(m).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,y,v))).next((()=>y))})).then((u=>(t.Ms=a,u)))}function eA(i,e,t){let s=Pe(),a=Pe();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Nr();return t.forEach(((m,y)=>{const v=u.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(ge.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):ee(of,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{ks:h,qs:a}}))}function tA(i,e){const t=ve(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=qd),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function nA(i,e){const t=ve(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((u=>u?(a=u,z.resolve(a)):t.Pi.allocateTargetId(s).next((h=>(a=new di(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Id(i,e,t){const s=ve(i),a=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Ao(h))throw h;ee(of,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Wg(i,e,t){const s=ve(i);let a=ge.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,v,w){const R=ve(y),V=R.xs.get(w);return V!==void 0?z.resolve(R.Ms.get(V)):R.Pi.getTargetData(v,w)})(s,h,Zn(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?a:ge.min(),t?u:Pe()))).next((m=>(rA(s,BS(e),m),{documents:m,Qs:u})))))}function rA(i,e,t){let s=i.Os.get(e)||ge.min();t.forEach(((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class qg{constructor(){this.activeTargetIds=GS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iA{constructor(){this.Mo=new qg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sA{Oo(e){}shutdown(){}}const Kg="ConnectivityMonitor";class Gg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(Kg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ee(Kg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Su=null;function Sd(){return Su===null?Su=(function(){return 268435456+Math.round(2147483648*Math.random())})():Su++,"0x"+Su.toString(16)}const ed="RestConnection",oA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Hu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,u){const h=Sd(),m=this.zo(e,t.toUriEncodedString());ee(ed,`Sending RPC '${e}' ${h}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,a,u);const{host:v}=new URL(m),w=Eo(v);return this.Jo(e,m,y,s,w).then((R=>(ee(ed,`Received RPC '${e}' ${h}: `,R),R)),(R=>{throw po(ed,`RPC '${e}' ${h} failed with error: `,R,"url: ",m,"request:",s),R}))}Ho(e,t,s,a,u,h){return this.Go(e,t,s,a,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,u)=>e[u]=a)),s&&s.headers.forEach(((a,u)=>e[u]=a))}zo(e,t){const s=oA[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class lA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Lt="WebChannelConnection";class uA extends aA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,u){const h=Sd();return new Promise(((m,y)=>{const v=new u_;v.setWithCredentials(!0),v.listenOnce(c_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case ku.NO_ERROR:const R=v.getResponseJson();ee(Lt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),m(R);break;case ku.TIMEOUT:ee(Lt,`RPC '${e}' ${h} timed out`),y(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case ku.HTTP_ERROR:const V=v.getStatus();if(ee(Lt,`RPC '${e}' ${h} failed with status:`,V,"response text:",v.getResponseText()),V>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j?.error;if(X&&X.status&&X.message){const Y=(function(me){const ye=me.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ye)>=0?ye:W.UNKNOWN})(X.status);y(new oe(Y,X.message))}else y(new oe(W.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new oe(W.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ee(Lt,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(a);ee(Lt,`RPC '${e}' ${h} sending request:`,a),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const a=Sd(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=f_(),m=d_(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,t,s),y.encodeInitMessageHeaders=!0;const w=u.join("");ee(Lt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const R=h.createWebChannel(w,y);this.I_(R);let V=!1,j=!1;const X=new lA({Yo:q=>{j?ee(Lt,`Not sending because RPC '${e}' stream ${a} is closed:`,q):(V||(ee(Lt,`Opening RPC '${e}' stream ${a} transport.`),R.open(),V=!0),ee(Lt,`RPC '${e}' stream ${a} sending:`,q),R.send(q))},Zo:()=>R.close()}),Y=(q,me,ye)=>{q.listen(me,(Ee=>{try{ye(Ee)}catch(xe){setTimeout((()=>{throw xe}),0)}}))};return Y(R,Sa.EventType.OPEN,(()=>{j||(ee(Lt,`RPC '${e}' stream ${a} transport opened.`),X.o_())})),Y(R,Sa.EventType.CLOSE,(()=>{j||(j=!0,ee(Lt,`RPC '${e}' stream ${a} transport closed`),X.a_(),this.E_(R))})),Y(R,Sa.EventType.ERROR,(q=>{j||(j=!0,po(Lt,`RPC '${e}' stream ${a} transport errored. Name:`,q.name,"Message:",q.message),X.a_(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),Y(R,Sa.EventType.MESSAGE,(q=>{if(!j){const me=q.data[0];Fe(!!me,16349);const ye=me,Ee=ye?.error||ye[0]?.error;if(Ee){ee(Lt,`RPC '${e}' stream ${a} received error:`,Ee);const xe=Ee.status;let Be=(function(I){const A=ct[I];if(A!==void 0)return q_(A)})(xe),Ne=Ee.message;Be===void 0&&(Be=W.INTERNAL,Ne="Unknown error status: "+xe+" with message "+Ee.message),j=!0,X.a_(new oe(Be,Ne)),R.close()}else ee(Lt,`RPC '${e}' stream ${a} received:`,me),X.u_(me)}})),Y(m,h_.STAT_EVENT,(q=>{q.stat===dd.PROXY?ee(Lt,`RPC '${e}' stream ${a} detected buffering proxy`):q.stat===dd.NOPROXY&&ee(Lt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function td(){return typeof document<"u"?document:null}function pc(i){return new f1(i,!0)}class ov{constructor(e,t,s=1e3,a=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Qg="PersistentStream";class av{constructor(e,t,s,a,u,h,m,y){this.Mi=e,this.S_=s,this.b_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ov(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ee(Qg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ee(Qg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cA extends av{constructor(e,t,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=g1(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ge.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ge.min():h.readTime?er(h.readTime):ge.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Td(this.serializer),t.addTarget=(function(u,h){let m;const y=h.target;if(m=yd(y)?{documents:v1(u,y)}:{query:E1(u,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Q_(u,h.resumeToken);const v=vd(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(ge.min())>0){m.readTime=Yu(u,h.snapshotVersion.toTimestamp());const v=vd(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const s=T1(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Td(this.serializer),t.removeTarget=e,this.q_(t)}}class hA extends av{constructor(e,t,s,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=_1(e.writeResults,e.commitTime),s=er(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Td(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>y1(this.serializer,s)))};this.q_(t)}}class dA{}class fA extends dA{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Ed(t,s),a,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(W.UNKNOWN,u.toString())}))}Ho(e,t,s,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Ed(t,s),a,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kr(t),this.aa=!1):ee("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ls="RemoteStore";class mA{constructor(e,t,s,a,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ds(this)&&(ee(ls,"Restarting streams for network reachability change."),await(async function(y){const v=ve(y);v.Ea.add(4),await tl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await mc(v)})(this))}))})),this.Ra=new pA(s,a)}}async function mc(i){if(ds(i))for(const e of i.da)await e(!0)}async function tl(i){for(const e of i.da)await e(!1)}function lv(i,e){const t=ve(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),cf(t)?uf(t):Ro(t).O_()&&lf(t,e))}function af(i,e){const t=ve(i),s=Ro(t);t.Ia.delete(e),s.O_()&&uv(t,e),t.Ia.size===0&&(s.O_()?s.L_():ds(t)&&t.Ra.set("Unknown"))}function lf(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ro(i).Y_(e)}function uv(i,e){i.Va.Ue(e),Ro(i).Z_(e)}function uf(i){i.Va=new u1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ro(i).start(),i.Ra.ua()}function cf(i){return ds(i)&&!Ro(i).x_()&&i.Ia.size>0}function ds(i){return ve(i).Ea.size===0}function cv(i){i.Va=void 0}async function gA(i){i.Ra.set("Online")}async function yA(i){i.Ia.forEach(((e,t)=>{lf(i,e)}))}async function _A(i,e){cv(i),cf(i)?(i.Ra.ha(e),uf(i)):i.Ra.set("Unknown")}async function vA(i,e,t){if(i.Ra.set("Online"),e instanceof G_&&e.state===2&&e.cause)try{await(async function(a,u){const h=u.cause;for(const m of u.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ia.delete(m),a.Va.removeTarget(m))})(i,e)}catch(s){ee(ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ju(i,s)}else if(e instanceof Ou?i.Va.Ze(e):e instanceof K_?i.Va.st(e):i.Va.tt(e),!t.isEqual(ge.min()))try{const s=await sv(i.localStore);t.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=u.Ia.get(v);w&&u.Ia.set(v,w.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,v)=>{const w=u.Ia.get(y);if(!w)return;u.Ia.set(y,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),uv(u,y);const R=new di(w.target,y,v,w.sequenceNumber);lf(u,R)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){ee(ls,"Failed to raise snapshot:",s),await Ju(i,s)}}async function Ju(i,e,t){if(!Ao(e))throw e;i.Ea.add(1),await tl(i),i.Ra.set("Offline"),t||(t=()=>sv(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ee(ls,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await mc(i)}))}function hv(i,e){return e().catch((t=>Ju(i,t,e)))}async function gc(i){const e=ve(i),t=Ti(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qd;for(;EA(e);)try{const a=await tA(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,wA(e,a)}catch(a){await Ju(e,a)}dv(e)&&fv(e)}function EA(i){return ds(i)&&i.Ta.length<10}function wA(i,e){i.Ta.push(e);const t=Ti(i);t.O_()&&t.X_&&t.ea(e.mutations)}function dv(i){return ds(i)&&!Ti(i).x_()&&i.Ta.length>0}function fv(i){Ti(i).start()}async function TA(i){Ti(i).ra()}async function IA(i){const e=Ti(i);for(const t of i.Ta)e.ea(t.mutations)}async function SA(i,e,t){const s=i.Ta.shift(),a=Zd.from(s,e,t);await hv(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await gc(i)}async function AA(i,e){e&&Ti(i).X_&&await(async function(s,a){if((function(h){return o1(h)&&h!==W.ABORTED})(a.code)){const u=s.Ta.shift();Ti(s).B_(),await hv(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a))),await gc(s)}})(i,e),dv(i)&&fv(i)}async function Yg(i,e){const t=ve(i);t.asyncQueue.verifyOperationInProgress(),ee(ls,"RemoteStore received new credentials");const s=ds(t);t.Ea.add(3),await tl(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await mc(t)}async function RA(i,e){const t=ve(i);e?(t.Ea.delete(2),await mc(t)):e||(t.Ea.add(2),await tl(t),t.Ra.set("Unknown"))}function Ro(i){return i.ma||(i.ma=(function(t,s,a){const u=ve(t);return u.sa(),new cA(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(i.datastore,i.asyncQueue,{Xo:gA.bind(null,i),t_:yA.bind(null,i),r_:_A.bind(null,i),H_:vA.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),cf(i)?uf(i):i.Ra.set("Unknown")):(await i.ma.stop(),cv(i))}))),i.ma}function Ti(i){return i.fa||(i.fa=(function(t,s,a){const u=ve(t);return u.sa(),new hA(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:TA.bind(null,i),r_:AA.bind(null,i),ta:IA.bind(null,i),na:SA.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await gc(i)):(await i.fa.stop(),i.Ta.length>0&&(ee(ls,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class hf{constructor(e,t,s,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,u){const h=Date.now()+s,m=new hf(e,t,h,a,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function df(i,e){if(kr("AsyncQueue",`${e}: ${i}`),Ao(i))return new oe(W.UNAVAILABLE,`${e}: ${i}`);throw i}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ce.comparator(t.key,s.key):(t,s)=>ce.comparator(t.key,s.key),this.keyedMap=Aa(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Xg{constructor(){this.ga=new et(ce.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class vo{constructor(e,t,s,a,u,h,m,y,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,a,u){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new vo(e,t,co.emptySet(t),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class CA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PA{constructor(){this.queries=Jg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=ve(t),u=a.queries;a.queries=Jg(),u.forEach(((h,m)=>{for(const y of m.Sa)y.onError(s)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function Jg(){return new cs((i=>O_(i)),uc)}async function kA(i,e){const t=ve(i);let s=3;const a=e.query;let u=t.queries.get(a);u?!u.ba()&&e.Da()&&(s=2):(u=new CA,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(a,!0);break;case 1:u.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const m=df(h,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&ff(t)}async function NA(i,e){const t=ve(i),s=e.query;let a=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?a=e.Da()?0:1:!u.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function DA(i,e){const t=ve(i);let s=!1;for(const a of e){const u=a.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Fa(a)&&(s=!0);h.wa=a}}s&&ff(t)}function VA(i,e,t){const s=ve(i),a=s.queries.get(e);if(a)for(const u of a.Sa)u.onError(t);s.queries.delete(e)}function ff(i){i.Ca.forEach((e=>{e.next()}))}var Ad,Zg;(Zg=Ad||(Ad={})).Ma="default",Zg.Cache="cache";class OA{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ad.Cache}}class pv{constructor(e){this.key=e}}class mv{constructor(e){this.key=e}}class xA{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=x_(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Xg,a=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((w,R)=>{const V=a.get(w),j=cc(this.query,R)?R:null,X=!!V&&this.mutatedKeys.has(V.key),Y=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let q=!1;V&&j?V.data.isEqual(j.data)?X!==Y&&(s.track({type:3,doc:j}),q=!0):this.su(V,j)||(s.track({type:2,doc:j}),q=!0,(y&&this.eu(j,y)>0||v&&this.eu(j,v)<0)&&(m=!0)):!V&&j?(s.track({type:0,doc:j}),q=!0):V&&!j&&(s.track({type:1,doc:V}),q=!0,(y||v)&&(m=!0)),q&&(j?(h=h.add(j),u=Y?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,R)=>(function(j,X){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:q})}};return Y(j)-Y(X)})(w.type,R.type)||this.eu(w.doc,R.doc))),this.ou(s),a=a??!1;const m=t&&!a?this._u():[],y=this.Xa.size===0&&this.current&&!a?1:0,v=y!==this.Za;return this.Za=y,h.length!==0||v?{snapshot:new vo(this.query,e.tu,u,h,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new mv(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new pv(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Pe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pf="SyncEngine";class LA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class MA{constructor(e){this.key=e,this.hu=!1}}class bA{constructor(e,t,s,a,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new cs((m=>O_(m)),uc),this.Iu=new Map,this.Eu=new Set,this.du=new et(ce.comparator),this.Au=new Map,this.Ru=new nf,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FA(i,e,t=!0){const s=wv(i);let a;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.lu()):a=await gv(s,e,t,!0),a}async function UA(i,e){const t=wv(i);await gv(t,e,!0,!1)}async function gv(i,e,t,s){const a=await nA(i.localStore,Zn(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await jA(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&t&&lv(i.remoteStore,a),m}async function jA(i,e,t,s,a){i.pu=(R,V,j)=>(async function(Y,q,me,ye){let Ee=q.view.ru(me);Ee.Cs&&(Ee=await Wg(Y.localStore,q.query,!1).then((({documents:k})=>q.view.ru(k,Ee))));const xe=ye&&ye.targetChanges.get(q.targetId),Be=ye&&ye.targetMismatches.get(q.targetId)!=null,Ne=q.view.applyChanges(Ee,Y.isPrimaryClient,xe,Be);return ty(Y,q.targetId,Ne.au),Ne.snapshot})(i,R,V,j);const u=await Wg(i.localStore,e,!0),h=new xA(e,u.Qs),m=h.ru(u.documents),y=el.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,y);ty(i,t,v.au);const w=new LA(e,t,h);return i.Tu.set(e,w),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),v.snapshot}async function zA(i,e,t){const s=ve(i),a=s.Tu.get(e),u=s.Iu.get(a.targetId);if(u.length>1)return s.Iu.set(a.targetId,u.filter((h=>!uc(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Id(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&af(s.remoteStore,a.targetId),Rd(s,a.targetId)})).catch(So)):(Rd(s,a.targetId),await Id(s.localStore,a.targetId,!0))}async function BA(i,e){const t=ve(i),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),af(t.remoteStore,s.targetId))}async function $A(i,e,t){const s=YA(i);try{const a=await(function(h,m){const y=ve(h),v=Ge.now(),w=m.reduce(((j,X)=>j.add(X.key)),Pe());let R,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let X=Nr(),Y=Pe();return y.Ns.getEntries(j,w).next((q=>{X=q,X.forEach(((me,ye)=>{ye.isValidDocument()||(Y=Y.add(me))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,X))).next((q=>{R=q;const me=[];for(const ye of m){const Ee=t1(ye,R.get(ye.key).overlayedDocument);Ee!=null&&me.push(new hs(ye.key,Ee,R_(Ee.value.mapValue),Rr.exists(!0)))}return y.mutationQueue.addMutationBatch(j,v,me,m)})).next((q=>{V=q;const me=q.applyToLocalDocumentSet(R,Y);return y.documentOverlayCache.saveOverlays(j,q.batchId,me)}))})).then((()=>({batchId:V.batchId,changes:M_(R)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(h,m,y){let v=h.Vu[h.currentUser.toKey()];v||(v=new et(Ce)),v=v.insert(m,y),h.Vu[h.currentUser.toKey()]=v})(s,a.batchId,t),await nl(s,a.changes),await gc(s.remoteStore)}catch(a){const u=df(a,"Failed to persist write");t.reject(u)}}async function yv(i,e){const t=ve(i);try{const s=await Z1(t.localStore,e);e.targetChanges.forEach(((a,u)=>{const h=t.Au.get(u);h&&(Fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?Fe(h.hu,14607):a.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await nl(t,s,e)}catch(s){await So(s)}}function ey(i,e,t){const s=ve(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(h,m){const y=ve(h);y.onlineState=m;let v=!1;y.queries.forEach(((w,R)=>{for(const V of R.Sa)V.va(m)&&(v=!0)})),v&&ff(y)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function HA(i,e,t){const s=ve(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),u=a&&a.key;if(u){let h=new et(ce.comparator);h=h.insert(u,bt.newNoDocument(u,ge.min()));const m=Pe().add(u),y=new fc(ge.min(),new Map,new et(Ce),h,m);await yv(s,y),s.du=s.du.remove(u),s.Au.delete(e),mf(s)}else await Id(s.localStore,e,!1).then((()=>Rd(s,e,t))).catch(So)}async function WA(i,e){const t=ve(i),s=e.batch.batchId;try{const a=await J1(t.localStore,e);vv(t,s,null),_v(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await nl(t,a)}catch(a){await So(a)}}async function qA(i,e,t){const s=ve(i);try{const a=await(function(h,m){const y=ve(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return y.mutationQueue.lookupMutationBatch(v,m).next((R=>(Fe(R!==null,37113),w=R.keys(),y.mutationQueue.removeMutationBatch(v,R)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,w,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>y.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);vv(s,e,t),_v(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await nl(s,a)}catch(a){await So(a)}}function _v(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function vv(i,e,t){const s=ve(i);let a=s.Vu[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Rd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Ev(i,s)}))}function Ev(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(af(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),mf(i))}function ty(i,e,t){for(const s of t)s instanceof pv?(i.Ru.addReference(s.key,e),KA(i,s)):s instanceof mv?(ee(pf,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Ev(i,s.key)):de(19791,{wu:s})}function KA(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ee(pf,"New document in limbo: "+t),i.Eu.add(s),mf(i))}function mf(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ce(Ze.fromString(e)),s=i.fu.next();i.Au.set(s,new MA(t)),i.du=i.du.insert(t,s),lv(i.remoteStore,new di(Zn(Xd(t.path)),s,"TargetPurposeLimboResolution",sc.ce))}}async function nl(i,e,t){const s=ve(i),a=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{h.push(s.pu(y,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(v){a.push(v);const w=sf.As(y.targetId,v);u.push(w)}})))})),await Promise.all(h),s.Pu.H_(a),await(async function(y,v){const w=ve(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>z.forEach(v,(V=>z.forEach(V.Es,(j=>w.persistence.referenceDelegate.addReference(R,V.targetId,j))).next((()=>z.forEach(V.ds,(j=>w.persistence.referenceDelegate.removeReference(R,V.targetId,j)))))))))}catch(R){if(!Ao(R))throw R;ee(of,"Failed to update sequence numbers: "+R)}for(const R of v){const V=R.targetId;if(!R.fromCache){const j=w.Ms.get(V),X=j.snapshotVersion,Y=j.withLastLimboFreeSnapshotVersion(X);w.Ms=w.Ms.insert(V,Y)}}})(s.localStore,u))}async function GA(i,e){const t=ve(i);if(!t.currentUser.isEqual(e)){ee(pf,"User change. New user:",e.toKey());const s=await iv(t.localStore,e);t.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new oe(W.CANCELLED,h))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await nl(t,s.Ls)}}function QA(i,e){const t=ve(i),s=t.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let a=Pe();const u=t.Iu.get(e);if(!u)return a;for(const h of u){const m=t.Tu.get(h);a=a.unionWith(m.view.nu)}return a}}function wv(i){const e=ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HA.bind(null,e),e.Pu.H_=DA.bind(null,e.eventManager),e.Pu.yu=VA.bind(null,e.eventManager),e}function YA(i){const e=ve(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qA.bind(null,e),e}class Zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return X1(this.persistence,new G1,e.initialUser,this.serializer)}Cu(e){return new rv(rf.mi,this.serializer)}Du(e){return new iA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zu.provider={build:()=>new Zu};class XA extends Zu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Fe(this.persistence.referenceDelegate instanceof Xu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new O1(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new rv((s=>Xu.mi(s,t)),this.serializer)}}class Cd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ey(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GA.bind(null,this.syncEngine),await RA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PA})()}createDatastore(e){const t=pc(e.databaseInfo.databaseId),s=(function(u){return new uA(u)})(e.databaseInfo);return(function(u,h,m,y){return new fA(u,h,m,y)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,u,h,m){return new mA(s,a,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>ey(this.syncEngine,t,0)),(function(){return Gg.v()?new Gg:new sA})())}createSyncEngine(e,t){return(function(a,u,h,m,y,v,w){const R=new bA(a,u,h,m,y,v);return w&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=ve(t);ee(ls,"RemoteStore shutting down."),s.Ea.add(5),await tl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cd.provider={build:()=>new Cd};class JA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ii="FirestoreClient";class ZA{constructor(e,t,s,a,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=Hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ee(Ii,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ee(Ii,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=df(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function nd(i,e){i.asyncQueue.verifyOperationInProgress(),ee(Ii,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await iv(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function ny(i,e){i.asyncQueue.verifyOperationInProgress();const t=await eR(i);ee(Ii,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>Yg(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>Yg(e.remoteStore,a))),i._onlineComponents=e}async function eR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ee(Ii,"Using user provided OfflineComponentProvider");try{await nd(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===W.FAILED_PRECONDITION||a.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;po("Error using user provided cache. Falling back to memory cache: "+t),await nd(i,new Zu)}}else ee(Ii,"Using default OfflineComponentProvider"),await nd(i,new XA(void 0));return i._offlineComponents}async function Tv(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ee(Ii,"Using user provided OnlineComponentProvider"),await ny(i,i._uninitializedComponentsProvider._online)):(ee(Ii,"Using default OnlineComponentProvider"),await ny(i,new Cd))),i._onlineComponents}function tR(i){return Tv(i).then((e=>e.syncEngine))}async function nR(i){const e=await Tv(i),t=e.eventManager;return t.onListen=FA.bind(null,e.syncEngine),t.onUnlisten=zA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BA.bind(null,e.syncEngine),t}function rR(i,e,t={}){const s=new yi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,y,v){const w=new JA({next:V=>{w.Nu(),h.enqueueAndForget((()=>NA(u,R)));const j=V.docs.has(m);!j&&V.fromCache?v.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&V.fromCache&&y&&y.source==="server"?v.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(V)},error:V=>v.reject(V)}),R=new OA(Xd(m.path),w,{includeMetadataChanges:!0,qa:!0});return kA(u,R)})(await nR(i),i.asyncQueue,e,t,s))),s.promise}function Iv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const ry=new Map;const Sv="firestore.googleapis.com",iy=!0;class sy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sv,this.ssl=iy}else this.host=e.host,this.ssl=e.ssl??iy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<D1)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iv(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new rS;switch(s.type){case"firstParty":return new aS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=ry.get(t);s&&(ee("ComponentProvider","Removing Datastore"),ry.delete(t),s.terminate())})(this),Promise.resolve()}}function iR(i,e,t,s={}){i=Fa(i,gf);const a=Eo(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;a&&(Ey(`https://${m}`),wy("Firestore",!0)),u.host!==Sv&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:a,emulatorOptions:s};if(!rs(y,h)&&(i._setSettings(y),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=Mt.MOCK_USER;else{v=hw(s.mockUserToken,i._app?.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Mt(R)}i._authCredentials=new iS(new m_(v,w))}}class yf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yf(this.firestore,e,this._query)}}class wt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ja(t,wt._jsonSchema))return new wt(e,s||null,new ce(Ze.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:ht("string",wt._jsonSchemaVersion),referencePath:ht("string")};class Wa extends yf{constructor(e,t,s){super(e,t,Xd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new ce(e))}withConverter(e){return new Wa(this.firestore,e,this._path)}}function oy(i,e,...t){if(i=Yt(i),arguments.length===1&&(e=Hd.newId()),fS("doc","path",e),i instanceof gf){const s=Ze.fromString(e,...t);return vg(s),new wt(i,null,new ce(s))}{if(!(i instanceof wt||i instanceof Wa))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...t));return vg(s),new wt(i.firestore,i instanceof Wa?i.converter:null,new ce(s))}}const ay="AsyncQueue";class ly{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ov(this,"async_queue_retry"),this._c=()=>{const s=td();s&&ee(ay,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=td();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=td();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;ee(ay,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,kr("INTERNAL UNHANDLED ERROR: ",uy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=hf.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(a),a}uc(){this.nc&&de(47125,{Pc:uy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function uy(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class _f extends gf{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new ly,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ly(e),this._firestoreClient=void 0,await e}}}function sR(i,e){const t=typeof i=="object"?i:Ay(),s=typeof i=="string"?i:Hu,a=Dd(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=uw("firestore");u&&iR(a,...u)}return a}function Av(i){if(i._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||oR(i),i._firestoreClient}function oR(i){const e=i._freezeSettings(),t=(function(a,u,h,m){return new AS(a,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Iv(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new ZA(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(i._componentsProvider))}class yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yn(Pt.fromBase64String(e))}catch(t){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yn(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ja(e,yn._jsonSchema))return yn.fromBase64String(e.bytes)}}yn._jsonSchemaVersion="firestore/bytes/1.0",yn._jsonSchema={type:ht("string",yn._jsonSchemaVersion),bytes:ht("string")};class vf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rv{constructor(e){this._methodName=e}}class tr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(e){if(Ja(e,tr._jsonSchema))return new tr(e.latitude,e.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:ht("string",tr._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};class nr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ja(e,nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new nr(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nr._jsonSchemaVersion="firestore/vectorValue/1.0",nr._jsonSchema={type:ht("string",nr._jsonSchemaVersion),vectorValues:ht("object")};const aR=/^__.*__$/;class lR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Za(e,this.data,t,this.fieldTransforms)}}function Cv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:i})}}class Ef{constructor(e,t,s,a,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ef({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ec(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Cv(this.Ac)&&aR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||pc(e)}Cc(e,t,s,a=!1){return new Ef({Ac:e,methodName:t,Dc:s,path:Ct.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cR(i){const e=i._freezeSettings(),t=pc(i._databaseId);return new uR(i._databaseId,!!e.ignoreUndefinedProperties,t)}function hR(i,e,t,s,a,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,t,a);Dv("Data must be an object, but it was:",h,s);const m=kv(s,h);let y,v;if(u.merge)y=new Nn(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const R of u.mergeFields){const V=dR(e,R,t);if(!h.contains(V))throw new oe(W.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);pR(w,V)||w.push(V)}y=new Nn(w),v=h.fieldTransforms.filter((R=>y.covers(R.field)))}else y=null,v=h.fieldTransforms;return new lR(new gn(m),y,v)}function Pv(i,e){if(Nv(i=Yt(i)))return Dv("Unsupported field value:",e,i),kv(i,e);if(i instanceof Rv)return(function(s,a){if(!Cv(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const u=[];let h=0;for(const m of s){let y=Pv(m,a.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,a){if((s=Yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QS(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ge.fromDate(s);return{timestampValue:Yu(a.serializer,u)}}if(s instanceof Ge){const u=new Ge(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yu(a.serializer,u)}}if(s instanceof tr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yn)return{bytesValue:Q_(a.serializer,s._byteString)};if(s instanceof wt){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tf(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof nr)return(function(h,m){return{mapValue:{fields:{[S_]:{stringValue:A_},[Wu]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw m.Sc("VectorValues must only contain numeric values.");return Jd(m.serializer,v)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Wd(s)}`)})(i,e)}function kv(i,e){const t={};return __(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(i,((s,a)=>{const u=Pv(a,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function Nv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ge||i instanceof tr||i instanceof yn||i instanceof wt||i instanceof Rv||i instanceof nr)}function Dv(i,e,t){if(!Nv(t)||!g_(t)){const s=Wd(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function dR(i,e,t){if((e=Yt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return Vv(i,e);throw ec("Field path arguments must be of type string or ",i,!1,void 0,t)}const fR=new RegExp("[~\\*/\\[\\]]");function Vv(i,e,t){if(e.search(fR)>=0)throw ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new vf(...e.split("."))._internalPath}catch{throw ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ec(i,e,t,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${s}`),h&&(y+=` in document ${a}`),y+=")"),new oe(W.INVALID_ARGUMENT,m+i+y)}function pR(i,e){return i.some((t=>t.isEqual(e)))}class Ov{constructor(e,t,s,a,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mR extends Ov{data(){return super.data()}}function xv(i,e){return typeof e=="string"?Vv(i,e):e instanceof vf?e._internalPath:e._delegate._internalPath}class gR{convertValue(e,t="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return us(e,((a,u)=>{s[a]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[Wu].arrayValue?.values?.map((s=>ot(s.doubleValue)));return new nr(t)}convertGeoPoint(e){return new tr(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ac(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ja(e));default:return null}}convertTimestamp(e){const t=vi(e);return new Ge(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ze.fromString(e);Fe(tv(s),9688,{name:e});const a=new za(s.get(1),s.get(3)),u=new ce(s.popFirst(5));return a.isEqual(t)||kr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function yR(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Ca{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ns extends Ov{constructor(e,t,s,a,u,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(xv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ns._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",ns._jsonSchema={type:ht("string",ns._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class xu extends ns{data(e={}){return super.data(e)}}class xa{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ca(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new xu(this._firestore,this._userDataWriter,s.key,s,new Ca(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((m=>{const y=new xu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ca(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new xu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ca(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:_R(m.type),doc:y,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _R(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:i})}}function vR(i){i=Fa(i,wt);const e=Fa(i.firestore,_f);return rR(Av(e),i._key).then((t=>TR(e,i,t)))}xa._jsonSchemaVersion="firestore/querySnapshot/1.0",xa._jsonSchema={type:ht("string",xa._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class ER extends gR{constructor(e){super(),this.firestore=e}convertBytes(e){return new yn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function cy(i,e,t){i=Fa(i,wt);const s=Fa(i.firestore,_f),a=yR(i.converter,e,t);return wR(s,[hR(cR(s),"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,Rr.none())])}function wR(i,e){return(function(s,a){const u=new yi;return s.asyncQueue.enqueueAndForget((async()=>$A(await tR(s),a,u))),u.promise})(Av(i),e)}function TR(i,e,t){const s=t.docs.get(e._key),a=new ER(i);return new ns(i,a,e._key,s,new Ca(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Io=a})(wo),fo(new is("firestore",((s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new _f(new sS(s.getProvider("auth-internal")),new lS(h,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(v.options.projectId,w)})(h,a),h);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),mi(mg,gg,e),mi(mg,gg,"esm2020")})();const IR={apiKey:"AIzaSyDs9YVfweYNvGrgkmWmzQNLh4M93_1nJ-g",authDomain:"tracker-11c05.firebaseapp.com",projectId:"tracker-11c05",storageBucket:"tracker-11c05.firebasestorage.app",messagingSenderId:"589487276900",appId:"1:589487276900:web:7945391e1b9b75bca3f071",measurementId:"G-TS9WCC2E8Q"},Lv=Sy(IR),ho=tS(Lv),hy=sR(Lv);jI(ho,jd).then(()=>{console.log("Firebase Auth Persistence set to browserSessionPersistence.")}).catch(i=>{console.error("Failed to set auth persistence:",i)});const SR=new Ir;function AR(){const[i,e]=Qt.useState(""),[t,s]=Qt.useState(""),[a,u]=Qt.useState(!1),[h,m]=Qt.useState(null),y=async w=>{w.preventDefault(),m(null);try{a?await FI(ho,i,t):await UI(ho,i,t)}catch(R){m(R.message)}},v=async()=>{m(null);try{await m0(ho,SR)}catch(w){m(w.message)}};return pe.jsx("div",{className:"login-container",children:pe.jsxs("div",{className:"login-card",children:[pe.jsx("h1",{children:"Welcome to the Tracker"}),pe.jsx("p",{children:"Please log in or register to save your data."}),pe.jsx("button",{onClick:v,className:"google-btn",children:"Sign In with Google"}),pe.jsxs("div",{className:"divider",children:[pe.jsx("hr",{}),pe.jsx("span",{children:"OR"}),pe.jsx("hr",{})]}),pe.jsxs("form",{onSubmit:y,className:"email-form",children:[pe.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:w=>e(w.target.value),required:!0}),pe.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:w=>s(w.target.value),required:!0}),h&&pe.jsx("p",{className:"error-message",children:h}),pe.jsx("button",{type:"submit",className:"email-btn",children:a?"Register":"Log In"})]}),pe.jsx("button",{className:"mode-toggle-btn",onClick:()=>u(!a),children:a?"Already have an account? Log In":"Need an account? Register"})]})})}const dy={factory:["metal","wood","plastic","seedlings","mineral","textile","glass","chemical","sugar","spice"],"hardware store":["nail","plank","hammer","measuring tape","shovel","ladder"],"farmers market":["tomato","corn","vegetable","flour bag","fruit","cream"],"building supplies":["brick","cement","glue","paint","wire","mower"],"furniture store":["chair","table","home textiles","cupboard","lighting system","garden furniture"],"fashion store":["cap","shoes","dress","backpack","watch","suit"],"fast food shop":["burger","pizza","ice cream sandwich","cheese fries","sub sandwich","drink"],"lemonade stand":["smoothie","donut","green smoothie","taco","burrito","sandwich"],"donut shop":["bread roll","bagel","coffee","croissant","cookie","triple shot espresso"],bakery:["donut","baguette","cake","cherry cheesecake","frozen yogurt","cobbler"]},RR=i=>{const e={};return Object.values(i).flat().forEach(t=>{e[t]={have:0,target:0}}),e},CR={simcash:{have:0},simoleons:{have:0},"golden keys":{have:0},"platinum keys":{have:0},"regional coins":{have:0},"war simoleons":{have:0},"contest currency":{have:0},"fire extinguisher":{have:0},"fuel canister":{have:0},"giga-charge":{have:0},missile:{have:0},shield:{have:0},laser:{have:0},magnet:{have:0},gumball:{have:0},vortex:{have:0},"disco fever":{have:0},"dozer blade":{have:0},"dozer wheel":{have:0},"dozer exhaust":{have:0},"expansion item":{have:0},"storage bar":{have:0},"storage lock":{have:0},"storage camera":{have:0},"vu remote":{have:0},"vu glove":{have:0},"vu battery":{have:0},"regional map":{have:0},"regional compass":{have:0},"regional flag":{have:0}},to={inventoryItems:RR(dy),productionBuildingDefinitions:dy,utilityItems:CR,cargoOrders:[],warTracker:[],buildingUpgrades:[],epicProject:{points:0,goal:200,maxGoal:1e3}};function PR(){const[i,e]=Qt.useState(null),[t,s]=Qt.useState(!0),[a,u]=Qt.useState(to),h=i?.uid,m=h?oy(hy,"users",h):null,y=Qt.useCallback(async V=>{if(m)try{await cy(m,V,{merge:!0})}catch(j){console.error("Error saving data:",j)}},[m]),v=Qt.useCallback(async V=>{const j=oy(hy,"users",V);try{const X=await vR(j);if(X.exists()){const Y=X.data();u({...to,...Y})}else console.log("No saved data found, initializing state."),await cy(j,to),u(to)}catch(X){console.error("Error loading data:",X),u(to)}},[]);Qt.useEffect(()=>{const V=$I(ho,async j=>{e(j),j?await v(j.uid):u(to),s(!1)});return()=>V()},[v]);const w=Qt.useCallback((V,j)=>{const X={...a,[V]:j};u(X),y(X)},[a,y]),R=()=>{HI(ho)};return t?pe.jsx("div",{className:"loading-screen",children:"Loading authentication..."}):i?!a||!a.inventoryItems||!a.utilityItems?pe.jsx("div",{className:"loading-screen",children:"Loading user data..."}):pe.jsxs("div",{className:"app-container",children:[pe.jsxs("header",{className:"simcity-header",children:[pe.jsx("h1",{children:"SimCity BuildIt Tracker"}),pe.jsxs("div",{className:"user-info",children:["Logged in as: ",pe.jsx("strong",{children:i.email}),pe.jsx("button",{onClick:R,className:"logout-button",children:"Log Out"})]})]}),pe.jsx(ew,{trackerData:a,updateTrackerState:w})]}):pe.jsx(AR,{setUser:e})}JE.createRoot(document.getElementById("root")).render(pe.jsx(WE.StrictMode,{children:pe.jsx(PR,{})}));
